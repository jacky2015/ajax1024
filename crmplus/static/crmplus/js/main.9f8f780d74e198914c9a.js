webpackJsonp([2,0],[function(e,t,n){n(90),e.exports=n(90)},,,,function(e,t,n){"use strict";var a=n(14),r=n(181),l=n(176),o=n(40),u=n(177),c=n(178),s=n(182),i=n(180),d=n(52),f=n(179);e.exports=Object.assign({},a,l,o,u,r,c,i,d,f,s)},,,,,,,,,,function(e,t,n){"use strict";n(220),n(195).polyfill(),e.exports={token:localStorage.__token||null,resource:function(e,t,n){fetch(e.url,{method:e.method||"POST",headers:e.headers||{"Content-Type":"application/json",token:this.token},body:JSON.stringify(e.body)||null,mode:"cors",credentials:"include"}).then(function(e){return e.json()}).then(function(e){1==e.status?t(e):401==e.status?(localStorage.clear(),sessionStorage.clear(),location.href="/login"):n(e)}).catch(function(t){console.error(t),console.log("Request Error! === "+e.url||e)})},setloading:function(){return function(e,t){e({type:"SET_LOADING",data:"1"})}}}},,,,,,,function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Head=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(149),_=n(39),y=t.Head=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"clicklINKS",value:function(e){location.href=e}},{key:"componentWillMount",value:function(){this.props.admin_data||this.props.get_login_data()}},{key:"mockUser",value:function(){$.jy.pop_float_modal("yes","#showMockUser")}},{key:"loginOut",value:function(){this.props.logout({},function(){localStorage.clear(),sessionStorage.clear(),location.href="/login"})}},{key:"goBack",value:function(e){window.history.back()}},{key:"render",value:function(){var e=this,t=window.location.pathname,n=this.props.pathname.pathname||"",a=this.props.admin_data||{},r="",l="/";n.indexOf("reserve")!=-1?(r="reserveHead",l="/reserve"):n.indexOf("statistics")!=-1?(r="reserveHead",l="/reserve"):n.indexOf("support")!=-1?(r="supportHead",l="/support"):n.indexOf("examine")!=-1?(r="reserveHead",l="/reserve"):r="otherHead";var o=$G("urlform");return console.log("topHeadClass",r),i.default.createElement("div",{className:"fixedTop"},i.default.createElement("div",{className:"headerNav "+r},i.default.createElement("a",{href:l},i.default.createElement("div",{className:"logo"})),function(){return"supportHead"==r?i.default.createElement("ul",null,i.default.createElement("li",{className:"/support"==n?"curr":"",onClick:e.clicklINKS.bind(e,"/support")},"客服工单"),i.default.createElement("li",{className:n.indexOf("product")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/product/support")},"产品查询"),i.default.createElement("li",{className:n.indexOf("terminology")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/terminology")},"话术查询"),i.default.createElement("li",{className:n.indexOf("message")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/message")},"留言板")):"reserveHead"==r?i.default.createElement("ul",null,i.default.createElement("li",{className:"/reserve"==t?"curr":"",onClick:e.clicklINKS.bind(e,"/reserve")}," 预约单"),i.default.createElement("li",{className:"/examine"==t?"curr":"",onClick:e.clicklINKS.bind(e,"/examine")}," 快速操作"),i.default.createElement("li",{className:n.indexOf("product")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/product/reserve")},"产品查询"),i.default.createElement("li",{className:"/statistics"==t?"curr":"",onClick:e.clicklINKS.bind(e,"/statistics")}," 预约统计")):"otherHead"==r?(console.log(o),"reserve"==o?i.default.createElement("ul",null,i.default.createElement("li",{className:n.indexOf("support")!=-1?"curr":"",onClick:function(){return e.goBack("reserve")}},"预约单"),i.default.createElement("li",{className:n.indexOf("product")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/product")},"产品查询")):"support"==o?i.default.createElement("ul",null,i.default.createElement("li",{className:"/support"==n?"curr":"",onClick:function(){return e.goBack("support")}},"客服工单"),i.default.createElement("li",{className:n.indexOf("product")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/product")},"产品查询"),i.default.createElement("li",{className:n.indexOf("terminology")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/terminology")},"话术查询"),i.default.createElement("li",{className:n.indexOf("message")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/message")},"留言板")):i.default.createElement("ul",null,i.default.createElement("li",{className:n.indexOf("support")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/support")},"客服工单"),i.default.createElement("li",{className:n.indexOf("product")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/product")},"产品查询"),i.default.createElement("li",{className:n.indexOf("terminology")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/terminology")},"话术查询"),i.default.createElement("li",{className:n.indexOf("message")!=-1?"curr":"",onClick:e.clicklINKS.bind(e,"/message")},"留言板"))):void 0}(),function(){if(99==a.role_code)return i.default.createElement("span",{className:"btn btn-sm btn-success margin5-right",onClick:function(t){return e.mockUser()}},"模拟角色")}(),i.default.createElement("div",{className:"admin"},i.default.createElement("span",{className:"name"},a.realname||a.username),"    ",i.default.createElement("span",{className:"fa-angle-down fa"}),i.default.createElement("ul",{className:"popList"},i.default.createElement("li",null,a.role_name),i.default.createElement("li",{onClick:function(){return e.loginOut()}},"退出登录")))),i.default.createElement(_.FloatModal,{showDOM:i.default.createElement(h.MockUser,null),title:"角色模拟",refId:"showMockUser"}))}}]),t}(i.default.Component),E=function(e){return{pathname:e.routing.locationBeforeTransitions,admin_data:e.dictionary.admin_data}},b=function(e){return{get_login_data:function(t){return e(v.get_login_data(t))},goUrl:function(t){return e(v.goUrl(t))},logout:function(t,n){return e(v.logout(t,n))}}};t.default=t.Head=y=(0,d.connect)(E,b)(y)},,,,,,,,,,,function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SupportItem=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=(a(m),t.SupportItem=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props.support||{},t=this.props.support.supportlogs||[],n=this.props.type,a=null;return"support"==n&&e.id==this.props.id&&(a="on"),i.default.createElement("div",{className:"listRecord"},function(){var n=null;return n=t.length?t.map(function(e,t){return i.default.createElement("div",{className:"item block",key:e.id},i.default.createElement("div",{className:"h-4 col-sm-1 fa fa-user-o"}),i.default.createElement("div",{className:"h-4 col-sm-5"},i.default.createElement("p",{className:"h-2"},e.realname||"-"),i.default.createElement("p",{className:"h-2"},e.content||"-")),i.default.createElement("div",{className:"h-4 col-sm-3 pd5-left pd5-right"},i.default.createElement("p",{className:"h-4"},e.name)),i.default.createElement("div",{className:"h-4 col-sm-3"},i.default.createElement("p",{className:"h-4"},e.time?e.time.split("-")[1]+"-"+e.time.split("-")[2]:"-")))}):i.default.createElement("div",{className:"supportMsg"},"暂无记录"),i.default.createElement("div",null,i.default.createElement("div",{className:"reserve_b1 "+a},i.default.createElement("h5",{className:"block"},i.default.createElement("span",{className:"T_small"},"客服单"),i.default.createElement("div",{className:"pull-right"},i.default.createElement("p",{className:" inline-block userIcon"},i.default.createElement("span",null,i.default.createElement("i",{className:"fa fa-user-o"}))),i.default.createElement("p",{className:"inline-block"},e.creator||"-"),i.default.createElement("p",{className:"inline-block"},e.time,"创建"),function(){if(a)return i.default.createElement("p",{className:"inline-block"},"已绑定当前客服单")}())),i.default.createElement("div",{className:"block supportMsg"},i.default.createElement("div",{className:"line row"},i.default.createElement("p",{className:"col-lg-6"},i.default.createElement("span",null,"来电类型："),i.default.createElement("span",{className:"txt"},e.typename)),i.default.createElement("p",{className:"col-lg-6"},"级别：",e.statename)),i.default.createElement("div",{className:"line pd5-bottom row"},i.default.createElement("p",{className:"col-lg-6"},"状态：",e.status),i.default.createElement("p",{className:"col-lg-6"},"负责人：",e.adminname||"-")),i.default.createElement("div",{className:"line"},i.default.createElement("p",null,"描述："),e.content))),i.default.createElement("h5",null,"客服单记录"),n)}())}}]),t}(i.default.Component)),h=function(e){return{dictionary:e.dictionary,id:e.select.id,type:e.select.type}},_=function(e){return{}};t.default=t.SupportItem=v=(0,d.connect)(h,_)(v)},,,,,,,function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FloatModal=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),c=n(1),s=a(c),i=n(2),d=n(3),f=a(d),p=t.FloatModal=function(e){function t(e){r(this,t);var n=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=f.default.shouldComponentUpdate.bind(n),n.state={},n}return o(t,e),u(t,[{key:"fadeOut",value:function(e){$.jy.pop_float_modal("no","#"+e)}},{key:"fadeOutSuccess",value:function(e){return 0!=this.props.success()&&void $.jy.pop_float_modal("no","#"+e)}},{key:"render",value:function(){var e=this,t=this.props.refId||"jy_FloatModal",n=this.props.width?{width:this.props.width}:{width:"600px"};return s.default.createElement("div",{className:"modal fade jy-float-modal",id:t,"aria-hidden":"false"},s.default.createElement("div",{className:"modal-dialog",style:n},s.default.createElement("div",{className:"modal-content"},s.default.createElement("div",{className:"modal-header"},s.default.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true",onClick:this.fadeOut.bind(this,t)},s.default.createElement("i",null)),s.default.createElement("h4",{className:"modal-title"},this.props.title)),s.default.createElement("div",{className:"modal-body"},function(){if(e.props.showDOM)return e.props.showDOM}()))))}}]),t}(s.default.Component);t.default=t.FloatModal=p=(0,i.connect)()(p)},function(e,t,n){"use strict";var a=n(14);e.exports={list_support:function(e){return function(t,n){$.jy.pop_loading("yes"),a.resource({body:e,url:"/api/support/search"},function(n){t({type:"LIST_SUPPORT",data:n.data}),e||(t({type:"LIST_RESERVE",data:null}),t({type:"LIST_ORDER",data:null})),$.jy.pop_loading("no")},function(e){$.jy.pop_loading("no"),alert("api/support/search 【接口报错】"),console.log(e)})}},list_reserve:function(e){return function(t,n){var r=e||null;r&&(r.productReserve||delete r.productReserve),$.jy.pop_loading("yes"),a.resource({body:r,url:"/api/reserve/search"},function(n){$.jy.pop_loading("no");var a=n.data;if(r){var l=[];if(r.productReserve&&a.length){l=[];for(var o=0;o<a.length;o++){var u=a[o],c=u.title||"";c.includes(r.productReserve)&&l.push(u)}a=l}}t({type:"LIST_RESERVE",data:a}),e||(t({type:"LIST_SUPPORT",data:null}),t({type:"LIST_ORDER",data:null}))},function(e){$.jy.pop_loading("no"),alert("api/reserve/search 【接口报错】"),console.log(e)})}},list_order:function(e){var t=e;return t&&(t.productReserve||delete t.productReserve),function(e,n){a.resource({body:t,url:"/api/order/list"},function(n){var a=n.data;if(t){var r=[];if(t.productReserve&&a.length){r=[];for(var l=0;l<a.length;l++){var o=a[l],u=o.title||"";u.includes(t.productReserve)&&r.push(o)}a=r}}e({type:"LIST_ORDER",data:a})},function(e){console.log(e)})}},search_order:function(e){return function(t,n){a.resource({body:e,url:"/api/order/list"},function(e){t({type:"LIST_RESERVE",data:null}),t({type:"LIST_SUPPORT",data:null}),t({type:"LIST_ORDER",data:e.data})},function(e){console.log(e)})}},search_reserve:function(e){var t=this;return function(n,r){a.resource({body:e,url:"/api/reserve/search"},function(e){if(n({type:"LIST_SUPPORT",data:null}),n({type:"LIST_ORDER",data:null}),n({type:"LIST_RESERVE",data:e.data}),e.data&&e.data.length){for(var a=e.data,r=[],l=0;l<a.length;l++)a[l]&&a[l].support_id&&r.push(a[l].support_id);r.length&&n(t.search_reserve_support({ids:r}))}},function(e){console.log(e)})}},search_reserve_support:function(e){return function(t,n){a.resource({body:e,url:"/api/support/searchbyids"},function(e){t({type:"LIST_SUPPORT",data:e.data})},function(e){console.log(e)})}},search:function(e,t){var n=this;return function(e,t){var a=t().search.type,r=t().routing.locationBeforeTransitions.pathname,l=t().search.text||null;l||(a="info"),"reserve"==a?e(n.search_reserve({search:l,type:"all"})):"order"==a?e(n.search_order({filter:{like:{order_sn:l}}})):"phone"==a?(e(n.list_reserve({search:l,type:"all"})),e(n.list_support({search:l})),e(n.list_order({filter:{equal:{order_phone:l}}}))):"info"==a&&e(r.indexOf("reserve")!=-1?n.list_reserve():n.list_support()),e({type:"SCREEN_EMPTY",data:null})}},screenLabel:function(e,t){return function(e,n){var a={},r="SCREEN_RESERVE";"reserve"==r?(r="SCREEN_RESERVE",a=n().search.reserve||{}):"support"==r?(r="SCREEN_SUPPORT",a=n().search.support||{}):"order"==r&&(r="SCREEN_ORDER",a=n().search.order||{});var l=Object.assign(t,a);e({type:r,data:l})}},screen_support:function(e){var t=this;return function(n,a){var r=e||{},l=a().search.support||{},o=Object.assign(l,r),u=a().search.type,c=a().search.text,s={page:o.page,filter:{equal:{type_code:o.type_code||null,subType_code:o.subType_code||null,status_code:o.status_code||null,owner_id:o.owner_id||null,lvl_code:o.lvl||null}},corporation_over:o.corporation_over||null};"info"!=u&&"phone"!=u||!c||(s.search=c),n({type:"SCREEN_SUPPORT",data:o}),n(t.list_support(s))}},screen_reserve:function(e){var t=this;return function(n,a){var r=e||{},l=a().search.reserve||{},o=Object.assign(l,r),u=a().search.type,c=a().search.text,s={page:o.page,pagesize:o.pagesize||10,is_hotel_confirmed:o.is_hotel_confirmed||null,is_ticket_confirmed:o.is_ticket_confirmed||null,sort:o.sort||null,sortvalue:o.sortvalue||null,filter:{like:{"product.name":o.productReserve||null},equal:{"reserve.product_id":o.productItem_id||null,"reserve.lvl_code":o.lvl_code||null,"reserve.status":o.status||null,"reserve.owner_id":o.owner_id||null,"reserve.needCorporation":o.needCorporation||null}}};"checkin_date"!=o.dateTimeType&&"created_at"!=o.dateTimeType&&"air_go_date"!=o.dateTimeType||(s.filter.between={},s.filter.between["reserve."+o.dateTimeType]={start:o.startTime||null,end:o.endTime||null,type:"date"}),"phone"!=u&&"reserve"!=u||!c||(s.search=c,s.type="all"),o.start&&(s.between={plan:{"reserve.start":o.start,"reserve.type":"date"}}),n({type:"SCREEN_RESERVE",data:o}),n(t.list_reserve(s))}},search_quick:function(e){return function(t,n){a.resource({body:e,url:"/api/reserve/quicksearch"},function(a){if(1==e.page)t({type:"LIST_QUICK",data:a.data});else{var r=n().list.quick||[],l=r.concat(a.data);t({type:"LIST_QUICK",data:l})}})}},screen_order:function(e){var t=this;return function(n,a){var r=a().search.order||{},l=Object.assign(r,e),o=a().search.type,u=a().search.text,c={};u&&(c.filter={},c.filter.equal={},c.filter.like={},"info"==o||"phone"==o?c.filter.equal.order_phone=u:"order"==o&&(c.filter.like.order_sn=u)),l.productReserve&&(c.productReserve=l.productReserve),l.page&&(c.page=l.page),l.refundonly&&(c.refundonly=l.refundonly),n({type:"SCREEN_ORDER",data:l}),n(t.list_order(c))}},search_type:function(e){return function(t,n){t({type:"SEARCH_TYPE",data:e})}},selected:function(e,t){var n=this;return function(r,l){if(e.supportid){var o=null;"reserve"==e.subType&&(o={type:"reserve",id:e.subId}),r({type:"SELECTED_ID",data:e.supportid,state:"support",sub:o})}else r(e.orderid||e.ordersn?{type:"SELECTED_ID",data:e.orderid||e.ordersn,state:"order"}:{type:"SELECTED_ID",data:e.reserveid,state:"reserve"});a.resource({body:e,url:"/api/order/infotree"},function(e){r({type:"DETAIL_TREE",data:e.data}),r({type:"SUPPORT_SELECT",data:null}),t&&t()},function(t){r({type:"DETAIL_TREE",data:"not_data"}),e.supportid&&r(n.select_support({id:e.supportid}))})}},select_support:function(e){return function(t,n){a.resource({body:e,url:"/api/support/select"},function(e){t({type:"SUPPORT_SELECT",data:e.data})},function(e){console.log(e)})}},update_tree:function(e){var t=this;return function(e,n){var a=n().select,r={};a.type&&a.id&&(r="support"==a.type?{supportid:a.id}:"order"==a.type?{orderid:a.id,ordersn:a.id}:{reserveid:a.id},r.datatype="all",e(t.selected(r)))}},update_package:function(e){return function(t,n){t({type:"UPDATE_PACKAGE",data:e.id})}},update_order_package:function(e){return function(t,n){a.resource({body:e,url:"/api/product/itemdetail"},function(e){t({type:"UPDATE_PACKAGE",data:e.data})},function(e){console.log(e)})}}}},,,,,,,,,,function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CsSearch=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.CsSearch=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={onSearchType:"phone"},n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){this.props.search_type({text:null,type:"info"})}},{key:"componentDidMount",value:function(){var e=$(".optionBox"),t=e.find("a");t.each(function(e,t){$(t).click(function(){console.log("i="+e)})})}},{key:"updateOption",value:function(e,t){this.setState({onSearchType:t}),this.props.search_type(t)}},{key:"submitSearch",value:function(e){var t=this.searchInput.value,n=this.state.onSearchType;t?(this.props.search_type({text:t,type:n}),this.props.search()):(this.props.search_type({text:null,type:"info"}),"reserve"==e?this.props.get_list():this.props.list_support())}},{key:"onSearch",value:function(e,t){var n=e||window.event;13==n.keyCode&&this.submitSearch(t)}},{key:"addSupportWork",value:function(){this.props.add_reserve_work(null),$.jy.pop_float_modal("yes","#addSupportWork")}},{key:"render",value:function(){var e=this,t=this.props.pathname.pathname||"";t=t.indexOf("reserve")!=-1?"reserve":"support";var n=this.state.onSearchType;this.props.dictionary;return i.default.createElement("div",{className:"searchMain"},i.default.createElement("div",{className:"box"},i.default.createElement("div",{className:"inputBox"},i.default.createElement("p",{className:"optionBox"},i.default.createElement("a",{href:"javascript:",className:"phone"==n?"on":"",onClick:function(t){return e.updateOption(t,"phone")}},"手机号"),i.default.createElement("a",{href:"javascript:",className:"order"==n?"on":"",onClick:function(t){return e.updateOption(t,"order")}},"订单号"),i.default.createElement("a",{href:"javascript:",className:"reserve"==n?"on":"",onClick:function(t){return e.updateOption(t,"reserve")}},"预约号")),i.default.createElement("input",{type:"text",placeholder:"手机号/订单号/预约号",ref:function(t){return e.searchInput=t},onKeyDown:function(n){return e.onSearch(n,t)}}),i.default.createElement("a",{href:"javascript:",className:"searchButton",onClick:function(){return e.submitSearch(t)}},i.default.createElement("span",{className:"fa fa-search"}))),function(){if("support"==t)return i.default.createElement("span",{className:" addWorkOrder",onClick:function(){return e.addSupportWork()}},i.default.createElement("i",{className:"fa fa-file-text-o"}),"添加工单")}()))}}]),t}(i.default.Component),_=function(e){return{pathname:e.routing.locationBeforeTransitions,type:e.support.search_type,dictionary:e.dictionary}},y=function(e){return{search:function(t,n){return e(v.search(t,n))},search_type:function(t){return e(v.search_type(t))},add_reserve_work:function(t){return e(v.add_reserve_work(t))},list_support:function(t){return e(v.list_support(t))},get_list:function(t){return e(v.list_reserve(t))}}};t.default=t.CsSearch=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Page=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=(r(f),n(4)),m=(a(p),t.Page=function(e){function t(){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this,t=this.props.page,n=this.props._length;return i.default.createElement("div",{className:"pageMain"},i.default.createElement("span",{className:"reduce fa fa-angle-left "+(t>1?"":"off"),onClick:function(){return e.props.onPrev(t)}}),i.default.createElement("p",null,t),i.default.createElement("span",{className:"add fa fa-angle-right "+(n<10?"off":""),onClick:function(){return e.props.onNext(t)}}))}}]),t}(i.default.Component)),v=function(e){return{}},h=function(e){return{}};t.default=t.Page=m=(0,d.connect)(v,h)(m)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=n(40),o=a(l),u=n(14);e.exports={get_update_reserve:function(e){return function(t,n){t({type:"GET_UPDATE_RESERVE",data:e})}},get_roomstay_list:function(e){return function(t,n){u.resource({body:e,url:"/api/reserve/roomstay/list"},function(e){t({type:"ROOM_STAY_LIST",data:e.data})},function(e){console.log(e)})}},update_reserve:function(e,t){return function(n,a){u.resource({body:e,url:"/api/reserve/updatestatus"},function(e){console.log("更新状态"),t&&setTimeout(function(){t()},100),n(o.default.update_tree())},function(e){console.log(e)})}},update_examine:function(e,t){return function(n,a){u.resource({body:e,url:"/api/reserve/updatestatus"},function(e){for(var l=[].concat(r(a().list.quick)),o=0;o<l.length;o++)l[o].id==e.data.id&&(console.log("sss",l[o],e.data),l[o]=e.data);n({type:"LIST_QUICK",data:l}),t&&setTimeout(function(){t()},100)},function(e){console.log(e)})}},get_need_corporation:function(e,t){return function(t,n){u.resource({body:e,url:"/api/reserve/needcorporation"},function(e){t({type:"RESERVE_NEED_CORPORATION",data:e.data})},function(e){console.log(e)})}},get_statistics:function(e,t){return $.jy.pop_loading("yes"),function(t,n){u.resource({body:e,url:"/api/reserve/statistics"},function(e){t({type:"RESERVE_STATISTICS",data:e.data}),$.jy.pop_loading("no")},function(e){console.log(e)})}},update_settle_price:function(e){return function(t,n){u.resource({body:e,url:"/api/reserve/update"},function(a){console.log("更新结算价");var l=n().getItemData.quick;l.settle_price=e.settle_price;for(var o=[].concat(r(n().list.quick)),u=0;u<o.length;u++)o[u].id==l.id&&(o[u]=l);t({type:"LIST_QUICK",data:o})},function(e){console.log(e)})}},update_reserve_data:function(e){return function(t,n){u.resource({body:e,url:"/api/reserve/update"},function(e){console.log("更新预约单信息"),t(o.default.screen_reserve()),t(o.default.update_tree())},function(e){console.log(e)})}},many_handle:function(e){return function(t,n){t({type:"IS_HANDLE",data:e}),t({type:"HANDLE_IDS",data:[]})}},handle_selected:function(e,t){return function(n,a){if(t){var r=[];e.reserveid&&(r=[e.reserveid]),n({type:"HANDLE_IDS",data:r})}else{var l=a().reserve.handle_ids||[],o=!1;if(l.length)for(var u=0;u<l.length;u++)e.reserveid==l[u]&&(o=!0);o?l.removeByValue(e.reserveid):l.push(e.reserveid),n({type:"HANDLE_IDS",data:l})}}},update_assign:function(e){return function(t,n){u.resource({body:e,url:"/api/reserve/assign"},function(e){console.log("修改指派人"),t(o.default.screen_reserve()),t(o.default.update_tree())},function(e){console.log(e)})}},update_lvl:function(e){return function(t,n){u.resource({body:e,url:"/api/reserve/updatelvl"},function(e){console.log("修改预约级别"),t(o.default.screen_reserve()),t(o.default.update_tree())},function(e){console.log(e)})}},reject_reserve:function(e,t){return function(n,a){u.resource({body:e,url:"/api/reserve/reject"},function(l){if("1"==e.quicksearch){console.log("快速操作拒绝");for(var u=[].concat(r(a().list.quick)),c=0;c<u.length;c++)for(var s=0;s<e.ids.length;s++)u[c].id==e.ids[s]&&(u[c].status=4);n({type:"LIST_QUICK",data:u})}else console.log("批量拒绝"),n(o.default.screen_reserve()),n(o.default.update_tree());t&&setTimeout(function(){t()},100)},function(e){console.log(e)})}},send_newsletter:function(e){return function(t,n){u.resource({body:e,url:"/api/tool/sendmsg"},function(e){alert("发送成功")},function(e){console.log(e)})}},export_excel:function(e){return function(t,n){$.jy.pop_loading("yes"),u.resource({body:e,url:"/api/tool/reserve/export"},function(e){$.jy.pop_loading("no"),alert("导出成功");var t=e.data.dl_url;window.location.href=t},function(e){$.jy.pop_loading("no"),alert("导出失败"),console.log(e)})}}}},function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports={list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"LIST_SUPPORT":return n({},e,{support:t.data});case"LIST_ORDER":return n({},e,{order:t.data});case"LIST_RESERVE":return n({},e,{reserve:t.data});case"LIST_QUICK":return n({},e,{quick:t.data});default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"SEARCH_TYPE":return n({},e,t.data);case"SCREEN_RESERVE":return n({},e,{reserve:t.data});case"SCREEN_SUPPORT":return n({},e,{support:t.data});case"SCREEN_ORDER":return n({},e,{order:t.data});case"SCREEN_EMPTY":return n({},e,{order:{},reserve:{},support:{}});default:return e}},select:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"SELECTED_ID":return n({},e,{type:t.state,id:t.data,sub:t.sub||null});default:return e}}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ExportExcel=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.ExportExcel=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){function e(e){var t={elem:e||"#check_in_start",event:"click",format:"YYYY-MM-DD",istime:!1,
isclear:!0,istoday:!0,issure:!0,festival:!0,start:getNowFormatDate("date"),fixed:!1,zIndex:99999999};return t}var t=e("#startTimeOrder"),n=e("#endTimeOrder");setTimeout(function(){laydate(t),laydate(n)},100)}},{key:"getExcel",value:function(){var e={type:this.reserveType.value,status:this.reserveStatus.value,date:this.dateTimeType.value,start:"0"!=this.dateTimeType.value?this.startTimeOrder.value:"",end:"0"!=this.dateTimeType.value?this.endTimeOrder.value:"",product_id:"0"!=this.product.value?this.product.value:""},t={};$.each(e,function(e,n){n&&"0"!=n&&(t[e]=n)}),console.log(t,"obj"),this.props.export_excel(t)}},{key:"searchProduct",value:function(e){var t=e||window.event;if(13==t.keyCode){var n=this.searchName.value;if(n){var a=this.props.dictionary||{},r=a.admin_data||{},l={search:n,needid:!0};93!=r.role_code&&(l.reserve_owner_id=r.id),this.props.search_product_name(l)}}}},{key:"render",value:function(){var e=this,t=this.props.product;return i.default.createElement("div",{className:"bloc pd5"},i.default.createElement("div",{className:"pd5-level margin5-level"},i.default.createElement("div",{className:"form-group"},i.default.createElement("input",{type:"text",className:"form-control pull-left",placeholder:"产品名称搜索",style:{width:"40%"},ref:function(t){return e.searchName=t},onKeyDown:function(t){return e.searchProduct(t)}}),i.default.createElement("select",{className:"form-control",style:{width:"60%"},ref:function(t){return e.product=t}},i.default.createElement("option",{value:"0"},"选择产品"),function(){if(t.product)return t.product.map(function(e,t){return i.default.createElement("option",{value:e.id,key:e.id},e.title)})}())),i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.reserveType=t}},i.default.createElement("option",{value:"0"},"请选择预约类型"),i.default.createElement("option",{value:"airplane_hotel"},"机+酒"),i.default.createElement("option",{value:"hotel"},"酒店"),i.default.createElement("option",{value:"airplane"},"机票"),i.default.createElement("option",{value:"ticket"},"门票"),i.default.createElement("option",{value:"food"},"餐饮"))),i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.reserveStatus=t}},i.default.createElement("option",{value:"0"},"请选择预约状态"),function(){if(e.props.dictionary.reserveStatus)return e.props.dictionary.reserveStatus.map(function(e,t){if(1!=e.code&&5!=e.code&&6!=e.code&&7!=e.code)return i.default.createElement("option",{value:e.code,key:e.code},e.name)})}())),i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.dateTimeType=t}},i.default.createElement("option",{value:"0"},"请选择时间类型"),i.default.createElement("option",{value:"checkin_date"},"入住时间"),i.default.createElement("option",{value:"created_at"},"创建时间"),i.default.createElement("option",{value:"air_go_date"},"起飞时间"))),i.default.createElement("div",{className:"form-group"},i.default.createElement("input",{type:"text",className:"form-control",id:"startTimeOrder",ref:function(t){return e.startTimeOrder=t},placeholder:"起始时间"})),i.default.createElement("div",{className:"form-group"},i.default.createElement("input",{type:"text",className:"form-control",id:"endTimeOrder",ref:function(t){return e.endTimeOrder=t},placeholder:"结束时间"})),i.default.createElement("div",{className:"form-group text-center"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.getExcel()}},"导出"))))}}]),t}(i.default.Component),_=function(e){return{product:e.product,dictionary:e.dictionary}},y=function(e){return{export_excel:function(t){return e(v.export_excel(t))},product_search:function(t){return e(v.product_search(t))},search_product_name:function(t,n){return e(v.search_product_name(t,n))}}};t.default=t.ExportExcel=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderItemList=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(51),_=t.OrderItemList=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"selected",value:function(e){var t=e.id;e.id?t!=this.props.id&&this.props.selected({orderid:t,datatype:"all"}):e.order_sn!=this.props.id&&this.props.selected({ordersn:e.order_sn,datatype:"all"})}},{key:"onPrev",value:function(e){if(e>1){var t=e-1;this.props.screen_order({page:t})}}},{key:"onNext",value:function(e){if(console.log("length",this._length,e),this._length>=10){var t=e+1;this.props.screen_order({page:t})}}},{key:"bindSupport",value:function(e,t){e.stopPropagation(),t.support_id?(this.props.update_reserve_work({id:t.support_id}),$.jy.pop_float_modal("yes","#updateSupportWork")):(this.props.add_reserve_work({type:"order",id:t.id,sn:t.order_sn,name:t.name,user_id:t.user_id,phone:t.order_phone}),$.jy.pop_float_modal("yes","#addSupportWork"))}},{key:"bindReserve",value:function(e){e.stopPropagation(),$.jy.pop_float_modal("yes","#updateReserve")}},{key:"stop",value:function(e){e.stopPropagation()}},{key:"screenOrder",value:function(e){var t=e||window.event,n=this.productOrder.value;13==t.keyCode&&n?this.props.screen_order({productReserve:n}):this.props.screen_order({productReserve:null})}},{key:"onRefundonly",value:function(e){var t=this.props.searchLabel||{};t.refundonly?this.props.screen_order({refundonly:null}):this.props.screen_order({refundonly:!0})}},{key:"render",value:function(){var e=this,t=this.props.pathname.pathname||"";t.indexOf("reserve")!=-1?t="reserve":t.indexOf("support")!=-1&&(t="support");var n=this.props.list||[],a=null;console.log(this.props.searchLabel);var r=this.props.searchLabel||{},l=r.page||1,o=0,u=this.props.searchLabel||{},c=u.refundonly;return n.length?(a=n.map(function(n,a){o+=1;var r=e.props.type,l="";"order"==r&&n.id==e.props.id&&(l=" on");var u="";switch(parseInt(n.status||-2)){case-1:u="删除";break;case 0:u="待付款";break;case 1:u="已付款";break;case 2:u="部分退款";break;case 3:u="全部退款";break;case 4:u="退款失败";break;default:u="其他"}var c=n.refunds||[];if(c.length)switch(parseInt(c[0].status||-2)){case 0:u="提交退款";break;case 1:u="客服处理中";break;case 2:u="财务处理中";break;case 3:u="全部退款";break;case 4:u="退款失败";break;default:u="提交退款"}return i.default.createElement("li",{className:" resultsList "+l,id:"list"+n.id,key:n.order_sn,onClick:function(){return e.selected(n)}},i.default.createElement("div",{className:"operation"},function(){return"support"==t?i.default.createElement("span",{className:"modify ",onClick:function(t){return e.bindSupport(t,n)}},n.support_id?"修改":"绑定"):"reserve"==t?i.default.createElement("span",{className:"modify "},"详情"):void 0}()),i.default.createElement("div",{className:"msg pd5-left"},i.default.createElement("p",null,n.username||"-"," ",n.order_phone||"-"),i.default.createElement("p",{className:"textHidden"},n.title||"-"),i.default.createElement("p",{className:"reserve"},"订单ID: ",n.order_sn),i.default.createElement("p",{className:"status"},"订单状态：",u)))}),i.default.createElement("div",{className:"orderItemList columnBox",id:"orderListMain"},i.default.createElement("div",{className:"headerComponents ",role:"button","data-toggle":"collapse",href:"#orderItemListBox","aria-expanded":"false","aria-controls":"orderItemListBox"},i.default.createElement("span",{className:"columnTitle"},"订单"),i.default.createElement("p",{className:"shrink"},i.default.createElement("i",{className:"fa fa-angle-down "}))),i.default.createElement("div",{className:"collapse in",id:"orderItemListBox"},i.default.createElement("div",{className:"filter_row_input "},i.default.createElement("span",{className:"list_searchPro"},i.default.createElement("input",{type:"text",placeholder:"请输入产品名称",ref:function(t){return e.productOrder=t},onKeyDown:function(t){return e.screenOrder(t)}})),i.default.createElement("div",{className:"labelScreen"},i.default.createElement("span",{className:" "+(c?"on":""),onClick:function(){return e.onRefundonly()}},"退款"))),i.default.createElement("div",{className:"itemListTitle block"},i.default.createElement("span",{className:"pull-left"},"概况"),i.default.createElement("span",{className:"pull-right"},"操作")),i.default.createElement("ul",{className:"swiperMain"},a),function(){if(e._length=o,o>=10||1!=l)return i.default.createElement("div",{className:"block text-center"},i.default.createElement(h.Page,{onPrev:function(t){return e.onPrev(t)},onNext:function(t){return e.onNext(t)},page:l,_length:o}))}()))):(console.log("暂无相关订单"),i.default.createElement("div",{className:"none"}))}}]),t}(i.default.Component),y=function(e){return{list:e.list.order,pathname:e.routing.locationBeforeTransitions,id:e.select.id,type:e.select.type,searchLabel:e.search.order}},E=function(e){return{update_reserve_work:function(t){return e(v.update_reserve_work(t))},selected:function(t){return e(v.selected(t))},add_reserve_work:function(t){return e(v.add_reserve_work(t))},screen_order:function(t){return e(v.screen_order(t))}}};t.default=t.OrderItemList=_=(0,d.connect)(y,E)(_)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReserveItemList=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(51),_=t.ReserveItemList=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={isShow:!1},n}return u(t,e),c(t,[{key:"select",value:function(e){var t=this,n=this.props.is_handle;n?this.props.handle_selected({reserveid:e.id}):this.props.selected({reserveid:e.id,datatype:"all"},function(){e.package_id&&t.props.update_package({id:e.package_id})})}},{key:"bindSupport",value:function(e,t){e.stopPropagation(),t.support_id?(this.props.update_reserve_work({id:t.support_id}),$.jy.pop_float_modal("yes","#updateSupportWork")):(this.props.add_reserve_work({type:"reserve",id:t.id,sn:t.reserve_id,name:t.contact_name,user_id:t.user_id,phone:t.contact_phone}),$.jy.pop_float_modal("yes","#addSupportWork"))}},{key:"bindReserve",value:function(e,t){e.stopPropagation(),this.props.get_update_reserve(t),$.jy.pop_float_modal("yes","#updateReserve")}},{key:"bindSupportReserve",value:function(e,t){e.stopPropagation(),this.props.get_update_reserve(t),$.jy.pop_float_modal("yes","#supportUpdateReserve")}},{key:"manyHandle",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props.is_handle,n=null;n=!t,this.props.many_handle(n)}},{key:"manyChange",value:function(e,t){var n=this.props.handle_ids||[],a="0";if("admin"==t)a=this.updateAdmin.value;else{if("refuse"==t)return $.jy.pop_float_modal("yes","#onRefuse"),!1;"lvl"==t&&(a=this.updateLvl.value)}return n.length?"0"!=a&&("admin"==t&&this.props.update_assign({ids:n,ownerid:a}),void("lvl"==t&&this.props.update_lvl({ids:n,lvlcode:a}))):(e.stopPropagation(),e.preventDefault(),alert("请先选择预约单"),!1)}},{key:"componentWillMount",value:function(){this.props.product.country||this.props.get_country(),this.timedTask()}},{key:"timedTask",value:function(){var e=this,t=this.props.pathname.pathname||"";t.indexOf("reserve")!=-1&&(this.props.get_need_corporation(),setTimeout(function(){e.timedTask()},6e4))}},{key:"componentDidMount",value:function(){function e(e){var t={elem:e||"#check_in_start",event:"click",format:"YYYY-MM-DD",istime:!1,isclear:!0,istoday:!0,issure:!0,festival:!0,start:getNowFormatDate("date"),fixed:!1,zIndex:99999999};return t}var t=e("#startTime"),n=e("#endTime");setTimeout(function(){laydate(t),laydate(n)},100)}},{key:"getCity",value:function(){var e=this.country.value;"0"==e&&(e=""),e&&this.props.get_city({filter:{equal:{CountryCode:e,used:1}}})}},{key:"getProduct",value:function(){var e=this.city.value;"0"==e&&(e=""),e&&this.props.get_product({filter:{equal:{city:e,status:10}}})}},{key:"screenLabel",value:function(e,t){e.stopPropagation(),e.preventDefault();var n=this.props.search_reserve||{},a=null;a=n[t]?null:1;var r={};r[t]=a,this.props.screen_reserve(r)}},{key:"screenEmpty",value:function(){this.reserveStatus.value="0",this.reserveOwner.value="0",this.dateTimeType.value="0",this.startTime.value="",this.endTime.value="",this.props.search(),this.updateListShow()}},{key:"tabLabel",value:function(e,t){var n=$("#"+t)[0].offsetTop;console.log("scrollTop",n),$("#listMain").animate({scrollTop:n-50},300)}},{key:"onPrev",value:function(e){if(e>1){var t=e-1;this.props.screen_reserve({page:t}),this.tabLabel("","reserveListMain")}}},{key:"onNext",value:function(e){if(console.log("length",this._length,e),this._length>=10){var t=e+1;this.props.screen_reserve({page:t}),this.tabLabel("","reserveListMain")}}},{key:"stopPropagation",value:function(e){e.stopPropagation()}},{key:"showUpdateTicket",value:function(e,t){e.stopPropagation(),this.props.get_update_reserve(t),this.props.get_roomstay_list({id:t.id}),$.jy.pop_float_modal("yes","#updateTicket")}},{key:"showSendLetter",value:function(e,t){e.stopPropagation(),this.props.get_update_reserve(t),$.jy.pop_float_modal("yes","#sendLetter")}},{key:"screenAll",value:function(e,t){var n=this.sort.value||"",a=this.sort.value||"",r=this.reserveStatus.value,l=this.reserveOwner.value,o=this.dateTimeType.value,u=this.startTime.value,c=this.endTime.value,s=this.productReserve.value,i={sortvalue:a.split("||")[0],sort:n.split("||")[1],owner_id:l,status:r,dateTimeType:o,startTime:u,endTime:c,productReserve:s},d={};$.each(i,function(e,t){"0"!=t&&t?d[e]=t:d[e]=null}),this.props.screen_reserve(d),"select"!=t&&this.updateListShow()}},{key:"updateListShow",value:function(){this.state.isShow?this.setState({isShow:!1}):this.setState({isShow:!0})}},{key:"screenProductName",value:function(e){var t=e||window.event;13==t.keyCode&&this.screenAll("","select")}},{key:"updateSubmit",value:function(e){}},{key:"screenExamine",value:function(){var e=this.sort.value||"",t=this.sort.value||"",n=(this.reserveProduct.value,this.reserveOwner.value),a=this.dateTimeType.value,r=this.startTime.value,l=this.endTime.value,o=this.productReserve.value,u={sortvalue:t.split("||")[0],sort:e.split("||")[1],owner_id:n,status:1,dateTimeType:a,startTime:r,endTime:l,productReserve:o,page:1,pagesize:100};u.pagesize=100;var c={};$.each(u,function(e,t){"0"!=t&&t?c[e]=t:c[e]=null}),this.props.screen_reserve(c)}},{key:"goExamine",value:function(){this.props.goUrl("/examine")}},{key:"render",value:function(){var e=this,t=this.props.pathname.pathname||"";t.indexOf("reserve")!=-1?t="reserve":t.indexOf("support")!=-1&&(t="support"),this._pathname=t;var n=this.props.list||[],a=this.props.is_handle,r=this.props.dictionary,l=null,o=this.props.type,u=this.props.search_reserve||{},c=u.page||1,s=0;l=n.length?n.map(function(n,r){function l(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}var u=e.props.handle_ids||[],c="";if(s+=1,u.length)for(var d=0;d<u.length;d++)u[d]==n.id&&(c=" active");var f="";"reserve"==o&&n.id==e.props.id&&(f=" on");var p=function(){if(n.realname)return i.default.createElement("i",{className:"principal"},"[",n.realname,"]")}(),m=l(n.created_at),v=l(n.checkin_date),h=l(n.checkout_date),_=function(){return"reserve"==t?i.default.createElement("span",{className:"name"},n.contact_name||"-"):i.default.createElement("span",{className:"phone"},n.contact_phone||"-")}();return i.default.createElement("li",{className:" resultsList "+(a?"handle ":" ")+c+f,key:n.id,onClick:function(){return e.select(n)}},i.default.createElement("div",{className:"operation"},function(){return"support"==t?i.default.createElement("span",{className:"modify pull-right",onClick:function(t){return e.bindSupport(t,n)}},n.support_id?"处理":"绑定"):"reserve"==t?i.default.createElement("span",{className:"modify ",onClick:function(t){return e.bindReserve(t,n)}},"处理"):void 0}()),i.default.createElement("div",{className:"msg "},i.default.createElement("p",{className:"user"},i.default.createElement("span",{className:"date",title:" 预约号："+n.reserve_id},v," / ",h)," ",_),i.default.createElement("p",{className:"proName"},n.name||"-"),i.default.createElement("p",{className:"reserve "},i.default.createElement("span",{className:"reservenumb"},"预约号：",n.reserve_id)),i.default.createElement("p",{className:"submitTime"},"提交时间：",m," "),i.default.createElement("p",{className:"status"},i.default.createElement("span",null,"状态：",n.statusname||"状态丢失"," ",p),function(){if(n.is_ticket_confirmed)return i.default.createElement("span",{className:"statusIcon"},i.default.createElement("i",{className:"fa fa-plane"}))}(),function(){if(n.is_hotel_confirmed)return i.default.createElement("span",{className:"statusIcon"},i.default.createElement("i",{className:"fa fa-building"}))}(),function(){if(n.needCorporation)return i.default.createElement("span",{className:"statusIcon"},i.default.createElement("i",{className:"margin5-left"},"待协同"))}(),i.default.createElement("span",{className:"entry ",onClick:function(t){return e.showUpdateTicket(t,n)}},"录入"),i.default.createElement("span",{className:"messages",onClick:function(t){return e.showSendLetter(t,n)}},"发送短信"))))}):i.default.createElement("li",null,"暂无相关预约单"),this._length=s;this.props.product;return i.default.createElement("div",{className:"reserveItemList columnBox",id:"reserveListMain"},i.default.createElement("div",{className:"headerComponents"},i.default.createElement("span",{className:"columnTitle"},"预约单"),i.default.createElement("p",{role:"button","data-toggle":"collapse",href:"#reserveItemListBox","aria-expanded":"false","aria-controls":"reserveItemListBox",className:"pull-right"},i.default.createElement("span",{className:"shrink"},i.default.createElement("i",{className:"fa fa-angle-down "}))),function(){if("reserve"==t)return i.default.createElement("div",{className:"header_r"},i.default.createElement("span",{onClick:function(t){return e.manyHandle(t)}},a?"取消批量处理":"批量处理"))}()),function(){if(a)return i.default.createElement("div",{className:"block screen"},i.default.createElement("div",{className:"form-inline margin5-bottom"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.updateAdmin=t}},i.default.createElement("option",{value:"0"},"更改指派人"),function(){if(r.admin_list)return r.admin_list.map(function(e,t){return i.default.createElement("option",{key:e.id,value:e.id},e.realname)})}()),i.default.createElement("span",{className:"btn btn-sm btn-success margin5-left",onClick:function(t){return e.manyChange(t,"admin")}},"确认"),i.default.createElement("span",{className:"btn btn-sm btn-danger margin5-left",onClick:function(t){return e.manyChange(t,"refuse")}},"批量拒绝")))}(),i.default.createElement("div",{className:"collapse in",id:"reserveItemListBox"},i.default.createElement("div",{className:"filter_row_tag "+(this.state.isShow?"on":"")},i.default.createElement("div",{className:"labelScreen"},i.default.createElement("span",{className:" "+(u.is_ticket_confirmed?"on":" "),onClick:function(t){return e.screenLabel(t,"is_ticket_confirmed")}},"机票确认"),i.default.createElement("span",{className:" "+(u.is_hotel_confirmed?"on":" "),onClick:function(t){return e.screenLabel(t,"is_hotel_confirmed")}},"酒店确认"),i.default.createElement("span",{className:" synergy "+(u.needCorporation?"on":" "),onClick:function(t){return e.screenLabel(t,"needCorporation")}},"待协同 ",function(){if(e.props.reserve_need_corporation){var t=e.props.reserve_need_corporation<100?e.props.reserve_need_corporation:"99+";return i.default.createElement("i",null,t)}}())),i.default.createElement("span",{className:"changeScreen",onClick:function(){return e.updateListShow()}},"更多筛选 ",i.default.createElement("i",{className:"fa fa-angle-down"})),i.default.createElement("div",{className:"popScreen",onClick:function(t){return e.stopPropagation(t)}},void 0,i.default.createElement("h5",null,"基本规则筛选"),i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.dateTimeType=t}},i.default.createElement("option",{value:"0"},"请选择时间类型"),i.default.createElement("option",{value:"checkin_date"},"入住时间"),i.default.createElement("option",{value:"created_at"},"创建时间"),i.default.createElement("option",{value:"air_go_date"},"起飞时间"))),i.default.createElement("div",{className:"form-group"},i.default.createElement("input",{type:"text",className:"form-control",id:"startTime",ref:function(t){return e.startTime=t},placeholder:"开始日期"})),i.default.createElement("div",{className:"form-group"},i.default.createElement("input",{type:"text",className:"form-control",id:"endTime",ref:function(t){return e.endTime=t},placeholder:"结束日期"})),i.default.createElement("div",{className:"form-group margin5-bottom"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.reserveStatus=t}},i.default.createElement("option",{value:"0"},"选择状态"),function(){if(r.reserveStatus)return r.reserveStatus.map(function(e,t){if(6!=e.code&&7!=e.code)return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}())),i.default.createElement("div",{className:"form-group margin5-bottom"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.reserveOwner=t}},i.default.createElement("option",{value:"0"},"预订员"),function(){if(r.admin_list)return r.admin_list.map(function(e,t){return i.default.createElement("option",{key:e.id,value:e.id},e.realname)})}())),i.default.createElement("div",{className:"form-group margin5-bottom text-center"},i.default.createElement("span",{className:"btn btn-sm btn-success margin5-right",onClick:function(t){return e.screenAll(t)}},"确定"),i.default.createElement("span",{className:"btn btn-sm btn-danger",onClick:function(){return e.screenEmpty()}},"取消")))),i.default.createElement("span",{className:"filter_row_input"},i.default.createElement("span",{className:"list_searchPro"},i.default.createElement("input",{type:"text",ref:function(t){return e.productReserve=t},placeholder:"产品名筛选",onKeyDown:function(t){return e.screenProductName(t)}})),i.default.createElement("span",{className:"list_searchSorting",onClick:function(t){return e.stopPropagation(t)}},i.default.createElement("select",{ref:function(t){return e.sort=t},onChange:function(t){return e.screenAll(t,"select")}},i.default.createElement("option",{value:"0"},"排序"),i.default.createElement("option",{value:"created_at||orderByDesc"},"预约时间近到远"),i.default.createElement("option",{value:"created_at||orderBy"},"预约时间远到近"),i.default.createElement("option",{value:"checkin_date||orderByDesc"},"入住时间远到近"),i.default.createElement("option",{value:"checkin_date||orderBy"},"入住时间近到远"))),i.default.createElement("span",{className:"list_searchSorting"},i.default.createElement("select",{ref:function(t){return e.reserveStatus=t},onChange:function(t){return e.screenAll(t,"select")}},i.default.createElement("option",{value:"0"},"选择状态"),function(){if(r.reserveStatus)return r.reserveStatus.map(function(e,t){if(6!=e.code&&7!=e.code)return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}()))),i.default.createElement("div",{className:"itemListTitle block"},i.default.createElement("span",{className:"pull-left"},"概况"),i.default.createElement("span",{className:"pull-right"},"操作")),i.default.createElement("ul",{className:"swiperMain"},l),function(){if(s>=10||1!=c)return i.default.createElement("div",{className:"block text-center"},i.default.createElement(h.Page,{onPrev:function(t){return e.onPrev(t)},onNext:function(t){return e.onNext(t)},page:c,_length:s}))}()))}}]),t}(i.default.Component),y=function(e){return{dictionary:e.dictionary,list:e.list.reserve,pathname:e.routing.locationBeforeTransitions,is_handle:e.reserve.is_handle,handle_ids:e.reserve.handle_ids,id:e.select.id,type:e.select.type,product:e.product,search_reserve:e.search.reserve,reserve_need_corporation:e.reserve.need_corporation}},E=function(e){return{update_reserve_work:function(t){return e(v.update_reserve_work(t))},selected:function(t,n){return e(v.selected(t,n))},get_update_reserve:function(t){return e(v.get_update_reserve(t))},add_reserve_work:function(t){return e(v.add_reserve_work(t))},many_handle:function(t){return e(v.many_handle(t))},handle_selected:function(t){return e(v.handle_selected(t))},update_assign:function(t){return e(v.update_assign(t))},update_lvl:function(t){return e(v.update_lvl(t))},get_country:function(t){return e(v.get_country(t))},get_city:function(t){return e(v.get_city(t))},get_product:function(t){return e(v.get_product(t))},screen_reserve:function(t){return e(v.screen_reserve(t))},get_roomstay_list:function(t){return e(v.get_roomstay_list(t))},goUrl:function(t){return e(v.goUrl(t))},search:function(t){return e(v.search(t))},update_package:function(t){return e(v.update_package(t))},get_need_corporation:function(t,n){return e(v.get_need_corporation(t,n))}}};t.default=t.ReserveItemList=_=(0,d.connect)(y,E)(_)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SendLetter=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.SendLetter=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"send",value:function(e,t){var n=this.content.value;return n?t?11!=t.length?(alert("获取手机失败"),!1):(this.props.send_newsletter({phone:t,content:n}),void $.jy.pop_float_modal("no","#sendLetter")):(alert("获取手机失败"),!1):(alert("请填写短信内容"),!1)}},{key:"render",value:function(){var e=this,t=this.props.upReserve||{};return i.default.createElement("div",{className:"block pd5"},i.default.createElement("div",{className:"form-group"},i.default.createElement("label",null,"发送给",t.contact_name||"-"),i.default.createElement("p",null,"手机号：",t.contact_phone||"-"),i.default.createElement("textarea",{className:"form-control",rows:"6",placeholder:"发生短信内容",ref:function(t){return e.content=t}})),i.default.createElement("div",{className:"form-group text-center margin5-bottom"},i.default.createElement("span",{className:"btn btn-default btn-success",onClick:function(n){return e.send(n,t.contact_phone)}},"发送")))}}]),t}(i.default.Component),_=function(e){return{upReserve:e.reserve.get_reserve}},y=function(e){return{send_newsletter:function(t,n){return e(v.send_newsletter(t,n))}}};t.default=t.SendLetter=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateTicket=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.UpdateTicket=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={flights:[],room_stay:[],oldCheckinUsers:[]},n.ticketNoEle=[],n.hotelNoEle=[],n.update_ticket=null,n}return u(t,e),c(t,[{key:"updateTicket",value:function(){var e=this;if(this.ticketNoEle.length){for(var t=0;t<this.ticketNoEle.length;t++){var n={desc:"",departNo:"",ticketNo:this.ticketNoEle[t].ele.value||"",departPlace:"",destPlace:"",reserve_flight_id:this.ticketNoEle[t].id};this.state.isOld&&(n.old=!0),t==this.ticketNoEle.length-1?this.props.update_ticket(n,function(){e.props.search(),e.props.update_tree()}):this.props.update_ticket(n)}$.jy.pop_float_modal("no","#updateTicket")}}},{key:"updateHotel",value:function(){if(this.hotelNoEle.length){for(var e=0;e<this.hotelNoEle.length;e++)e==this.hotelNoEle.length-1?this.props.update_confirm({id:this.hotelNoEle[e].id,confirm:this.hotelNoEle[e].ele.value},this.props.search):this.props.update_confirm({id:this.hotelNoEle[e].id,confirm:this.hotelNoEle[e].ele.value});$.jy.pop_float_modal("no","#updateTicket")}}},{key:"componentWillReceiveProps",value:function(e){if(e.upReserve.get_reserve||e.upReserve.room_stay){var t=e.upReserve.get_reserve,n=e.upReserve.room_stay,a=t.oldCheckinUsers||[],r=!0;"airplane_hotel"!=t.type&&"airplane"!=t.type||a.length||(a=t.flights||[],
r=!1),this.setState({flights:a,oldCheckinUsers:t.oldCheckinUsers||[],room_stay:n||[],isOld:r})}}},{key:"updateTicketEle",value:function(e,t){if(e){var n={ele:e,id:t.id};this.ticketNoEle.push(n)}}},{key:"updateHotelEle",value:function(e,t){if(e){var n={ele:e,id:t.id};this.hotelNoEle.push(n)}}},{key:"updateServiceMark",value:function(){this.serviceMark.value?(this.props.update_service_mark({id:this.props.upReserve.get_reserve.id,servicemark:this.serviceMark.value}),$.jy.pop_float_modal("no","#updateTicket")):alert("请填写服务备注")}},{key:"render",value:function(){var e=this,t=this.state,n=null,a=null;this.ticketNoEle=[],this.hotelNoEle=[];this.props.upReserve.get_reserve||{};return i.default.createElement("div",{className:"block"},i.default.createElement("div",{className:"pd5-level margin5-level"},function(){if(t.flights.length)return n=t.flights.map(function(t,n){var a=t.ticketNo||t.air_ticket_num||"";if(t)return i.default.createElement("div",{className:"form-group",key:t.id},i.default.createElement("label",null,"票务号【",t.name||"-","】："),i.default.createElement("input",{type:"text",className:"form-control",defaultValue:a,ref:function(n){return e.updateTicketEle(n,t)}}))}),i.default.createElement("div",null,n,i.default.createElement("div",{className:"form-group text-center"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.updateTicket()}},"确认票务号")))}(),function(){if(t.room_stay.length)return a=t.room_stay.map(function(t,n){if(t)return i.default.createElement("div",{className:"form-group",key:t.id},i.default.createElement("label",null,"房间确认号："),i.default.createElement("input",{type:"text",className:"form-control",defaultValue:t.confirm||"",ref:function(n){return e.updateHotelEle(n,t)}}))}),i.default.createElement("div",null,a,i.default.createElement("div",{className:"form-group text-center"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.updateHotel()}},"确认号")))}(),i.default.createElement("div",{className:"form-group"},i.default.createElement("label",null,"备注内容："),i.default.createElement("textarea",{type:"text",className:"form-control",ref:function(t){return e.serviceMark=t}})),i.default.createElement("div",{className:"form-group text-center"},i.default.createElement("span",{className:"btn btn-default btn-success",onClick:function(){return e.updateServiceMark()}},"确认填写")),function(){var t=e.props.upReserve.get_reserve||{};t=t.service_mark||"",setTimeout(function(){e.serviceMark&&(e.serviceMark.value=t)},50)}()))}}]),t}(i.default.Component),_=function(e){return{upReserve:e.reserve}},y=function(e){return{update_ticket:function(t,n){return e(v.update_ticket(t,n))},update_service_mark:function(t,n){return e(v.update_service_mark(t,n))},update_flig_status:function(t){return e(v.update_flig_status(t))},update_confirm:function(t,n){return e(v.update_confirm(t,n))},search:function(t){return e(v.screen_reserve(t))},update_tree:function(t){return e(v.update_tree(t))}}};t.default=t.UpdateTicket=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Refuse=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.Refuse=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"upValue",value:function(e,t){var n=this.props.inner_reject,a=this.props.real_reject,r=null,l=null,o=[];if("inner"==t?(l=this.innerValue,r=this.inner.value,o=n):"real"==t&&(l=this.realValue,r=this.real.value,o=a),"0"==r)return l.value="",!1;for(var u=0;u<o.length;u++)o[u].type_code==r&&(l.value=o[u].content)}},{key:"postRefuse",value:function(){var e=this,t=this.props.handle_ids||[];if(0==t.length)return alert("请先选择预约单"),!1;var n=this.innerValue,a=this.inner,r=this.realValue,l=this.real;if(!n.value)return alert("请填写内部原因"),!1;if(!r.value)return alert("请填写外部原因"),!1;var o={inner_refuse_code:a.value,inner_refuse_desc:n.value,real_refuse_code:l.value,real_refuse_desc:r.value,ids:t};"1"==this.props.isExamine&&(o.quicksearch=1),this.props.reject_reserve(o,function(){e.props.handle_selected({},!0)}),n.value="",a.value="0",r.value="",l.value="0",$.jy.pop_float_modal("no","#onRefuse")}},{key:"render",value:function(){var e=this,t=this.props.inner_reject,n=this.props.real_reject;return i.default.createElement("div",{className:"panel-body"},i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control",onChange:function(t){return e.upValue(t,"inner")},ref:function(t){return e.inner=t}},i.default.createElement("option",{value:"0"},"请选择内部拒绝原因"),function(){if(t)return t.map(function(e,t){return i.default.createElement("option",{value:e.type_code,key:t},e.title)})}())),i.default.createElement("input",{type:"hidden",className:"form-control innerRejectTextarea",ref:function(t){return e.innerValue=t}}),i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control realRejectSelect",ref:function(t){return e.real=t},onChange:function(t){return e.upValue(t,"real")}},i.default.createElement("option",{value:"0"},"请选择外部拒绝原因"),function(){if(n)return n.map(function(e,t){return i.default.createElement("option",{value:e.type_code,key:t},e.title)})}())),i.default.createElement("div",{className:"form-group margin5-top clearFlat"},i.default.createElement("textarea",{rows:"5",cols:"60",className:"form-control realRejectTextarea",placeholder:"外部拒绝原因请写在这里，50字",maxLength:"50",ref:function(t){return e.realValue=t}})),i.default.createElement("div",{className:"form-group margin5-top"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.postRefuse()}},"确认拒绝")))}}]),t}(i.default.Component),_=function(e){return{inner_reject:e.dictionary.inner_reject,real_reject:e.dictionary.real_reject,handle_ids:e.reserve.handle_ids}},y=function(e){return{reject_reserve:function(t,n){return e(v.reject_reserve(t,n))},handle_selected:function(t,n){return e(v.handle_selected(t,n))}}};t.default=t.Refuse=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SupportUpdateReserve=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.SupportUpdateReserve=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={isShowReject:!1,isFirst:!0},n}return u(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){if(e.upReserve){var t=!1;"4"==e.upReserve.status&&(t=!0,this.setState({isShowReject:t,isFirst:!0}))}}},{key:"componentDidMount",value:function(){}},{key:"updateSelectStatus",value:function(){"4"==this.status.value?this.setState({isShowReject:!0,isFirst:!1}):this.setState({isShowReject:!1,isFirst:!1})}},{key:"updateReserve",value:function(){var e=this.props.upReserve;if("4"==this.status.value){var t=this.innerValue,n=this.inner,a=this.realValue,r=this.real;if(!t.value)return alert("请填写内部原因"),!1;if(!a.value)return alert("请填写外部原因"),!1;this.props.reject_reserve({inner_refuse_code:n.value,inner_refuse_desc:t.value,real_refuse_code:r.value,real_refuse_desc:a.value,ids:[e.id]}),$.jy.pop_float_modal("no","#supportUpdateReserve")}else this.props.update_reserve({ids:[e.id],status:this.status.value,content:this.note.value}),$.jy.pop_float_modal("no","#supportUpdateReserve")}},{key:"upValue",value:function(e,t){var n=this.props.inner_reject,a=this.props.real_reject,r=null,l=null,o=[];if("inner"==t?(l=this.innerValue,r=this.inner.value,o=n):"real"==t&&(l=this.realValue,r=this.real.value,o=a),"0"==r)return l.value="",!1;for(var u=0;u<o.length;u++)o[u].type_code==r&&(l.value=o[u].content)}},{key:"updateReserveCheckDate",value:function(e){if(this.checkin_date&&this.checkout_date){var t=new Date(this.checkin_date.value),n=new Date(this.checkout_date.value);if(n<t)return alert("离店时间必须大于入住时间"),!1;this.total_nights&&(this.total_nights.value=(n-t)/864e5)}}},{key:"updateReserveContent",value:function(){var e=this.contact_name.value,t=this.contact_phone.value,n=this.checkin_date.value,a=this.checkout_date.value,r=this.total_rooms.value,l=this.total_nights.value,o=this.room_type.value,u=this.desc.value,c={id:this.props.upReserve.id,contact_name:e,contact_phone:t,checkin_date:n,checkout_date:a,total_rooms:r,total_nights:l,room_type:o,note:u};if(c.contact_phone&&!$.jy.form_checkMobile(c.contact_phone))return alert("手机号错误"),!1;if(c.checkin_date&&c.checkout_date){var s=new Date(Date.parse(c.checkin_date.replace(/-/g,"/"))).getTime(),i=new Date(Date.parse(c.checkout_date.replace(/-/g,"/"))).getTime();if(i<s)return alert("离店时间必须大于入住时间"),!1}this.props.update_reserve_data(c),$.jy.pop_float_modal("no","#supportUpdateReserve")}},{key:"render",value:function(){var e=this,t=this.props.dictionary.reserveStatus,n=this.props.inner_reject,a=this.props.real_reject,r=this.props.upReserve,l=this.props.pathname.pathname||"";return l.indexOf("reserve")!=-1?l="reserve":l.indexOf("support")!=-1&&(l="support"),this._pathname=l,i.default.createElement("div",{className:"block pd5"},function(){if(94==localStorage.__role_code)return i.default.createElement("div",{className:"form-group"},i.default.createElement("div",{className:"block margin5-bottom"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.status=t},onChange:function(){return e.updateSelectStatus()}},i.default.createElement("option",{value:"0"},"请选择状态"),function(){if(t)return t.map(function(e,t){return 4==e.code||5==e.code?i.default.createElement("option",{value:e.code,key:e.code},e.name):i.default.createElement("option",{value:e.code,key:e.code,disabled:!0},e.name)})}())))}(),function(){return 94==localStorage.__role_code?e.state.isShowReject?i.default.createElement("div",{className:"block"},i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control",onChange:function(t){return e.upValue(t,"inner")},ref:function(t){return e.inner=t}},i.default.createElement("option",{value:"0"},"请选择内部拒绝原因"),function(){if(n)return n.map(function(e,t){return i.default.createElement("option",{value:e.type_code,key:t},e.title)})}()),i.default.createElement("input",{type:"hidden",className:"form-control innerRejectTextarea",ref:function(t){return e.innerValue=t}})),i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control realRejectSelect",ref:function(t){return e.real=t},onChange:function(t){return e.upValue(t,"real")}},i.default.createElement("option",{value:"0"},"请选择外部拒绝原因"),function(){if(a)return a.map(function(e,t){return i.default.createElement("option",{value:e.type_code,key:t},e.title)})}())),i.default.createElement("div",{className:"form-group margin5-top clearFlat"},i.default.createElement("textarea",{rows:"5",cols:"60",className:"form-control realRejectTextarea",placeholder:"外部拒绝原因请写在这里，50字",maxLength:"50",ref:function(t){return e.realValue=t}}))):i.default.createElement("div",{className:"form-group"},i.default.createElement("textarea",{className:"form-control",placeholder:"请输入操作备注",ref:function(t){return e.note=t}})):i.default.createElement("div",null)}(),function(){if(r&&94==localStorage.__role_code)return e.state.isFirst&&(e.status&&(e.status.value=r.status),e.note&&(e.note.value="")),i.default.createElement("div",{className:"form-group text-center margin5-bottom"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.updateReserve()}},"确认修改状态"))}())}}]),t}(i.default.Component),_=function(e){return{inner_reject:e.dictionary.inner_reject,real_reject:e.dictionary.real_reject,dictionary:e.dictionary,upReserve:e.reserve.get_reserve,pathname:e.routing.locationBeforeTransitions}},y=function(e){return{reject_reserve:function(t){return e(v.reject_reserve(t))},update_reserve:function(t){return e(v.update_reserve(t))},update_reserve_data:function(t){return e(v.update_reserve_data(t))}}};t.default=t.SupportUpdateReserve=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(1),l=a(r),o=n(233),u=a(o),c=n(82),s=n(2),i=n(334),d=a(i),f=n(49),p=n(139),m=n(186),v=a(m),h=n(151),_=n(172),y=n(175),E=n(171),b=n(164),g=n(157),k=n(160),N=n(158),w=n(156),O=n(168),T=n(159);n(197),n(198),n(199),n(200),n(147),n(148);var j=n(161),x=a(j),P=(0,c.compose)((0,c.applyMiddleware)((0,f.routerMiddleware)(p.browserHistory),d.default),window.devToolsExtension?window.devToolsExtension():function(e){return e})(c.createStore),C=P(v.default),S=(C.subscribe(function(){return function(){}}),(0,f.syncHistoryWithStore)(p.browserHistory,C));u.default.render(l.default.createElement(s.Provider,{store:C},l.default.createElement(p.Router,{history:S},l.default.createElement(p.Route,{path:"/",component:h.Login}),l.default.createElement(p.Route,{path:"/login",component:h.Login}),l.default.createElement(p.Route,{path:"/reserve",component:k.ReserveContainer}),l.default.createElement(p.Route,{path:"/statistics",component:x.default}),l.default.createElement(p.Route,{path:"/examine",component:N.Examine}),l.default.createElement(p.Route,{path:"/examine2",component:T.Examine2}),l.default.createElement(p.Route,{path:"/support",component:b.SupportContainer}),l.default.createElement(p.Route,{path:"/product",component:_.ProductSearch}),l.default.createElement(p.Route,{path:"/product/reserve",component:_.ProductSearch}),l.default.createElement(p.Route,{path:"/product/support",component:_.ProductSearch}),l.default.createElement(p.Route,{path:"/terminology",component:y.Terminology}),l.default.createElement(p.Route,{path:"/message",component:E.MessageMain}),l.default.createElement(p.Route,{path:"/report",component:g.Report}),l.default.createElement(p.Route,{path:"/report/paymentstatus",component:w.PaymentStatus}),l.default.createElement(p.Route,{path:"/test",component:O.test}))),document.getElementById("root"))},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NavTabs=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=(a(m),t.NavTabs=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={w:0,currLabel:"orderBox",scrollWindow:0},n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){}},{key:"tabLabel",value:function(e,t){var n=this.state.currLabel,a=$("#"+t)[0].offsetTop;$("#orderMain").animate({scrollTop:a-50},300),t!=n&&this.setState({currLabel:t})}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this,t=this.state.currLabel;return i.default.createElement("div",{className:"navTabs",ref:function(t){return e.navTabs=t}},i.default.createElement("div",{className:"fixedNavBox cf"},i.default.createElement("a",{href:"javascript:",onClick:function(t){return e.tabLabel(t,"orderBox")},className:"orderBox"==t?"curr":""},i.default.createElement("span",null,"订单信息")),i.default.createElement("a",{href:"javascript:",onClick:function(t){return e.tabLabel(t,"refundsBox")},className:"refundsBox"==t?"curr":""},i.default.createElement("span",null,"退款信息")),i.default.createElement("a",{href:"javascript:",onClick:function(t){return e.tabLabel(t,"reservationBox")},className:"reservationBox"==t?"curr":""},i.default.createElement("span",null,"预约单")),i.default.createElement("a",{href:"javascript:",onClick:function(t){return e.tabLabel(t,"userMain")},className:"userMain"==t?"curr":""},i.default.createElement("span",null,"用户信息"))))}}]),t}(i.default.Component)),h=function(e){return{}},_=function(e){return{}};t.default=t.NavTabs=v=(0,d.connect)(h,_)(v)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderMain=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(32),_=t.OrderMain=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"goUrl",value:function(){var e=this.props.detail,t=this.props.pathname.pathname||"",n="other";n=t.indexOf("reserve")!=-1?"reserve":"support",this.props.goUrl("/product?id="+e.product_id+"&urlform="+n)}},{key:"updatePackage",value:function(e){e&&this.props.update_order_package({id:e})}},{key:"tabLabel",value:function(e,t){var n=$("#"+t)[0].offsetTop;$("#orderMain").animate({scrollTop:n-50},300)}},{key:"render",value:function(){var e=this,t=this.props.detail,n=t.user||{},a=t.orderPackage||[],r=t.orderPayment||{},l=t.orderSupport,o=t.product||{};return i.default.createElement("div",{className:"orderMain columnBox",id:"orderBox"},i.default.createElement("div",{className:"headerComponents",role:"button","data-toggle":"collapse",href:"#orderInfoBox","aria-expanded":"false","aria-controls":"orderInfoBox"},"订单信息",i.default.createElement("span",{className:" pull-right shrink"},i.default.createElement("i",{className:"fa fa-angle-down"}))),i.default.createElement("div",{className:"collapse in",id:"orderInfoBox"},i.default.createElement("ul",{className:"shrinkBox"},i.default.createElement("li",{className:"block"},i.default.createElement("div",{className:"col-sm-3 pd0 color_gray1"},i.default.createElement("span",null,"订单号")),i.default.createElement("div",{className:"col-sm-9"},i.default.createElement("p",null,t.order_sn))),i.default.createElement("li",{className:"block"},i.default.createElement("div",{className:"col-sm-3 pd0 color_gray1"},i.default.createElement("span",null,"用户")),i.default.createElement("div",{className:"col-sm-8"},i.default.createElement("div",{className:"picMsgBox"},function(){var e=n.user_icon;return e?i.default.createElement("div",{className:"pic ",style:{backgroundImage:"url("+n.user_icon+")"}}):i.default.createElement("div",{className:"pic g_userHead"})}(),i.default.createElement("div",{className:"msg"},i.default.createElement("p",{className:"userPhone"},n.phone),i.default.createElement("p",{className:"userName"},n.realname||n.username||"-",i.default.createElement("span",{className:"gender"},n.gender||"-"))))),i.default.createElement("div",{className:"col-sm-1 pd0",onClick:function(t){return e.tabLabel(t,"userMain")}},i.default.createElement("span",{className:"more"},"更多"))),i.default.createElement("li",{className:"block"},i.default.createElement("div",{className:"col-sm-3 pd0 color_gray1"},i.default.createElement("span",null,"购买产品")),i.default.createElement("div",{className:"col-sm-8"},i.default.createElement("div",{className:"picMsgBox"},i.default.createElement("div",{className:"pic",style:{backgroundImage:"url("+o.img+")"}}),i.default.createElement("div",{className:"msg"},i.default.createElement("h5",{className:"textHidden title"},o.title||"-"),i.default.createElement("h5",{className:"textHidden title"},"产品ID",t.product_id||"-"),function(){if(a.length)return a.map(function(e,t){return i.default.createElement("div",{key:e.id,className:"buyPackage"},i.default.createElement("p",{className:"textHidden"},e.name||"-","   ",i.default.createElement("span",{className:"packagePrice"},e.per_price)),i.default.createElement("p",{className:"copies-info"},"购买",i.default.createElement("span",{className:"copies"},e.copies||"0"),"份 已使用",i.default.createElement("span",{className:"copies"},e.used_copies||"0"),"份 退款",i.default.createElement("span",{className:"copies"},e.refund_copies||"0"),"份"))})}()))),function(){if(o.id)return i.default.createElement("div",{className:"col-sm-1 pd0 ",onClick:function(){return e.goUrl()}},i.default.createElement("span",{className:"more"},"更多"))}()),i.default.createElement("li",{className:"block"},i.default.createElement("div",{className:"col-sm-3 pd0 color_gray1"},i.default.createElement("p",null,"订单创建时间"),i.default.createElement("p",null,"支付时间"),i.default.createElement("p",null,"支付方式"),i.default.createElement("p",null,"实付"),i.default.createElement("p",null,"付款用户ID"),i.default.createElement("p",null,"用户手机号")),i.default.createElement("div",{className:"col-sm-8"},i.default.createElement("p",null,r.created_at||"-"),i.default.createElement("p",null,r.pay_time||"-"),i.default.createElement("p",null,r.method||"-"),i.default.createElement("p",null,r.actual||"-","元 "),i.default.createElement("p",null,r.user_id||"-"),i.default.createElement("p",null,r.order_phone||"-")))),function(){if(l){var e=l.reserveLogs||[];return i.default.createElement(h.SupportItem,{logs:e,support:l})}}()))}}]),t}(i.default.Component),y=function(e){return{detail:e.tree,pathname:e.routing.locationBeforeTransitions}},E=function(e){return{goUrl:function(t){return e(v.goUrl(t))},update_order_package:function(t){return e(v.update_order_package(t))}}};t.default=t.OrderMain=_=(0,d.connect)(y,E)(_)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PackageMain=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.PackageMain=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"goUrl",value:function(e){var t=this.props.pathname.pathname||"",n="other";n=t.indexOf("reserve")!=-1?"reserve":"support",this.props.goUrl("/product?id="+e+"&urlform="+n)}},{key:"render",value:function(){var e=this,t=this.props.package.productPackage||[],n=this.props.package.selectID||"",a=null;return t.length&&(a=t.map(function(t,a){var r=function(t){return console.log(t),i.default.createElement("div",{className:"packageMain columnBox",key:t.id},i.default.createElement("div",{className:"headerComponents"},i.default.createElement("span",{role:"button","data-toggle":"collapse",href:"#packageMainBox","aria-expanded":"false","aria-controls":"packageMainBox"},"套餐信息"),i.default.createElement("span",{className:"pull-right pd5-right",onClick:function(){return e.goUrl(t.id)}},"查看产品详情")),i.default.createElement("div",{className:"collapse in",id:"packageMainBox"},i.default.createElement("div",{className:"introduction"},i.default.createElement("div",{className:"msg"},i.default.createElement("h5",null,t.name||"-"),i.default.createElement("p",null,"套餐ID：",t.id||"-"),i.default.createElement("p",null,"渠道：",t.channel||"-"),i.default.createElement("p",null,"结算价：",t.settle_price||"-"),i.default.createElement("p",null,"预约开始：",t.reserve_start||"-"),i.default.createElement("p",null,"预约结束：",t.reserve_end||"-"))),i.default.createElement("p",{className:"title"},"套餐内容"),i.default.createElement("div",{className:"content",dangerouslySetInnerHTML:{__html:t.content}})))};return n?n==t.id?r(t):void 0:r(t)})),i.default.createElement("div",null,a)}}]),t}(i.default.Component),_=function(e){return{package:e.tree,pathname:e.routing.locationBeforeTransitions}},y=function(e){return{goUrl:function(t){return e(v.goUrl(t))}}};t.default=t.PackageMain=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RefundsMain=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=(a(m),n(32),t.RefundsMain=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props.detail,t=e.refunds||[];return i.default.createElement("div",{className:"orderMain columnBox",id:"refundsBox"},i.default.createElement("div",{className:"headerComponents",role:"button","data-toggle":"collapse",href:"#refundsInfoBox","aria-expanded":"false","aria-controls":"refundsInfoBox"},"退款信息",i.default.createElement("span",{className:" pull-right shrink"},i.default.createElement("i",{className:"fa fa-angle-down"}))),i.default.createElement("div",{className:"collapse in",id:"refundsInfoBox"},i.default.createElement("ul",null,function(){return t.length?t.map(function(e,t){var n="";switch(e.status){case 0:n="提交退款";break;case 1:n="客服处理中";break;case 2:n="财务处理中";break;case 3:n="全部退款";break;case 4:n="退款失败";break;default:n="提交退款"}return i.default.createElement("li",{className:"block",key:e.id},i.default.createElement("div",{className:"col-sm-3 pd0"},i.default.createElement("p",null,"退款")),i.default.createElement("div",{className:"col-sm-8"},i.default.createElement("p",null,i.default.createElement("span",{className:"color_gray1"},"退款方式："),e.refund_ac_mode||"-"),i.default.createElement("p",null,i.default.createElement("span",{className:"color_gray1"},"退款人："),e.refund_ac_name||"-"),i.default.createElement("p",null,i.default.createElement("span",{className:"color_gray1"},"退款状态："),n),i.default.createElement("p",null,i.default.createElement("span",{className:"color_gray1"},"退款账户："),e.refund_ac_num||"-"),i.default.createElement("p",null,i.default.createElement("span",{className:"color_gray1"},"实退："),e.amount),i.default.createElement("p",null,i.default.createElement("span",{className:"color_gray1"},"退款理由："),e.reason),i.default.createElement("p",null,i.default.createElement("span",{className:"color_gray1"},"提交时间："),e.created_at),i.default.createElement("div",{className:"refund-package"},function(){var t=e.packages||[];if(t.length>0)return t.map(function(e){var t=e.id,n=e.name,a=e.copies;return i.default.createElement("p",{key:t},i.default.createElement("span",{className:"color_gray1"},n,"："),a)})}())))}):i.default.createElement("li",{className:"block"},i.default.createElement("p",null,"无退款"))}())))}}]),t}(i.default.Component)),h=function(e){return{detail:e.tree}},_=function(e){return{}};t.default=t.RefundsMain=v=(0,d.connect)(h,_)(v)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{
default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReserveMain=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(32),_=n(173),y=t.ReserveMain=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"showTicket",value:function(e){this.props.get_ticket(e),$.jy.pop_float_modal("yes","#updateTicket")}},{key:"showreservation",value:function(e,t){var n=$("#reservationLi"+t);n.hasClass("on")?this.props.update_package({id:null}):this.props.update_package({id:e}),n.siblings().removeClass("on"),n.siblings().find(".detail").slideUp(300),n.find(".detail").slideToggle(300),n.toggleClass("on")}},{key:"componentDidMount",value:function(){}},{key:"print",value:function(e){var t=$("#reservationIframe"+e)[0].contentWindow;t.document.body.innerHTML=$("#reservationPrint"+e).html(),t.print()}},{key:"showUserDetail",value:function(e){this.props.showUserDetail(e),$.jy.pop_float_modal("yes","#showUserDetail")}},{key:"render",value:function(){var e=this,t=this.props.reserves.reserves;if(!t)return i.default.createElement("div",null);var n=null,a=this.props.type;return t.length&&(n=t.map(function(t,n){function r(e){if(e){var t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()}}var l=t.hotels||[],o=[];"airplane_hotel"!=t.type&&"airplane"!=t.type||(o=t.oldTravelers||[],o.length||(o=t.flights||[]));var u=t.travelers||t.oldTravelers,c=t.reserveLogs||[],s=t.subOrders||[],d=t.support,f=t.oldReservelog||[],p=t.oldReserveprocess||[],m="";if("reserve"==a)t.id==e.props.id&&(m="on current");else if("support"==a){var v=e.props.select_sub||{};"reserve"==v.type&&t.id==v.id&&(m="on current")}var y=1;y=7==t.status||1==t.status?1:5==t.status||6==t.status?2:2==t.status?3:3==t.status||4==t.status?4:1;var E=null;E=c.length?c.map(function(e,t){return i.default.createElement("div",{className:"item block",key:e.id},i.default.createElement("div",{className:"h-4 col-sm-1 fa fa-user-o"}),i.default.createElement("div",{className:"h-4 col-sm-5"},i.default.createElement("p",{className:"h-2"},e.realname||"-"),i.default.createElement("p",{className:"h-2"},e.content||"-")),i.default.createElement("div",{className:"h-4 col-sm-3 pd5-left pd5-right"},i.default.createElement("p",{className:"h-4"},e.name)),i.default.createElement("div",{className:"h-4 col-sm-3"},i.default.createElement("p",{className:"h-4"},e.time?e.time.split("-")[1]+e.time.split("-")[2]:"-")))}):i.default.createElement("div",{className:"supportMsg"},"暂无记录");var b=t.package,g=b.name,k=r(t.checkin_date)+" / "+r(t.checkout_date)+" ",N=function(){return t.confirm_time?"确认："+t.confirm_time:" 提交时间："+t.created_at}();return i.default.createElement("li",{key:t.id,className:"reservationLi "+m,id:"reservationLi"+t.id},i.default.createElement("h5",{className:"headerTitle cf",onClick:function(){return e.showreservation(t.package_id,t.id)},"aria-expanded":"true","aria-controls":"collapseOne",title:"预约号:"+t.reserve_id},i.default.createElement("div",{className:"headerTitle_l"},i.default.createElement("span",{className:"packageTitle"},g),i.default.createElement("p",null,i.default.createElement("span",{className:"reservesDate"},"预约行程：",k),i.default.createElement("span",{className:"R_status"},N))),i.default.createElement("div",{className:"headerTitle_r"},i.default.createElement("span",{className:"jt"},i.default.createElement("i",{className:"fa fa-angle-down"})),function(){if(m)return i.default.createElement("span",{className:"pull-right pd5-right"},"当前预约单")}(),i.default.createElement("span",{className:"pull-right"},t.statusname,"    "))),i.default.createElement("div",{className:"detail"},i.default.createElement("div",{className:"check rank block lg"+y},i.default.createElement("span",{className:"text-left"},"审核中"),i.default.createElement("span",null,5==t.status?"审核不通过":"审核通过"),i.default.createElement("span",null,"酒店确认中"),i.default.createElement("span",{className:"text-right"},4==t.status?"预约失败":"预约成功")),i.default.createElement("h5",{className:"block"},"预约信息",i.default.createElement("span",{className:"btn btn-sm btn-info pull-right",onClick:function(){return e.print(t.id)}},"打印"),i.default.createElement("iframe",{style:{display:"none"},id:"reservationIframe"+t.id}),i.default.createElement("div",{id:"reservationPrint"+t.id,style:{display:"none"}},i.default.createElement(_.ReservePrint,{reserveId:t.id,data:t}))),i.default.createElement("div",{className:"border"},i.default.createElement("p",null,"预约号:",t.reserve_id),i.default.createElement("p",null,"老后台操作人：",t.service_user||"-"),i.default.createElement("p",null,"联系人：",t.contact_name),i.default.createElement("p",null,"联系方式：",t.contact_phone||"-"," / ",t.contact_email||"-"),i.default.createElement("p",null,"入住时间：",t.checkin_date||"-"," / ",t.checkout_date||"-"),i.default.createElement("p",null,"提交时间：",t.created_at),i.default.createElement("p",null,"录入结算价：",t.settle_price||"-"),i.default.createElement("p",null,"套餐价：",t.price||"-"),i.default.createElement("p",null,"使用份数：",t.copies||"无"),i.default.createElement("p",null,"优惠券：",t.coupon_cost||"无"),i.default.createElement("p",null,"备注信息：",t.note||"无"),i.default.createElement("p",null,"客服备注：",t.service_mark||"无")),i.default.createElement("h5",{className:"pd5-top margin5-top"},"补差价信息"),function(){return s.length?s.map(function(e,t){return i.default.createElement("div",{className:"border",key:t},i.default.createElement("p",null,"订单号：",e.order_sn),i.default.createElement("p",null,"支付金额：",e.actual),i.default.createElement("p",null,"支付时间：",e.pay_time||"-"))}):i.default.createElement("p",{className:"border"},"无补差价")}(),function(){return t.hotels?i.default.createElement("div",{className:"productType"},function(){if(l.length){var t=e.props.reserves.product||{},n=l.map(function(e,n){return i.default.createElement("div",{className:"col-sm-6",key:e.id},i.default.createElement("div",{className:"item"},i.default.createElement("div",{className:"title textHidden"},t.name),i.default.createElement("div",{className:"main"},i.default.createElement("div",{className:"col-sm-4 pd5"},i.default.createElement("p",null,e.roomNote),i.default.createElement("p",null,e.roomStays?e.roomStays.length:"0","间",e.nightCount||"0","晚")),i.default.createElement("div",{className:"col-sm-8 pd5"},i.default.createElement("p",null,"入住：",e.in),i.default.createElement("p",null,"退房：",e.out)),function(){var t=e.roomStays||[];if(t.length>0)return i.default.createElement("div",{className:"col-sm-12 pd5"},i.default.createElement("p",null,"房间确认号：",function(){return t.map(function(e){var t=e.id,n=e.confirm;return i.default.createElement("span",{className:"tag tag--success",key:t},n)})}()))}())))});return i.default.createElement("div",{className:"hotel block box"},i.default.createElement("div",{className:"col-sm-2 pd0"},i.default.createElement("div",{className:"pic fa fa-building"},i.default.createElement("span",null,"酒店"),i.default.createElement("span",null,"-"))),i.default.createElement("div",{className:"col-sm-10 pd0"},n))}}()):i.default.createElement("div",{className:"block"},i.default.createElement("h5",{className:"pd5-top margin5-top"},"预约详情（老预约单）"),i.default.createElement("div",{className:"border"},i.default.createElement("p",null,"预约号：",t.reserve_id),i.default.createElement("p",null,"产品ID/套餐ID：",t.product_id,"/",t.package_id),i.default.createElement("p",null,"使用份数：",t.copies||"0"),i.default.createElement("p",null,"预约类型：",t.type||"0"),i.default.createElement("p",null,"预约房型：",t.room_type||"0"),i.default.createElement("p",null,"入住时间：",t.checkin_date||"-"),i.default.createElement("p",null,"离店时间：",t.checkout_date||"-"),i.default.createElement("p",null,"出行人数：",t.total_people||"0"),i.default.createElement("p",null,"房间总数：",t.total_rooms||"0"),i.default.createElement("p",null,"房晚数：",t.total_nights||"-"),i.default.createElement("p",null,"起飞时间：",t.air_go_date||"-"),i.default.createElement("p",null,"返程时间：",t.air_back_date||"-"),i.default.createElement("p",null,"确认时间：",t.confirm_time||"-")))}(),function(){if(o.length){var e=o.map(function(e,n){return i.default.createElement("div",{className:"col-sm-6",key:e.id},i.default.createElement("div",{className:"item"},i.default.createElement("div",{className:"title textHidden"},t.air_plan_go||"出发地","-",t.air_plan_back||"抵达地"),i.default.createElement("div",{className:"main"},i.default.createElement("div",{className:"col-sm-8 pd5"},i.default.createElement("p",null,"乘机人：",e.name||"-"),i.default.createElement("p",null,"票：",e.ticketNo||e.air_ticket_num||"无"),i.default.createElement("p",null,"时间：",t.air_go_date?t.air_go_date.split(" ")[0]:"-","至",t.air_back_date?t.air_back_date.split(" ")[0]:"-")))))});return i.default.createElement("div",{className:"productType"},i.default.createElement("div",{className:"plane block box"},i.default.createElement("div",{className:"col-sm-2 pd0"},i.default.createElement("div",{className:"pic fa fa-plane"},i.default.createElement("span",null,"机票"),i.default.createElement("span",null,"-"))),i.default.createElement("div",{className:"col-sm-10 pd0"},e)))}}(),function(){if(u.length){var t=u.map(function(e,t){var n=function(){if(e.img)return i.default.createElement("div",{className:"pic pd0 col-sm-4",style:{backgroundImage:"url("+e.img+")"}})}();e.img?{backgroundImage:"url("+e.img+")"}:{};return i.default.createElement("div",{className:"col-sm-6 travelersRow",key:e.id},i.default.createElement("div",{className:"item block"},n,i.default.createElement("div",{className:"msg col-sm-8"},i.default.createElement("p",{className:"textHidden"},e.name),i.default.createElement("p",{className:"textHidden"},e.phone),i.default.createElement("p",{className:"textHidden"},e.no||e.idcard))))});return i.default.createElement("div",{className:"travelers block border"},i.default.createElement("div",{className:"col-sm-2 "},i.default.createElement("h5",null,"出行人"),i.default.createElement("p",{className:"h-4",onClick:function(){return e.showUserDetail(u)}},"查看联系人详细")),i.default.createElement("div",{className:"col-sm-10 "},t))}}(),i.default.createElement("div",{className:"listRecord"},i.default.createElement("h5",null,i.default.createElement("span",{className:"T_small"},"预约单记录")),E),function(){if(d)return i.default.createElement(h.SupportItem,{support:d})}(),function(){if(f.length)return i.default.createElement("div",{className:"listRecord"},i.default.createElement("h5",null,i.default.createElement("span",{className:"T_small"},"老预约单记录(log)")),function(){return f.map(function(e,t){return i.default.createElement("div",{className:"item block",key:e.id},i.default.createElement("p",{className:"h-2"},"预约单：",e.reserve_id),i.default.createElement("p",{className:"h-2"},"操作人：",e.realname||"工作人员ID"+e.action_user),i.default.createElement("p",{className:"h-2"},"生成时间：",e.created_at),i.default.createElement("p",{className:"h-2"},"操作：",e.action||"-"))})}())}(),function(){if(p.length)return i.default.createElement("div",{className:"listRecord"},i.default.createElement("h5",null,i.default.createElement("span",{className:"T_small"},"老预约单进度(process)")),function(){return p.map(function(e,t){return i.default.createElement("div",{className:"item block",key:e.id},i.default.createElement("p",{className:"h-2"},"预约单：",e.reserve_id),i.default.createElement("p",{className:"h-2"},"操作人：",e.realname||"工作人员ID"+e.action_user),i.default.createElement("p",{className:"h-2"},"生成时间：",e.created_at),i.default.createElement("p",{className:"h-2"},"内容：",e.comment||"-"))})}())}()))})),i.default.createElement("div",{className:"reserveMain columnBox",id:"reservationBox"},i.default.createElement("div",{className:"headerComponents ",role:"button","data-toggle":"collapse",href:"#appointment","aria-expanded":"false","aria-controls":"appointment"},"预约单信息",i.default.createElement("span",{className:" pull-right shrink"},i.default.createElement("i",{className:"fa fa-angle-down"}))),i.default.createElement("ul",{className:"collapse in",id:"appointment",role:"tablist","aria-multiselectable":"true"},n))}}]),t}(i.default.Component),E=function(e){return{reserves:e.tree,id:e.select.id,type:e.select.type,select_sub:e.select.sub}},b=function(e){return{get_ticket:function(t){return e(v.get_ticket(t))},showUserDetail:function(t){return e(v.showUserDetail(t))},update_package:function(t){return e(v.update_package(t))}}};t.default=t.ReserveMain=y=(0,d.connect)(E,b)(y)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShowUserDetail=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=(r(f),n(4)),m=(a(p),t.ShowUserDetail=function(e){function t(){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props.user;console.log("user",e);var t=function(){if(e)return e.map(function(e,t){return i.default.createElement("a",{key:t,href:"#person"+e.id},i.default.createElement("span",null,e.name))})}();return i.default.createElement("div",{className:"contactpersonBox"},i.default.createElement("div",{className:"nameTage"},t),i.default.createElement("ul",{className:"contactAll"},function(){if(e)return e.map(function(e,t){var n=e.sex?"male"==e.sex?"男":"女":"1"==e.gender?"男":e.gender?"女":"-",a=e.id_type||"未知类型",r=e.idcard||e.no||"-";return i.default.createElement("li",{key:e.id,className:"contactRow",id:"person"+e.id},i.default.createElement("div",{className:"head  col-md-12"},e.name," ",i.default.createElement("span",{className:"userid"},"手机:",e.phone),"    "),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"性别:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},n)),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"证件类型:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},a)),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"证件号:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},r)),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"生日:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},e.birthday||"-")),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"邮箱:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},e.email||"-")),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"英文名:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},e.en_family_name||"-",e.en_last_name)),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"国籍:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},e.nationality||"-")),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"护照有效期:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},e.id_end||"-")),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"所在地:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},e.id_sign_cc||"-",e.id_sign_pr)),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"创建时间:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},e.created_at||"-")),i.default.createElement("p",{className:"cr_row "},i.default.createElement("span",{className:"cr_l col-md-3"},"备注:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},e.desc||"无")),function(){if(e.img)return i.default.createElement("p",{className:"cr_row"},i.default.createElement("span",{className:"cr_l col-md-3"},"证件照:")," ",i.default.createElement("span",{className:"cr_r col-md-9"},i.default.createElement("img",{alt:"证件图",src:e.img})))}())})}()))}}]),t}(i.default.Component)),v=function(e){return{user:e.getItemData.user_detail}},h=function(e){return{}};t.default=t.ShowUserDetail=m=(0,d.connect)(v,h)(m)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserMain=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=(a(m),t.UserMain=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"render",value:function(){var e=this.props.detail.user||{},t=e.reserves||{},n=e.user_icon,a=n?{backgroundImage:"url("+e.user_icon+")"}:{};return i.default.createElement("div",{className:"userMain columnBox",id:"userMain"},i.default.createElement("div",{className:"headerComponents",role:"button","data-toggle":"collapse",href:"#userInfoBox","aria-expanded":"false","aria-controls":"userInfoBox"},"用户信息",i.default.createElement("span",{className:" pull-right shrink"},i.default.createElement("i",{className:"fa fa-angle-down"}))),i.default.createElement("ul",{className:"collapse in ",id:"userInfoBox"},i.default.createElement("li",{className:"block"},i.default.createElement("div",{className:"col-sm-3 pd0"},i.default.createElement("div",{className:"pic "+(n?"":"g_userHead"),style:a})),i.default.createElement("div",{className:"col-sm-8"},i.default.createElement("p",null,"ID：",e.id),i.default.createElement("p",null,"手机号：",e.phone))),i.default.createElement("li",{className:"block"},i.default.createElement("div",{className:"col-sm-3 pd0"},i.default.createElement("p",null,"生日"),i.default.createElement("p",null,"邮箱"),i.default.createElement("p",null,"城市"),i.default.createElement("p",null,"地址")),i.default.createElement("div",{className:"col-sm-8"},i.default.createElement("p",null,e.birthday||"-"),i.default.createElement("p",null,e.email||"-"),i.default.createElement("p",null,e.city||"-"),i.default.createElement("p",null,e.address||"-"))),i.default.createElement("li",{className:"block"},i.default.createElement("div",{className:"col-sm-3 pd0"},i.default.createElement("p",null,"预约数")),i.default.createElement("div",{className:"col-sm-8"},i.default.createElement("p",null,"共",t.totalReserves||"0","次 成功",t.totalReserveSuccess||"0","次 失败",t.totalReserveFailed||"0","次 预约中",t.totalReserveNotHandled||"0","次"))),i.default.createElement("li",{className:"block"},i.default.createElement("div",{className:"col-sm-3 pd0"},i.default.createElement("p",null,"用户备注")),i.default.createElement("div",{className:"col-sm-8"},i.default.createElement("p",null,e.desc||"无")))))}}]),t}(i.default.Component)),h=function(e){return{detail:e.tree}},_=function(e){return{}};t.default=t.UserMain=v=(0,d.connect)(h,_)(v)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){"use strict";$.cookie("user_id",1),function(e){e.__userID=$.cookie("user_id"),e.__userName="good_admin",e.base_pic=e.location.protocol+"//"+e.location.host+"/assets/img/crm/img/",e.notUser="./assets/img/alert.png",e.h5_pic="http://h5.blatrip.com/assets/img/",e.getNowFormatDate=function(e,t,n){var a=null;n&&(a=n||null);var r=a||new Date,l=e||"dateTime",o=t||"-",u=null,c=null,s="年月日"==o?null:o,i=":",d=r.getMonth()+1,f=r.getDate();if(d>=1&&d<=9&&(d="0"+d),f>=0&&f<=9&&(f="0"+f),c=r.getFullYear()+(s||"年")+d+(s||"月")+f+(s?"":"日"),u=r.getHours()+i+r.getMinutes()+i+r.getSeconds(),"time"==l)return u;if("date"==l)return c;if("timestamp"==l){var p=parseInt(r.getTime()/1e3);return p}return c+" "+u},e.getAge=function(e){var t,n=e.split("-"),a=n[0],r=n[1],l=n[2],o=new Date,u=o.getFullYear(),c=o.getMonth()+1,s=o.getDate();if(u==a)t=0;else{var i=u-a;if(i>0)if(c==r){var d=s-l;t=d<0?i-1:i}else{var f=c-r;t=f<0?i-1:i}else t=-1}return t},e.Array.prototype.delRepeat=function(e){for(var t={},n=this.length,a=0;a<n;a++){var r=this[a];t.hasOwnProperty(r)||r==e||(t[this[a]]="yes")}n=0;var l=[];for(var a in t)l[n++]=a;return l},e.Array.prototype.removeByValue=function(e){for(var t=0;t<this.length;t++)if(this[t]==e){this.splice(t,1);break}},e._dateDiff=function(e,t){var n,a,r,l;return n=e.split("-"),a=new Date(n[1]+"-"+n[2]+"-"+n[0]),n=t.split("-"),r=new Date(n[1]+"-"+n[2]+"-"+n[0]),l=parseInt(Math.abs(a-r)/1e3/60/60/24)},e._dateCompare=function(e,t){var n=e.split("-"),a=t.split("-"),r=n[0]+"/"+n[1]+"/"+n[2],l=a[0]+"/"+a[1]+"/"+a[2];return!(r>l)},e.$G=function(){var e,t,n=top.window.location.href,a="";if(e="#"==arguments[arguments.length-1]?n.split("#"):n.split("?"),t=1==e.length?"":e[1],""!=t)for(var r=t.split("&"),l=r.length,o=arguments[0]+"=",u=0;u<l;u++)if(0==r[u].indexOf(o)){a=r[u].replace(o,"");break}return a}}(window),$.extend({jy:{showBox:function(e){}}}),$.extend($.jy,{hash:function(e){var t="hashchange",n=document,a=n.documentMode,r="on"+t in window&&(void 0===a||a>7);return r?($(window).off(t).on(t,function(){var t=window.location.hash.replace("#","");e(t)}),void $(window).trigger(t)):(console.log("您的浏览器不支持hashchange"),!1)},pop_tip:function(e){var t=e||{},n={};n._id="J_popTip",n._display=t.display,n._success=t.success,n._msg=t.msg||"请给与系统提示！",n._wrap=t.wrap||"body",n._style=t.style||{},n._duration=t.duration||800;var a='<div class="jy_popTip" id='+n._id+">"+n._msg+"</div>";return"show"==n._display&&($("#"+n._id).is(":animated")||0!=$("#"+n._id).length||($(a).appendTo(n._wrap).fadeIn(500,function(){$("#"+n._id).delay(n._duration).fadeOut(500,function(){$(this).remove(),$.isFunction(n._success)&&n._success()})}),$("#"+n._id).css(n._style))),n},pop_mask:function(e,t,n){var a=t||"body",r=$("#jy-mask"),l=!1;switch(e){case"yes":if(l)return!1;if(r.length<1){var o=$('<div class="modal-backdrop fade" id="jy-mask"></div>'),u=o.appendTo(a);setTimeout(function(){u.addClass("in")},20)}else r.hasClass("in")?console.log("pop_mask in"):r.show().addClass("in");break;case"no":if(l)return!1;r.removeClass("in"),setTimeout(function(){r.hide(),l=!0},300);break;default:alert("sorry")}},pop_float_modal:function(e,t,n){if(!e)return alert("function(_do,clear)"),!1;var a=null;a=t?$(t):$(".jy-float-modal");var r=!1;if(a.length<1)return alert("未加载组件"),!1;switch(e){case"yes":r||(a.show().addClass("in"),$.jy.pop_mask("yes","body","#myMask"));break;case"no":if(r)return!1;r=!0,a.removeClass("in"),$.jy.pop_mask("no","body","#myMask"),setTimeout(function(){a.hide(),"empty"==n?a.find(".modal-body").empty(""):"remove"==n&&a.remove(),r=!1},300)}},pop_loading:function(e){if("yes"==e){if(0==$("#popLoading").length){var t='<div class="jy_loadAbs" id="popLoading"></div>';$("body").append(t)}$("#popLoading").show()}else $("#popLoading").fadeOut()},form_checkUser:function(e){var t=/^[\u4e00-\u9fa5_a-zA-Z]+$/;return!!t.test(e)},form_checkMobile:function(e){var t=/^1\d{10}$/;return!!t.test(e)},form_checkTel:function(e){var t=/^0\d{2,3}-?\d{7,8}$/;return!!t.test(e)},form_checkEmail:function(e){var t=/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/;return!!t.test(e)},form_checkNumber:function(e){var t=/^[0-9]*$/;return!!t.test(e)},form_IdCardNo:function(e){var e=e.toUpperCase();if(!/(^\d{15}$)|(^\d{17}([0-9]|X)$)/.test(e))return alert("输入的身份证号长度不对，或者号码不符合规定！\n15位号码应全为数字，18位号码末位可以为数字或X。"),!1;var t,n;if(t=e.length,15==t){n=new RegExp(/^(\d{6})(\d{2})(\d{2})(\d{2})(\d{3})$/);var a,r=e.match(n),l=new Date("19"+r[2]+"/"+r[3]+"/"+r[4]);if(a=l.getYear()==Number(r[2])&&l.getMonth()+1==Number(r[3])&&l.getDate()==Number(r[4])){var o,u=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),c=new Array("1","0","X","9","8","7","6","5","4","3","2"),s=0;for(e=e.substr(0,6)+"19"+e.substr(6,e.length-6),o=0;o<17;o++)s+=e.substr(o,1)*u[o];return e+=c[s%11]}return alert("输入的身份证号里出生日期不对！"),!1}if(18==t){n=new RegExp(/^(\d{6})(\d{4})(\d{2})(\d{2})(\d{3})([0-9]|X)$/);var a,r=e.match(n),l=new Date(r[2]+"/"+r[3]+"/"+r[4]);if(a=l.getFullYear()==Number(r[2])&&l.getMonth()+1==Number(r[3])&&l.getDate()==Number(r[4])){var i,o,u=new Array(7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2),c=new Array("1","0","X","9","8","7","6","5","4","3","2"),s=0;for(o=0;o<17;o++)s+=e.substr(o,1)*u[o];return i=c[s%11],i!=e.substr(17,1)?(alert("18位身份证的校验码不正确！应该为："+i),!1):e}return alert("输入的身份证号里出生日期不对！"),!1}}})},function(e,t){"use strict";!function(e){var t={path:"",defSkin:"default",format:"YYYY-MM-DD",min:"1900-01-01 00:00:00",max:"2099-12-31 23:59:59",isv:!1},n={},a=document,r="createElement",l="getElementById",o="getElementsByTagName",u=["laydate_box","laydate_void","laydate_click","LayDateSkin","skins/","/laydate.css"];e.laydate=function(t){t=t||{};try{u.event=e.event?e.event:laydate.caller.arguments[0]}catch(e){}return n.run(t),laydate},laydate.v="1.1",n.getPath=function(){var e=document.scripts,n=e[e.length-1].src;return t.path?t.path:n.substring(0,n.lastIndexOf("/")+1)}(),n.use=function(e,t){var l=a[r]("link");l.type="text/css",l.rel="stylesheet",l.href=n.getPath+e+u[5],t&&(l.id=t),a[o]("head")[0].appendChild(l),l=null},n.trim=function(e){return e=e||"",e.replace(/^\s|\s$/g,"").replace(/\s+/g," ")},n.digit=function(e){return 10>e?"0"+(0|e):e},n.stopmp=function(t){return t=t||e.event,t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},n.each=function(e,t){for(var n=0,a=e.length;a>n&&t(n,e[n])!==!1;n++);},n.hasClass=function(e,t){return e=e||{},new RegExp("\\b"+t+"\\b").test(e.className)},n.addClass=function(e,t){return e=e||{},n.hasClass(e,t)||(e.className+=" "+t),e.className=n.trim(e.className),this},n.removeClass=function(e,t){if(e=e||{},n.hasClass(e,t)){var a=new RegExp("\\b"+t+"\\b");e.className=e.className.replace(a,"")}return this},n.removeCssAttr=function(e,t){var n=e.style;n.removeProperty?n.removeProperty(t):n.removeAttribute(t)},n.shde=function(e,t){e.style.display=t?"none":"block"},n.query=function(e){var t,r,u,c,s;return e=n.trim(e).split(" "),r=a[l](e[0].substr(1)),r?e[1]?/^\./.test(e[1])?(c=e[1].substr(1),s=new RegExp("\\b"+c+"\\b"),t=[],u=a.getElementsByClassName?r.getElementsByClassName(c):r[o]("*"),n.each(u,function(e,n){s.test(n.className)&&t.push(n)}),t[0]?t:""):(t=r[o](e[1]),t[0]?r[o](e[1]):""):r:void 0},n.on=function(t,a,r){return t.attachEvent?t.attachEvent("on"+a,function(){r.call(t,e.even)}):t.addEventListener(a,r,!1),n},n.stopMosup=function(e,t){"mouseup"!==e&&n.on(t,"mouseup",function(e){n.stopmp(e)})},n.run=function(e){var t,a,r,l=n.query,o=u.event;try{r=o.target||o.srcElement||{}}catch(e){r={}}if(t=e.elem?l(e.elem):r,o&&r.tagName){if(!t||t===n.elem)return;n.stopMosup(o.type,t),n.stopmp(o),n.view(t,e),n.reshow()}else a=e.event||"click",n.each((0|t.length)>0?t:[t],function(t,r){n.stopMosup(a,r),n.on(r,a,function(t){n.stopmp(t),r!==n.elem&&(n.view(r,e),n.reshow())})})},n.scroll=function(e){return e=e?"scrollLeft":"scrollTop",a.body[e]|a.documentElement[e]},n.winarea=function(e){return document.documentElement[e?"clientWidth":"clientHeight"]},n.isleap=function(e){return 0===e%4&&0!==e%100||0===e%400},n.checkVoid=function(e,t,a){var r=[];return e|=0,t|=0,a|=0,e<n.mins[0]?r=["y"]:e>n.maxs[0]?r=["y",1]:e>=n.mins[0]&&e<=n.maxs[0]&&(e==n.mins[0]&&(t<n.mins[1]?r=["m"]:t==n.mins[1]&&a<n.mins[2]&&(r=["d"])),e==n.maxs[0]&&(t>n.maxs[1]?r=["m",1]:t==n.maxs[1]&&a>n.maxs[2]&&(r=["d",1]))),r},n.timeVoid=function(e,t){if(n.ymd[1]+1==n.mins[1]&&n.ymd[2]==n.mins[2]){if(0===t&&e<n.mins[3])return 1;if(1===t&&e<n.mins[4])return 1;if(2===t&&e<n.mins[5])return 1}else if(n.ymd[1]+1==n.maxs[1]&&n.ymd[2]==n.maxs[2]){if(0===t&&e>n.maxs[3])return 1;if(1===t&&e>n.maxs[4])return 1;if(2===t&&e>n.maxs[5])return 1}return e>(t?59:23)?1:void 0},n.check=function(){var e=n.options.format.replace(/YYYY|MM|DD|hh|mm|ss/g,"\\d+\\").replace(/\\$/g,""),t=new RegExp(e),a=n.elem[u.elemv],r=a.match(/\d+/g)||[],l=n.checkVoid(r[0],r[1],r[2]);if(""!==a.replace(/\s/g,"")){if(!t.test(a))return n.elem[u.elemv]="",n.msg("日期不符合格式，请重新选择。"),1;if(l[0])return n.elem[u.elemv]="",n.msg("日期不在有效期内，请重新选择。"),1;l.value=n.elem[u.elemv].match(t).join(),r=l.value.match(/\d+/g),r[1]<1?(r[1]=1,l.auto=1):r[1]>12?(r[1]=12,l.auto=1):r[1].length<2&&(l.auto=1),r[2]<1?(r[2]=1,l.auto=1):r[2]>n.months[(0|r[1])-1]?(r[2]=31,l.auto=1):r[2].length<2&&(l.auto=1),r.length>3&&(n.timeVoid(r[3],0)&&(l.auto=1),n.timeVoid(r[4],1)&&(l.auto=1),n.timeVoid(r[5],2)&&(l.auto=1)),l.auto?n.creation([r[0],0|r[1],0|r[2]],1):l.value!==n.elem[u.elemv]&&(n.elem[u.elemv]=l.value)}},n.months=[31,null,31,30,31,30,31,31,30,31,30,31],n.viewDate=function(e,t,a){var r=(n.query,{}),l=new Date;e<(0|n.mins[0])&&(e=0|n.mins[0]),e>(0|n.maxs[0])&&(e=0|n.maxs[0]),l.setFullYear(e,t,a),r.ymd=[l.getFullYear(),l.getMonth(),l.getDate()],n.months[1]=n.isleap(r.ymd[0])?29:28,l.setFullYear(r.ymd[0],r.ymd[1],1),r.FDay=l.getDay(),r.PDay=n.months[0===t?11:t-1]-r.FDay+1,r.NDay=1,n.each(u.tds,function(e,t){var a,l=r.ymd[0],o=r.ymd[1]+1;t.className="",e<r.FDay?(t.innerHTML=a=e+r.PDay,n.addClass(t,"laydate_nothis"),1===o&&(l-=1),o=1===o?12:o-1):e>=r.FDay&&e<r.FDay+n.months[r.ymd[1]]?(t.innerHTML=a=e-r.FDay+1,e-r.FDay+1===r.ymd[2]&&(n.addClass(t,u[2]),r.thisDay=t)):(t.innerHTML=a=r.NDay++,n.addClass(t,"laydate_nothis"),12===o&&(l+=1),o=12===o?1:o+1),n.checkVoid(l,o,a)[0]&&n.addClass(t,u[1]),n.options.festival&&n.festival(t,o+"."+a),t.setAttribute("y",l),t.setAttribute("m",o),t.setAttribute("d",a),l=o=a=null}),n.valid=!n.hasClass(r.thisDay,u[1]),n.ymd=r.ymd,u.year.value=n.ymd[0]+"年",u.month.value=n.digit(n.ymd[1]+1)+"月",n.each(u.mms,function(e,t){var a=n.checkVoid(n.ymd[0],(0|t.getAttribute("m"))+1);
"y"===a[0]||"m"===a[0]?n.addClass(t,u[1]):n.removeClass(t,u[1]),n.removeClass(t,u[2]),a=null}),n.addClass(u.mms[n.ymd[1]],u[2]),r.times=[0|n.inymd[3]||0,0|n.inymd[4]||0,0|n.inymd[5]||0],n.each(new Array(3),function(e){n.hmsin[e].value=n.digit(n.timeVoid(r.times[e],e)?0|n.mins[e+3]:0|r.times[e])}),n[n.valid?"removeClass":"addClass"](u.ok,u[1])},n.festival=function(e,t){var n;switch(t){case"1.1":n="元旦";break;case"3.8":n="妇女";break;case"4.5":n="清明";break;case"5.1":n="劳动";break;case"6.1":n="儿童";break;case"9.10":n="教师";break;case"10.1":n="国庆"}n&&(e.innerHTML=n),n=null},n.viewYears=function(e){var t=n.query,a="";n.each(new Array(14),function(t){a+=7===t?"<li "+(parseInt(u.year.value)===e?'class="'+u[2]+'"':"")+' y="'+e+'">'+e+"年</li>":'<li y="'+(e-7+t)+'">'+(e-7+t)+"年</li>"}),t("#laydate_ys").innerHTML=a,n.each(t("#laydate_ys li"),function(e,t){"y"===n.checkVoid(t.getAttribute("y"))[0]?n.addClass(t,u[1]):n.on(t,"click",function(e){n.stopmp(e).reshow(),n.viewDate(0|this.getAttribute("y"),n.ymd[1],n.ymd[2])})})},n.initDate=function(){var e=(n.query,new Date),t=n.elem[u.elemv].match(/\d+/g)||[];t.length<3&&(t=n.options.start.match(/\d+/g)||[],t.length<3&&(t=[e.getFullYear(),e.getMonth()+1,e.getDate()])),n.inymd=t,n.viewDate(t[0],t[1]-1,t[2])},n.iswrite=function(){var e=n.query,t={time:e("#laydate_hms")};n.shde(t.time,!n.options.istime),n.shde(u.oclear,!("isclear"in n.options?n.options.isclear:1)),n.shde(u.otoday,!("istoday"in n.options?n.options.istoday:1)),n.shde(u.ok,!("issure"in n.options?n.options.issure:1))},n.orien=function(e,t){var a,r=n.elem.getBoundingClientRect();e.style.left=r.left+(t?0:n.scroll(1))+"px",a=r.bottom+e.offsetHeight/1.5<=n.winarea()?r.bottom-1:r.top>e.offsetHeight/1.5?r.top-e.offsetHeight+1:n.winarea()-e.offsetHeight,e.style.top=a+(t?0:n.scroll())+"px"},n.follow=function(e){n.options.fixed?(e.style.position="fixed",n.orien(e,1)):(e.style.position="absolute",n.orien(e))},n.viewtb=function(){var e,t=[],l=["日","一","二","三","四","五","六"],u={},c=a[r]("table"),s=a[r]("thead");return s.appendChild(a[r]("tr")),u.creath=function(e){var t=a[r]("th");t.innerHTML=l[e],s[o]("tr")[0].appendChild(t),t=null},n.each(new Array(6),function(a){t.push([]),e=c.insertRow(0),n.each(new Array(7),function(n){t[a][n]=0,0===a&&u.creath(n),e.insertCell(n)})}),c.insertBefore(s,c.children[0]),c.id=c.className="laydate_table",e=t=null,c.outerHTML.toLowerCase()}(),n.view=function(e,l){var o,c=n.query,s={};l=l||e,n.elem=e,n.options=l,n.options.format||(n.options.format=t.format),n.options.start=n.options.start||"",n.mm=s.mm=[n.options.min||t.min,n.options.max||t.max],n.mins=s.mm[0].match(/\d+/g),n.maxs=s.mm[1].match(/\d+/g),u.elemv=/textarea|input/.test(n.elem.tagName.toLocaleLowerCase())?"value":"innerHTML",n.box?n.shde(n.box):(o=a[r]("div"),o.id=u[0],o.className=u[0],o.style.cssText="position: absolute;",o.setAttribute("name","laydate-v"+laydate.v),o.innerHTML=s.html='<div class="laydate_top"><div class="laydate_ym laydate_y" id="laydate_YY"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_y" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms"><a class="laydate_tab laydate_chtop"><cite></cite></a><ul id="laydate_ys"></ul><a class="laydate_tab laydate_chdown"><cite></cite></a></div></div><div class="laydate_ym laydate_m" id="laydate_MM"><a class="laydate_choose laydate_chprev laydate_tab"><cite></cite></a><input id="laydate_m" readonly><label></label><a class="laydate_choose laydate_chnext laydate_tab"><cite></cite></a><div class="laydate_yms" id="laydate_ms">'+function(){var e="";return n.each(new Array(12),function(t){e+='<span m="'+t+'">'+n.digit(t+1)+"月</span>"}),e}()+"</div></div></div>"+n.viewtb+'<div class="laydate_bottom"><ul id="laydate_hms"><li class="laydate_sj">时间</li><li><input readonly>:</li><li><input readonly>:</li><li><input readonly></li></ul><div class="laydate_time" id="laydate_time"></div><div class="laydate_btn"><a id="laydate_clear">清空</a><a id="laydate_today">今天</a><a id="laydate_ok">确认</a></div>'+(t.isv?'<a href="http://sentsin.com/layui/laydate/" class="laydate_v" target="_blank">laydate-v'+laydate.v+"</a>":"")+"</div>",a.body.appendChild(o),n.box=c("#"+u[0]),n.events(),o=null),n.follow(n.box),l.zIndex?n.box.style.zIndex=l.zIndex:n.removeCssAttr(n.box,"z-index"),n.stopMosup("click",n.box),n.initDate(),n.iswrite(),n.check()},n.reshow=function(){return n.each(n.query("#"+u[0]+" .laydate_show"),function(e,t){n.removeClass(t,"laydate_show")}),this},n.close=function(){n.reshow(),n.shde(n.query("#"+u[0]),1),n.elem=null},n.parse=function(e,a,r){return e=e.concat(a),r=r||(n.options?n.options.format:t.format),r.replace(/YYYY|MM|DD|hh|mm|ss/g,function(){return e.index=0|++e.index,n.digit(e[e.index])})},n.creation=function(e,t){var a=(n.query,n.hmsin),r=n.parse(e,[a[0].value,a[1].value,a[2].value]);n.elem[u.elemv]=r,t||(n.close(),"function"==typeof n.options.choose&&n.options.choose(r))},n.events=function(){var t=n.query,r={box:"#"+u[0]};n.addClass(a.body,"laydate_body"),u.tds=t("#laydate_table td"),u.mms=t("#laydate_ms span"),u.year=t("#laydate_y"),u.month=t("#laydate_m"),n.each(t(r.box+" .laydate_ym"),function(e,t){n.on(t,"click",function(t){n.stopmp(t).reshow(),n.addClass(this[o]("div")[0],"laydate_show"),e||(r.YY=parseInt(u.year.value),n.viewYears(r.YY))})}),n.on(t(r.box),"click",function(){n.reshow()}),r.tabYear=function(e){0===e?n.ymd[0]--:1===e?n.ymd[0]++:2===e?r.YY-=14:r.YY+=14,2>e?(n.viewDate(n.ymd[0],n.ymd[1],n.ymd[2]),n.reshow()):n.viewYears(r.YY)},n.each(t("#laydate_YY .laydate_tab"),function(e,t){n.on(t,"click",function(t){n.stopmp(t),r.tabYear(e)})}),r.tabMonth=function(e){e?(n.ymd[1]++,12===n.ymd[1]&&(n.ymd[0]++,n.ymd[1]=0)):(n.ymd[1]--,-1===n.ymd[1]&&(n.ymd[0]--,n.ymd[1]=11)),n.viewDate(n.ymd[0],n.ymd[1],n.ymd[2])},n.each(t("#laydate_MM .laydate_tab"),function(e,t){n.on(t,"click",function(t){n.stopmp(t).reshow(),r.tabMonth(e)})}),n.each(t("#laydate_ms span"),function(e,t){n.on(t,"click",function(e){n.stopmp(e).reshow(),n.hasClass(this,u[1])||n.viewDate(n.ymd[0],0|this.getAttribute("m"),n.ymd[2])})}),n.each(t("#laydate_table td"),function(e,t){n.on(t,"click",function(e){n.hasClass(this,u[1])||(n.stopmp(e),n.creation([0|this.getAttribute("y"),0|this.getAttribute("m"),0|this.getAttribute("d")]))})}),u.oclear=t("#laydate_clear"),n.on(u.oclear,"click",function(){n.elem[u.elemv]="",n.close()}),u.otoday=t("#laydate_today"),n.on(u.otoday,"click",function(){n.elem[u.elemv]=laydate.now(0,n.options.format),n.close()}),u.ok=t("#laydate_ok"),n.on(u.ok,"click",function(){n.valid&&n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]])}),r.times=t("#laydate_time"),n.hmsin=r.hmsin=t("#laydate_hms input"),r.hmss=["小时","分钟","秒数"],r.hmsarr=[],n.msg=function(e,a){var l='<div class="laydte_hsmtex">'+(a||"提示")+"<span>×</span></div>";"string"==typeof e?(l+="<p>"+e+"</p>",n.shde(t("#"+u[0])),n.removeClass(r.times,"laydate_time1").addClass(r.times,"laydate_msg")):(r.hmsarr[e]?l=r.hmsarr[e]:(l+='<div id="laydate_hmsno" class="laydate_hmsno">',n.each(new Array(0===e?24:60),function(e){l+="<span>"+e+"</span>"}),l+="</div>",r.hmsarr[e]=l),n.removeClass(r.times,"laydate_msg"),n[0===e?"removeClass":"addClass"](r.times,"laydate_time1")),n.addClass(r.times,"laydate_show"),r.times.innerHTML=l},r.hmson=function(e,a){var r=t("#laydate_hmsno span"),l=n.valid?null:1;n.each(r,function(t,r){l?n.addClass(r,u[1]):n.timeVoid(t,a)?n.addClass(r,u[1]):n.on(r,"click",function(){n.hasClass(this,u[1])||(e.value=n.digit(0|this.innerHTML))})}),n.addClass(r[0|e.value],"laydate_click")},n.each(r.hmsin,function(e,t){n.on(t,"click",function(t){n.stopmp(t).reshow(),n.msg(e,r.hmss[e]),r.hmson(this,e)})}),n.on(a,"mouseup",function(){var e=t("#"+u[0]);e&&"none"!==e.style.display&&(n.check()||n.close())}).on(a,"keydown",function(t){t=t||e.event;var a=t.keyCode;13===a&&n.creation([n.ymd[0],n.ymd[1]+1,n.ymd[2]])})},n.init=function(){n.skinLink=n.query("#"+u[3])}(),laydate.reset=function(){n.box&&n.elem&&n.follow(n.box)},laydate.now=function(e,t){var a=new Date(0|e?function(e){return 864e5>e?+new Date+864e5*e:e}(parseInt(e)):+new Date);return n.parse([a.getFullYear(),a.getMonth()+1,a.getDate()],[a.getHours(),a.getMinutes(),a.getSeconds()],t)},laydate.skin=function(e){n.skinLink.href=n.getPath+u[4]+e+u[5]}}(window)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MockUser=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.MockUser=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this.props.dictionary||{};e.admin_list||this.props.adminList({scene_type:"all"})}},{key:"mockUser",value:function(e){this.props.mock({id:e},{})}},{key:"send",value:function(e,t){var n=this.content.value;return n?t?11!=t.length?(alert("获取手机失败"),!1):(this.props.send_newsletter({phone:t,content:n}),void $.jy.pop_float_modal("no","#MockUser")):(alert("获取手机失败"),!1):(alert("请填写短信内容"),!1)}},{key:"render",value:function(){var e=this;this.props.upReserve||{};return i.default.createElement("div",{className:"block pd5"},i.default.createElement("ul",{className:"list-group"},function(){var t=e.props.dictionary||{};if(t.admin_list)return t.admin_list.map(function(t){var n="",a="";switch(t.role_code){case 91:a="list-group-item-info",n="境内预定专员";break;case 92:a="list-group-item-info",n="境外预定专员";break;case 93:a="list-group-item-info",n="预订长";break;case 94:a="list-group-item-success",n="客服长";break;case 95:a="list-group-item-success",n="前台客服";break;case 96:a="list-group-item-success",n="后台客服";break;case 97:a="list-group-item-warning",n="财务"}return i.default.createElement("a",{className:"list-group-item "+a,key:t.id,onClick:function(){e.mockUser(t.id)}},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"col-md-6"},i.default.createElement("label",{className:"big"},t.realname)),i.default.createElement("div",{className:"col-md-6 text-right"},i.default.createElement("small",{className:"small"},n))))})}()))}}]),t}(i.default.Component),_=function(e){return{upReserve:e.reserve.get_reserve,dictionary:e.dictionary}},y=function(e){return{send_newsletter:function(t,n){return e(v.send_newsletter(t,n))},adminList:function(t){return e(v.adminList(t))},mock:function(t,n){return e(v.mock(t,n))}}};t.default=t.MockUser=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UpdatePrice=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.UpdatePrice=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"update",value:function(e){var t=this.price.value,n=this.id.value;t&&n&&(this.props.update_settle_price({settle_price:t,id:n}),$.jy.pop_float_modal("no","#updatePrice"))}},{key:"render",value:function(){var e=this,t=this.props.quick||{},n=t.settle_price||"",a=t.id||"";return i.default.createElement("div",{className:"block pd5"},i.default.createElement("div",{className:"form-group"},i.default.createElement("input",{className:"form-control",type:"text",placeholder:"输入结算价",ref:function(t){return e.price=t}}),i.default.createElement("input",{className:"form-control",type:"hidden",placeholder:"ID",ref:function(t){return e.id=t}})),i.default.createElement("div",{className:"form-group text-center"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.update()}},"确定")),function(){setTimeout(function(){e.id&&(e.id.value=a,e.price.value=n)},100)}())}}]),t}(i.default.Component),_=function(e){return{quick:e.getItemData.quick}},y=function(e){return{update_settle_price:function(t,n){return e(v.update_settle_price(t,n))}}};t.default=t.UpdatePrice=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Login=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m);n(196);var h=t.Login=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){}},{key:"login",value:function(e){var t=e||window.event;13==t.keyCode&&this._login()}},{key:"_login",value:function(){this.props.login({username:this.accountname.value,password:this.password.value})}},{key:"render",value:function(){var e=this;return this.props.vendor&&console.log("logined"),i.default.createElement("div",{id:"crmLogin",className:"crmLogin"},i.default.createElement("div",{className:"login-box"},i.default.createElement("div",{className:"login-logo"},i.default.createElement("a",{href:"javascript:"},i.default.createElement("b",null,"Blatrip-CRM系统"))),i.default.createElement("div",{className:"login-box-body"},i.default.createElement("div",{className:"form-group"},i.default.createElement("div",{className:"form-group"},i.default.createElement("label",{htmlFor:"loginform-username"},"用户名"),i.default.createElement("input",{type:"text",ref:function(t){e.accountname=t},className:"form-control",name:"loginform-username"}),i.default.createElement("p",{className:"help-block help-block-error"}))),i.default.createElement("div",{className:"form-group"},i.default.createElement("div",{className:"form-group"},i.default.createElement("label",{htmlFor:"loginform-password"},"密码"),i.default.createElement("input",{autoComplete:"new-password",defaultValue:"",ref:function(t){e.password=t},onKeyDown:function(t){return e.login(t)},type:"password",className:"form-control",name:"loginform-password"}),i.default.createElement("p",{className:"help-block help-block-error"}))),i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"form-group col-xs-4"},i.default.createElement("button",{className:"btn btn-primary btn-block btn-flat",onClick:function(){return e._login()}},"登陆"))))))}}]),t}(i.default.Component);h.contextTypes={router:i.default.PropTypes.object.isRequired};var _=function(e){return{vendor:null==e.vendor?null:e.vendor.vendor_select}},y=function(e){return{login:function(t){return e(v.login(t))}}};t.default=t.Login=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderPerDayRankProduct=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=(a(m),t.OrderPerDayRankProduct=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"_chart",value:function(e){var t=echarts.init(document.getElementById("OrderPerDayRankProduct")),n={title:{text:"日流量前五",subtext:"按面积显示占比",x:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{x:"center",y:"bottom",data:e.name},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,series:[{name:"流水占比",type:"pie",radius:[30,110],center:["75%","50%"],roseType:"area",data:e.sum}]};t.setOption(n)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.data;return e&&this._chart(e),i.default.createElement("div",{className:"dayTop5 statisticsRow",id:"OrderPerDayRankProduct"},"日前五")}}]),t}(i.default.Component)),h=function(e){return{data:e.report.order_dailyProductRank}},_=function(e){return{}};t.default=t.OrderPerDayRankProduct=v=(0,d.connect)(h,_)(v)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderPerMonthRankProduct=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=(a(m),t.OrderPerMonthRankProduct=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"_chart",value:function(e){var t=echarts.init(document.getElementById("OrderPerMonthRankProduct")),n={tooltip:{},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},title:[{text:"月前50产品",x:"center",textAlign:"center"}],xAxis:[{type:"value",splitLine:{show:!1}}],yAxis:[{type:"category",data:e.name,axisLabel:{interval:0,rotate:30},splitLine:{show:!1}}],series:[{type:"bar",stack:"chart",z:3,label:{normal:{position:"right",show:!0}},data:e.sum}]};t.setOption(n)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.data;return e&&this._chart(e),i.default.createElement("div",{className:"monthTop50 statisticsRow",id:"OrderPerMonthRankProduct"},"月前50")}}]),t}(i.default.Component)),h=function(e){return{data:e.report.order_monthProductRank}},_=function(e){return{}};t.default=t.OrderPerMonthRankProduct=v=(0,d.connect)(h,_)(v)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderSumPerDay=void 0;var c,s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),d=r(i),f=n(2),p=n(3),m=r(p),v=n(4),h=a(v),_=t.OrderSumPerDay=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=m.default.shouldComponentUpdate.bind(n),n}return u(t,e),s(t,[{key:"componentDidMount",value:function(){}},{key:"_chart",value:function(e){if(void 0==c){c=echarts.init(document.getElementById("OrderSumPerDay")),c.on("click",function(e){if("undefined"!=typeof e.seriesIndex&&"click"==e.type){var t={start:e.name,end:e.name+" 23:59:59",rank:5};this.props.orderpaymentProductDaily(t)}},this);var t={title:{text:"流水情况"},tooltip:{trigger:"axis"},legend:{data:["订单每日总额","每日退款总额"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:{type:"category",boundaryGap:!1,data:e.date},yAxis:{type:"value"},series:[{name:"每日退款总额",type:"line",data:e.refunds},{name:"订单每日总额",type:"line",data:e.total}]};c.setOption(t)}}},{key:"render",value:function(){var e=this.props.data;return e&&this._chart(e),d.default.createElement("div",{className:"dayALL statisticsRow",id:"OrderSumPerDay"},"OrderSumPerDay")}}]),t}(d.default.Component),y=function(e){return{data:e.report.order_dailyList}},E=function(e){return{orderpaymentProductDaily:function(t){return e(h.orderpaymentProductDaily(t))}}};t.default=t.OrderSumPerDay=_=(0,f.connect)(y,E)(_)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OrderSumPerMonth=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.OrderSumPerMonth=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){}},{key:"_chart",value:function(e){var t=echarts.init(document.getElementById("OrderSumPerMonth")),n={title:{text:"年度流水总览"},tooltip:{trigger:"axis"},legend:{data:["订单每月总额","每月退款总额"]},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},xAxis:{type:"category",boundaryGap:!1,data:e.date},yAxis:{type:"value"},series:[{name:"每月退款总额",type:"line",data:e.refunds},{name:"订单每月总额",type:"line",data:e.total}]};t.setOption(n),t.on("click",function(e){if("undefined"!=typeof e.seriesIndex&&"click"==e.type){var t={datetype:"date",start:"2017-"+e.name+"-01",end:"2017-"+String(parseInt(e.name)+1)+"-01"},n={start:"2017-"+e.name+"-01",end:"2017-"+String(parseInt(e.name)+1)+"-01",rank:50};this.props.orderpaymentDaily(t),this.props.orderpaymentProductMonth(n)}},this)}},{key:"render",value:function(){var e=this.props.data;return e?this._chart(e):this.props.orderpaymentMonth({datetype:"month",start:"2017-01-01",end:"2017-08-01"}),i.default.createElement("div",{className:"r_overview statisticsRow",id:"OrderSumPerMonth"},"loading...")}}]),t}(i.default.Component),_=function(e){return{data:e.report.order_monthList}},y=function(e){return{orderpaymentMonth:function(t){return e(v.orderpaymentMonth(t))},orderpaymentDaily:function(t){return e(v.orderpaymentDaily(t))},orderpaymentProductMonth:function(t){return e(v.orderpaymentProductMonth(t))}}};t.default=t.OrderSumPerMonth=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PaymentStatus=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.PaymentStatus=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){this.props.orderpaymentStatus({start:"2017-07-01",end:"2017-08-01",datetype:"date"});var e={elem:"#payment_start",event:"click",format:"YYYY-MM-DD",istime:!1,isclear:!0,istoday:!0,issure:!0,festival:!0,start:getNowFormatDate("date"),fixed:!1,zIndex:99999999},t={elem:"#payment_end",event:"click",format:"YYYY-MM-DD",istime:!1,isclear:!0,istoday:!0,issure:!0,festival:!0,start:getNowFormatDate("date"),fixed:!1,zIndex:99999999};laydate(e),laydate(t)}},{key:"submit",value:function(){this.startTime.value?this.endTime.value?this.props.orderpaymentStatus({start:this.startTime.value,end:this.endTime.value,datetype:"date"}):alert("请输入结束时间"):alert("请输入开始时间")}},{key:"render",value:function(){var e=this;console.log("data",this.props.data);var t=this.props.data;return i.default.createElement("div",{className:"",id:"PaymentStatus"},i.default.createElement("div",{className:"block pd5"},i.default.createElement("div",{className:"form-inline"},i.default.createElement("input",{type:"text",className:"form-control margin5-left",id:"payment_start",placeholder:"开始时间",ref:function(t){return e.startTime=t}}),i.default.createElement("input",{type:"text",className:"form-control margin5-left",id:"payment_end",placeholder:"结束时间",ref:function(t){return e.endTime=t}}),i.default.createElement("span",{className:"btn btn-sm btn-success  margin5-left",onClick:function(){return e.submit()}},"确定"))),i.default.createElement("div",{className:"block reportTable"},function(){if(t)return t.status.length?i.default.createElement("table",{className:"table table-striped table-advance table-hover"},i.default.createElement("thead",null,i.default.createElement("tr",null,i.default.createElement("th",null,"支付金额"),i.default.createElement("th",null,"套餐数量"),i.default.createElement("th",null,"时间"))),i.default.createElement("tbody",null,function(){return t.status.map(function(e,t){return i.default.createElement("tr",{key:t},i.default.createElement("td",null,e.payment),i.default.createElement("td",null,e.package),i.default.createElement("td",null,e.time))})}())):i.default.createElement("p",{className:"text-center notData"},"暂无相关数据")}()))}}]),t}(i.default.Component),_=function(e){return{data:e.report.order_paymentStatus}},y=function(e){return{orderpaymentStatus:function(t){return e(v.orderpaymentStatus(t))}}};t.default=t.PaymentStatus=h=(0,d.connect)(_,y)(h)},function(e,t,n){(function(e){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);
e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Report=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=(a(m),n(154)),h=n(155),_=n(152),y=n(153),E=n(169),b=t.Report=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){function e(e){var t=void 0,n=$(document).scrollTop(),a=function e(){var a=e.cc;n<a&&(n+=Math.ceil(.2*(a-n)),n=Math.abs(a-n)<2?a:n,to="下"),n>a&&(n+=(a-n)/5,n=Math.abs(a-n)<2?a:n,to="上"),n==a&&clearInterval(t),$(document).scrollTop(n)};a.cc=e,t=setInterval(a,20)}var t=[],n=0,a=$(".menuLeftRow");a.each(function(a,r){t[a]=$($(".statisticsRow")[a]).offset().top,$(r).click(function(){console.log("i=",a),e(t[a]),n=a}),console.log(t[a])});$(window).scroll(function(){var e=$(window).scrollTop();n?($(".menuLeftRow").removeClass("on"),$($(".menuLeftRow")[n]).addClass("on")):a.each(function(n,a){e>t[n]&&e<t[n+1]&&($(".menuLeftRow").removeClass("on"),$($(".menuLeftRow")[n]).addClass("on"))})})}},{key:"render",value:function(){return i.default.createElement("div",{className:"supportContainer reportMain "},i.default.createElement(E.Head,null),i.default.createElement("div",{className:"supportBox cf"},i.default.createElement("div",{className:"leftMenu"},i.default.createElement("ul",null,i.default.createElement("li",{className:"menuLeftRow on"},i.default.createElement("p",null,i.default.createElement("i",{className:"icon_m1"})),i.default.createElement("p",{className:"name"},"年度流水总览")),i.default.createElement("li",{className:"menuLeftRow"},i.default.createElement("p",null,i.default.createElement("i",{className:"icon_m2"})),i.default.createElement("p",{className:"name"},"月前50产品")),i.default.createElement("li",{className:"menuLeftRow"},i.default.createElement("p",null,i.default.createElement("i",{className:"icon_m3"})),i.default.createElement("p",{className:"name"},"月流水")),i.default.createElement("li",{className:"menuLeftRow"},i.default.createElement("p",null,i.default.createElement("i",{className:"icon_m4"})),i.default.createElement("p",{className:"name"},"日前5")))),i.default.createElement("div",{className:"rightMain"},i.default.createElement(h.OrderSumPerMonth,null),i.default.createElement(y.OrderPerMonthRankProduct,null),i.default.createElement(v.OrderSumPerDay,null),i.default.createElement(_.OrderPerDayRankProduct,null))))}}]),t}(i.default.Component),g=function(e){return{}},k=function(e){return{}};t.default=t.Report=b=(0,d.connect)(g,k)(b)}).call(t,n(193).Buffer)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Examine=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(21),_=n(39),y=n(150),E=n(88),b=n(83),g=t.Examine=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n._timeout=null,n.page=1,n.pagesize=30,n.isSearchName=!1,n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this.props.dictionary;e.real_rejects||this.props.list_dictionary(),this.timedTask()}},{key:"timedTask",value:function(){var e=this;this.props.get_need_corporation(),setTimeout(function(){e.timedTask()},6e4)}},{key:"submitSearch",value:function(){this.page=1,this.get_quick_list()}},{key:"get_quick_list",value:function(){if(!this.isSearchName)return alert("请先搜索产品"),!1;var e=this.productName.value;if(!e)return alert("请先搜索产品"),!1;var t={page:this.page,pagesize:this.pagesize,filter:{equal:{"reserve.status":"0"==this.status.value?null:this.status.value},like:{"product.name":e||null}}};"checkin_date"!=this.typeTime.value&&"created_at"!=this.typeTime.value&&"air_go_date"!=this.typeTime.value||(t.filter.between={},t.filter.between["reserve."+this.typeTime.value]={start:this.startTime.value||null,end:this.endTime.value||null,type:"date"}),this.props.search_quick(t)}},{key:"componentDidMount",value:function(){function e(e,t){var n={elem:e||"#check_in_start",event:"click",format:"YYYY-MM-DD",istime:!1,isclear:!0,istoday:!0,issure:!0,festival:!0,start:t||getNowFormatDate("date"),fixed:!1,zIndex:99999999};return n}var t=this,n=getNowFormatDate("date"),a=getNowFormatDate("date","-",new Date(1e3*getNowFormatDate("timestamp")+2592e6)),r=e("#startTimeQuick",n),l=e("#endTimeQuick",a);setTimeout(function(){laydate(r),laydate(l),t.startTime.value=n,t.endTime.value=a},100),$(window).scroll(function(){if($(document).scrollTop()>=$(document).height()-$(window).height()){var e=t.props.list||[];console.log("list",e.length),e.length==t.pagesize*t.page&&(t.page=t.page+1,t.get_quick_list())}})}},{key:"componentWillUnmount",value:function(){$(window).unbind("scroll")}},{key:"back",value:function(){var e=this.props.search_reserve||{};e.pagesize=null;var t={};$.each(e,function(e,n){"0"!=n&&n?t[e]=n:t[e]=null}),this.props.screen_reserve(t),this.props.goUrl("/reserve")}},{key:"needCorporation",value:function(){var e=this.props.search_reserve||{};e.pagesize=null,e.needCorporation=1;var t={};$.each(e,function(e,n){"0"!=n&&n?t[e]=n:t[e]=null}),this.props.screen_reserve(t),this.props.goUrl("/reserve")}},{key:"update",value:function(e,t,n){e.stopPropagation();this.props.list||[];switch(n){case 4:status="取消";break;case 5:status="不通过";break;case 2:status="通过";break;default:status="通过"}var a=this.props.dictionary||{},r=a.inner_reject||[],l=r.find(function(e){var t=e.type_code;return 743==t}),o=a.real_reject||[],u=o.length?o[0]:{},c={ids:[t],status:n,quicksearch:1,content:"（测试）快速审核-"+status};4===n&&(c.inner_refuse_code=l.type_code,c.inner_refuse_desc=l.content,c.real_refuse_code=u.type_code,c.real_refuse_desc=u.content),this.props.update_reserve(c)}},{key:"refuseItem",value:function(e,t){e.stopPropagation(),this.props.handle_selected({reserveid:t},!0),$.jy.pop_float_modal("yes","#onRefuse")}},{key:"refuse",value:function(e){$.jy.pop_float_modal("yes","#onRefuse")}},{key:"searchProduct",value:function(e){var t=this,n=null;this.isSearchName&&(this.isSearchName=!1),this._timeout&&(clearTimeout(this._timeout),this._timeout=null),this._timeout=setTimeout(function(){n=t.productName.value,t.props.search_product_name({search:n}),t._timeout=null},500)}},{key:"select",value:function(e){switch(e.status){case 1:case 2:case 5:this.props.handle_selected({reserveid:e.id});break;default:console.log("该单不可拒")}}},{key:"selectedProduct",value:function(e){this.productName.value=e,this.isSearchName=!0}},{key:"productBlur",value:function(){this.productList.style.display="none"}},{key:"productFocus",value:function(){this.productList.style.display="block"}},{key:"updatePrice",value:function(e,t){e.stopPropagation(),this.props.update_quick(t),$.jy.pop_float_modal("yes","#updatePrice")}},{key:"showExportExcel",value:function(e){e.stopPropagation(),e.preventDefault(),$.jy.pop_float_modal("yes","#exportExcel")}},{key:"render",value:function(){var e=this,t=this.props.list||[],n=this.props.product;return i.default.createElement("div",{className:"block supportContainer quickReviewBox"},i.default.createElement(h.Head,null),i.default.createElement("div",{className:"searchQuick"},i.default.createElement("div",{className:"form-group pull-left margin5-right productSearch",style:{width:"30%"}},i.default.createElement("input",{className:"form-control noneRadius",type:"text",placeholder:"产品查询",style:{width:"100%"},ref:function(t){return e.productName=t},onChange:function(t){return e.searchProduct(t)},onBlur:function(){return e.productBlur()},onFocus:function(){return e.productFocus()}}),i.default.createElement("ul",{style:{width:"100%",display:"none"},ref:function(t){return e.productList=t}},function(){if(n.product)return n.product.map(function(t,n){return i.default.createElement("li",{key:n,className:"textHidden",onMouseDown:function(){return e.selectedProduct(t.name)}},t.name)})}())),i.default.createElement("div",{className:"form-group pull-left margin5-right"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.typeTime=t}},i.default.createElement("option",{value:"checkin_date"},"入住时间"),i.default.createElement("option",{value:"air_go_date"},"起飞时间"),i.default.createElement("option",{value:"created_at"},"创建时间"))),i.default.createElement("div",{className:"form-group pull-left margin5-right"},i.default.createElement("input",{type:"text",className:"form-control",placeholder:"开始时间",id:"startTimeQuick",ref:function(t){return e.startTime=t}})),i.default.createElement("div",{className:"form-group pull-left margin5-right"},i.default.createElement("input",{type:"text",className:"form-control",placeholder:"结束时间",id:"endTimeQuick",ref:function(t){return e.endTime=t}})),i.default.createElement("div",{className:"form-group pull-left margin5-right"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.status=t}},i.default.createElement("option",{value:"0"},"请选择状态"),i.default.createElement("option",{value:"1"},"审核中"),i.default.createElement("option",{value:"2"},"供应商确认中"),i.default.createElement("option",{value:"3"},"预约成功"),i.default.createElement("option",{value:"4"},"预约失败"))),i.default.createElement("div",{className:"form-group pull-left"},i.default.createElement("span",{className:"btn btn-success",onClick:function(){return e.submitSearch()}},"确认搜索")),i.default.createElement("div",{className:"labelScreen"},i.default.createElement("span",{className:"synergy",onClick:function(t){return e.needCorporation(t)}},"待协同 ",function(){if(e.props.reserve_need_corporation){var t=e.props.reserve_need_corporation<100?e.props.reserve_need_corporation:"99+";return i.default.createElement("i",null,t)}}()))),i.default.createElement("div",{className:"block examineMain"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.back()}},"返回"),i.default.createElement("span",{className:"btn btn-sm btn-danger margin5-left",onClick:function(){return e.refuse()}},"批量拒绝"),i.default.createElement("span",{className:"btn btn-sm btn-success margin5-left",onClick:function(t){return e.showExportExcel(t)}},"导出预约单"),i.default.createElement("table",{className:"table table-hover table-bordered dataTable"},i.default.createElement("thead",null,i.default.createElement("tr",null,i.default.createElement("th",{className:" sorting"},"预约号"),i.default.createElement("th",{className:" sorting"},"套餐名"),i.default.createElement("th",{className:" sorting"},"房间数"),i.default.createElement("th",{className:" sorting",style:{minWidth:"70px"}},"出行人姓名"),i.default.createElement("th",{className:" sorting"},"证件号"),i.default.createElement("th",{className:" sorting"},"证件图"),function(){var t="入住时间";return e.typeTime&&("checkin_date"==e.typeTime.value?t="入住时间":"air_go_date"==e.typeTime.value?t="起飞时间":"created_at"==e.typeTime.value&&(t="创建时间")),i.default.createElement("th",{className:" sorting"},t)}(),i.default.createElement("th",{className:" sorting"},"补差价信息"),i.default.createElement("th",{className:" sorting"},"客人备注"),i.default.createElement("th",{className:" sorting"},"状态"),i.default.createElement("th",{className:" sorting"},"扩展信息"),i.default.createElement("th",{className:" sorting"},"操作"))),i.default.createElement("tbody",null,function(){if(t.length)return t.map(function(t,n){var a=null;switch(t.status){case 1:a=i.default.createElement("div",null,i.default.createElement("div",{className:"margin5-bottom"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(n){return e.update(n,t.id,2)}},"通过")),i.default.createElement("div",{className:"margin5-bottom"},i.default.createElement("span",{className:"btn btn-sm btn-danger",onClick:function(n){return e.update(n,t.id,5)}},"不通过")),i.default.createElement("div",{className:"margin5-bottom"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(n){return e.updatePrice(n,t)}},"结算价")),i.default.createElement("div",null,i.default.createElement("span",{className:"btn btn-sm btn-danger",onClick:function(n){return e.refuseItem(n,t.id)}},"拒绝")));break;case 2:a=i.default.createElement("div",null,i.default.createElement("div",{className:"margin5-bottom"},i.default.createElement("span",{className:"btn btn-sm btn-danger",onClick:function(n){return e.refuseItem(n,t.id)}},"拒绝")),i.default.createElement("div",null,i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(n){return e.updatePrice(n,t)}},"结算价")));break;case 3:a=i.default.createElement("div",null,i.default.createElement("div",null,i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(n){return e.updatePrice(n,t)}},"结算价")));break;case 5:a=i.default.createElement("div",null,i.default.createElement("div",{className:"margin5-bottom"},i.default.createElement("span",{className:"btn btn-sm btn-danger",onClick:function(n){return e.refuseItem(n,t.id)}},"拒绝")),i.default.createElement("div",null,i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(n){return e.updatePrice(n,t)}},"结算价")))}var r=null,l=null,o=null;t.travellers&&(r=[],l=[],o=[],t.travellers.map(function(e,t){var n=e.img?i.default.createElement("p",null,"有"):i.default.createElement("p",null,"无");l.push(i.default.createElement("span",{key:t},n)),r.push(i.default.createElement("p",{key:t},e.name)),o.push(i.default.createElement("p",{key:t},e.no))}));var u=t.rate.reserves||{},c=t.packageRate||{},s=t.subOrders.length?i.default.createElement("p",null,"有"):i.default.createElement("p",null,"无"),d=e.props.handle_ids||[],f=d.find(function(e){return e==t.id});return i.default.createElement("tr",{key:t.id,id:"reserveRow"+t.id,className:f?"info":"",onClick:function(n){return e.select(t)}},i.default.createElement("td",{className:" sorting"},t.reserve_id),i.default.createElement("td",{className:" sorting"},i.default.createElement("p",null,t.packagename),function(){if(4!=t.status)return i.default.createElement("p",null,t.package_settle_price||"无结算价信息")}()),i.default.createElement("td",{className:"sorting"},i.default.createElement("p",null,t.total_rooms,"间")),i.default.createElement("td",{className:"sorting"},r),i.default.createElement("td",{className:"sorting"},o),i.default.createElement("td",{className:"sorting"},l),i.default.createElement("td",{className:"sorting"},function(){return"checkin_date"==e.typeTime.value?i.default.createElement("p",null,t.checkin_date?t.checkin_date.split(" ")[0]:"无","至",t.checkout_date?t.checkout_date.split(" ")[0]:"无"):"air_go_date"==e.typeTime.value?i.default.createElement("p",null,t.air_go_date?t.air_go_date.split(" ")[0]:"无","至",t.air_back_date?t.air_back_date.split(" ")[0]:"无"):"created_at"==e.typeTime.value?i.default.createElement("p",null,t.created_at?t.created_at.split(" ")[0]:"无"):void 0}()),i.default.createElement("td",{className:"sorting"},s),i.default.createElement("td",{className:"sorting"},i.default.createElement("p",null,t.note||"无")),i.default.createElement("td",{className:"sorting"},i.default.createElement("p",null,t.statusname||"-")),i.default.createElement("td",{className:"sorting",title:"该用户总预约"+u.totalReserves+"次、成功"+u.totalReserveSuccess+"次、失败"+u.totalReserveFailed+"次、预约中"+u.totalReserveNotHandled+"次，该套餐购买"+c.total+"份、预约成功"+c.success+"次、预约失败"+c.reject+"次、预约中"+(c.total-c.success-c.reject)+"次"},i.default.createElement("p",null,"ICON")),i.default.createElement("td",{className:"sorting"},a))})}()))),i.default.createElement(_.FloatModal,{width:"600px",showDOM:i.default.createElement(y.UpdatePrice,null),title:"更新结算价",refId:"updatePrice"}),i.default.createElement(_.FloatModal,{width:"600px",showDOM:i.default.createElement(E.Refuse,{isExamine:"1"}),title:"拒绝原因",refId:"onRefuse"}),i.default.createElement(_.FloatModal,{width:"600px",showDOM:i.default.createElement(b.ExportExcel,null),title:"导出表格",refId:"exportExcel"}))}}]),t}(i.default.Component),k=function(e){return{product:e.product,list:e.list.quick,dictionary:e.dictionary,search_reserve:e.search.reserve,quick:e.list.quick,handle_ids:e.reserve.handle_ids,reserve_need_corporation:e.reserve.need_corporation}},N=function(e){return{product_search:function(t){return e(v.product_search(t))},search_product_name:function(t){return e(v.search_product_name(t))},screen_reserve:function(t){return e(v.screen_reserve(t))},goUrl:function(t){return e(v.goUrl(t))},update_reserve:function(t,n){return e(v.update_examine(t,n))},handle_selected:function(t,n){return e(v.handle_selected(t,n))},search_quick:function(t){return e(v.search_quick(t))},list_dictionary:function(t){return e(v.list_dictionary(t))},update_quick:function(t){return e(v.update_quick(t))},get_need_corporation:function(t,n){return e(v.get_need_corporation(t,n))}}};t.default=t.Examine=g=(0,d.connect)(k,N)(g)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Examine2=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=(r(f),n(4)),m=a(p),v=n(170),h=t.Examine2=function(e){function t(e){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return u(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this.props.dictionary;e.real_rejects||this.props.list_dictionary()}},{key:"componentDidMount",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){var e=this;this.props.list||[],this.props.product;return i.default.createElement("div",{className:"block supportContainer quickReviewBox"},i.default.createElement(v.Head,null),i.default.createElement("div",{className:"searchMain"},i.default.createElement("div",{className:"inputBox none"},i.default.createElement("p",{className:"optionBox"},i.default.createElement("a",{href:"javascript:",className:""},"起飞时间"),i.default.createElement("a",{href:"javascript:"},"2017-08-15"),"至",i.default.createElement("a",{href:"javascript:"},"2017-08-15"),i.default.createElement("a",{href:""},"选择状态")),i.default.createElement("input",{type:"text",placeholder:"上海往返苏梅岛5天4晚机+酒自由行",ref:function(t){return e.searchInput=t},onKeyDown:function(t){return e.onSearch(t,pathname)}}),i.default.createElement("a",{href:"javascript:",className:"searchButton",onClick:function(){return e.submitSearch(pathname)}},i.default.createElement("span",{className:"fa fa-search"})))),i.default.createElement("div",{className:"main"},i.default.createElement("table",{width:"100%",border:"0",cellspacing:"0",cellpadding:"0",className:"  examineTable"},i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("th",{scope:"col",className:"examineR1"},"套餐"),i.default.createElement("th",{scope:"col",className:"examineR2"},"结算价"),i.default.createElement("th",{scope:"col",className:"examineR3"},"补差价"),i.default.createElement("th",{scope:"col",className:"examineR4"},"机酒信息"),i.default.createElement("th",{scope:"col",className:"examineR5"},"出行人"),i.default.createElement("th",{scope:"col",className:"examineR6"},"备注"),i.default.createElement("th",{scope:"col",className:"examineR7"},"相关信息"),i.default.createElement("th",{scope:"col",className:"examineR8"},"状态"),i.default.createElement("th",{scope:"col",className:"examineR9"},"操作")),i.default.createElement("tr",null,i.default.createElement("td",null,"上海往返迪拜双人机+酒 “6-10天自由行闪购特惠” 1份 预约号：20170807174803099905 提交时间：2017-08-15 11:27:48"),i.default.createElement("td",null,"满500间，大床房500，100间按平时价，800"),i.default.createElement("td",null,"08/31 - 09/02 大床房 X 3"),i.default.createElement("td",null,"08/16 阿联酋航空EK303 08/18 阿联酋航空EK302"),i.default.createElement("td",null,"陈文权 E33328759"),i.default.createElement("td",null,"宁波东钱湖华茂希尔顿度假酒店“8.12 专享特惠”"),i.default.createElement("td",null," "),i.default.createElement("td",null," "),i.default.createElement("td",null,"通过 不通过 拒绝"))))))}}]),t}(i.default.Component),_=function(e){return{product:e.product,list:e.list.quick,dictionary:e.dictionary,search_reserve:e.search.reserve,quick:e.list.quick,handle_ids:e.reserve.handle_ids}},y=function(e){return{product_search:function(t){return e(m.product_search(t))},search_product_name:function(t){return e(m.search_product_name(t))},screen_reserve:function(t){return e(m.screen_reserve(t))},goUrl:function(t){return e(m.goUrl(t))},update_reserve:function(t,n){return e(m.update_examine(t,n))},handle_selected:function(t,n){return e(m.handle_selected(t,n))},search_quick:function(t){return e(m.search_quick(t))},list_dictionary:function(t){return e(m.list_dictionary(t))},update_quick:function(t){return e(m.update_quick(t))}}};t.default=t.Examine2=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReserveContainer=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(21),_=n(50),y=n(93),E=n(85),b=n(84),g=n(92),k=n(95),N=n(94),w=n(97),O=n(39),T=n(87),j=n(86),x=n(83),P=n(162),C=n(88),S=n(96),R=n(174),M=n(91),D=(n(89),t.ReserveContainer=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){var e=this.props.dictionary||{},t=this.props.list;e.lvlreserve||this.props.list_dictionary(),t.support||t.reserve||t.order||this.props.get_list(),e.admin_list||this.props.adminList({scene_type:"reserve"})}},{key:"showExportExcel",value:function(e){e.stopPropagation(),e.preventDefault(),$.jy.pop_float_modal("yes","#exportExcel")}},{key:"getReserveDate",value:function(e){$.jy.pop_float_modal("yes","#showRefuseList")}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"supportContainer"},i.default.createElement(h.Head,null),i.default.createElement(_.CsSearch,null),function(){var t=e.props.list,n=null,a=null;return t&&(t.reserve&&(n=i.default.createElement(E.ReserveItemList,null)),t.order&&(a=i.default.createElement(b.OrderItemList,null))),i.default.createElement("div",{className:"col-lg-3  listBox"},i.default.createElement("div",{className:"navblank"},i.default.createElement("span",{className:"btn btn-sm btn-success margin5-right",onClick:function(t){return e.showExportExcel(t)}},"导出预约单"),i.default.createElement("span",{className:"btn btn-sm btn-danger",onClick:function(t){return e.getReserveDate(t)}},"直接拒绝")),i.default.createElement("div",{id:"listMain",style:{paddingRight:"10px"}},n,a))}(),function(){return"not_data"==e.props.detail?i.default.createElement("div",{className:"text-center notDataDetailTree col-lg-6 orderBox",id:"orderMain"},"无绑定订单/预约单"):e.props.detail.id||e.props.detail.order_sn?i.default.createElement("div",{className:"col-lg-6  orderBox"},i.default.createElement(M.NavTabs,null),i.default.createElement("div",{id:"orderMain"},i.default.createElement(g.OrderMain,null),i.default.createElement(N.RefundsMain,null),i.default.createElement(k.ReserveMain,null),i.default.createElement(w.UserMain,null))):void 0}(),function(){if("not_data"!=e.props.detail&&e.props.detail.id)return i.default.createElement("div",{className:"col-lg-3 packageBox"},i.default.createElement("div",{className:"navblank"}),i.default.createElement("div",{id:"packageMain"},i.default.createElement(y.PackageMain,null)))}(),i.default.createElement(O.FloatModal,{width:"600px",showDOM:i.default.createElement(T.UpdateTicket,null),title:"修改票务号",refId:"updateTicket"}),i.default.createElement(O.FloatModal,{width:"600px",showDOM:i.default.createElement(P.UpdateReserve,null),title:"修改预约单",refId:"updateReserve"}),i.default.createElement(O.FloatModal,{width:"600px",showDOM:i.default.createElement(C.Refuse,null),title:"拒绝原因",refId:"onRefuse"}),i.default.createElement(O.FloatModal,{width:"600px",showDOM:i.default.createElement(j.SendLetter,null),title:"发送短信",refId:"sendLetter"}),i.default.createElement(O.FloatModal,{width:"600px",showDOM:i.default.createElement(x.ExportExcel,null),title:"导出表格",refId:"exportExcel"}),i.default.createElement(O.FloatModal,{showDOM:i.default.createElement(S.ShowUserDetail,null),title:"出行人详细信息",refId:"showUserDetail"}),i.default.createElement(O.FloatModal,{width:"1000px",showDOM:i.default.createElement(R.ShowRefuseList,null),title:"拒绝产品列表",refId:"showRefuseList"}))}}]),t}(i.default.Component)),I=function(e){return{list:e.list,dictionary:e.dictionary,detail:e.tree}},L=function(e){return{get_list:function(t){return e(v.list_reserve(t))},list_dictionary:function(t){return e(v.list_dictionary(t))},adminList:function(t){return e(v.adminList(t))}}};t.default=t.ReserveContainer=D=(0,d.connect)(I,L)(D)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReserveStatisticsContainer=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(21),_=t.ReserveStatisticsContainer=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){function e(e){var t={elem:e||"#check_in_start",event:"click",format:"YYYY-MM-DD",istime:!1,isclear:!0,istoday:!0,issure:!0,festival:!0,start:getNowFormatDate("date"),fixed:!1,zIndex:99999999};return t}var t=e("#startTime"),n=e("#endTime"),a=e("#payment_start"),r=e("#payment_end");setTimeout(function(){laydate(t),laydate(n),laydate(a),laydate(r)},100)}},{key:"componentWillMount",value:function(){this.props.get_statistics()}},{key:"submit",value:function(){this.startTime.value?this.endTime.value?this.props.settlePriceSum({start:this.startTime.value,end:this.endTime.value,datetype:"date"}):alert("请输入结束时间"):alert("请输入开始时间")}},{key:"search",value:function(){this.props.get_statistics({startTime:this.reserveStartTime.value,endTime:this.reserveEndTime.value})}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"supportContainer"},i.default.createElement(h.Head,null),function(){var t=e.props.statistics||{};return i.default.createElement("div",{style:{margin:"20px 40px"}},i.default.createElement("div",{className:"form-inline margin5-bottom"},i.default.createElement("div",{className:"form-group margin5-right"},i.default.createElement("h5",null,"预约申请时间:")),i.default.createElement("div",{className:"form-group margin5-right margin5-right"},i.default.createElement("input",{type:"text",className:"form-control",id:"startTime",ref:function(t){return e.reserveStartTime=t},placeholder:"开始日期"})),i.default.createElement("span",null,"-"),i.default.createElement("div",{className:"form-group margin5-left margin5-right"},i.default.createElement("input",{type:"text",className:"form-control",id:"endTime",ref:function(t){return e.reserveEndTime=t},placeholder:"结束日期"})),i.default.createElement("div",{className:"form-group text-center"},i.default.createElement("span",{className:"btn btn-sm btn-success margin5-right",onClick:function(t){return e.search(t)}},"确定"))),i.default.createElement("table",{className:"table table-bordered table-hover table-striped",style:{fontSize:"16px"}},i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("th",null,"预约成功率"),i.default.createElement("td",null,t.success_rate||"统计中...")),i.default.createElement("tr",null,i.default.createElement("th",null,"境内产品预约成功率"),i.default.createElement("td",null,t.domestic_success_rate||"统计中...")),i.default.createElement("tr",null,i.default.createElement("th",null,"境外产品成功率"),i.default.createElement("td",null,t.overseas_success_rate||"统计中...")))),i.default.createElement("table",{className:"table table-bordered table-hover table-striped",style:{fontSize:"16px"}},i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("th",null,"订单出行率"),i.default.createElement("td",null,t.used_rate||"统计中...")),i.default.createElement("tr",null,i.default.createElement("th",null,"主动退单率"),i.default.createElement("td",null,t.refund_rate||"统计中...")),i.default.createElement("tr",null,i.default.createElement("th",null,"用户出行需求转化率"),i.default.createElement("td",null,t.transfer_rate||"统计中...")))),i.default.createElement("div",{
className:"form-inline margin5-bottom"},i.default.createElement("input",{type:"text",className:"form-control margin5-left",id:"payment_start",placeholder:"开始时间",ref:function(t){return e.startTime=t}}),i.default.createElement("input",{type:"text",className:"form-control margin5-left",id:"payment_end",placeholder:"结束时间",ref:function(t){return e.endTime=t}}),i.default.createElement("span",{className:"btn btn-sm btn-success  margin5-left",onClick:function(){return e.submit()}},"确定")),i.default.createElement("table",{className:"table table-bordered table-hover table-striped",style:{fontSize:"16px"}},i.default.createElement("tbody",null,i.default.createElement("tr",null,i.default.createElement("th",null,"直采结算总额"),i.default.createElement("td",null,e.props.settlePrice_sum||"-")))))}())}}]),t}(i.default.Component),y=function(e){return{statistics:e.reserve.statistics,settlePrice_sum:e.report.settlePrice_sum}},E=function(e){return{get_statistics:function(t){return e(v.get_statistics(t))},settlePriceSum:function(t){return e(v.settlepriceSum(t))}}};t.default=t.ReserveStatisticsContainer=_=(0,d.connect)(y,E)(_)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateReserve=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.UpdateReserve=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={isShowReject:!1,isFirst:!0},n}return u(t,e),c(t,[{key:"componentWillReceiveProps",value:function(e){e.upReserve&&this.props.upReserve&&this.setState({isShowReject:!1,isFirst:!0})}},{key:"updateReserve",value:function(e){var t=this.props.upReserve;if("4"==this.status.value){var n=this.innerValue,a=this.inner,r=this.realValue,l=this.real;if(!n.value)return alert("请填写内部原因"),!1;if(!r.value)return alert("请填写外部原因"),!1;this.props.reject_reserve({inner_refuse_code:a.value,inner_refuse_desc:n.value,real_refuse_code:l.value,real_refuse_desc:r.value,ids:[t.id]}),$.jy.pop_float_modal("no","#updateReserve")}else this.props.update_reserve({ids:[t.id],status:this.status.value,content:this.note.value}),$.jy.pop_float_modal("no","#updateReserve");this.settle_price.value;console.log("----------id=",t.id),t.id&&this.updateSettlePrice(t.id)}},{key:"completeCorporation",value:function(e){var t=this.content.value,n=this.props.upReserve||{};if(!t)return alert("请填写操作备注"),!1;if(e){var a={id:e,logcontent:t,status:13};n.id&&(a.reserveid=n.id),this.props.update_work(a),$.jy.pop_float_modal("no","#updateReserve")}}},{key:"updateStatus",value:function(e,t){if(e.length){for(var n=[],a=0;a<e.length;a++)n.push(e[a].id);n.length&&(this.props.update_flig_status({reserveFlight_ids:n,status_code:this.flightStatus.value}),$.jy.pop_float_modal("no","#updateReserve"))}if(t.length){for(var r=[],l=0;l<t.length;l++)r.push(t[l].id);r.length&&(this.props.update_hotel_status({reserveHotel_ids:r,status_code:this.hotelStatus.value}),$.jy.pop_float_modal("no","#updateReserve"))}}},{key:"upValue",value:function(e,t){var n=this.props.inner_reject,a=this.props.real_reject,r=null,l=null,o=[];if("inner"==t?(l=this.innerValue,r=this.inner.value,o=n):"real"==t&&(l=this.realValue,r=this.real.value,o=a),"0"==r)return l.value="",!1;for(var u=0;u<o.length;u++)o[u].type_code==r&&(l.value=o[u].content)}},{key:"updateSelectStatus",value:function(){if("4"==this.status.value?this.setState({isShowReject:!0,isFirst:!1}):this.setState({isShowReject:!1,isFirst:!1}),this.note)switch(this.status.value){case"3":this.note.value=this.props.upReserve.sms_msg_reserve_success;break;case"5":this.note.value=this.props.upReserve.sms_msg_audit_faild;break;default:this.note.value="无"}}},{key:"updateSettlePrice",value:function(e){var t=this.settle_price.value;t&&(this.props.update_reserve_data({settle_price:t,id:e}),$.jy.pop_float_modal("no","#updateReserve"))}},{key:"render",value:function(){var e=this,t=this.props.dictionary.reserveStatus,n=this.props.dictionary.reserveHotelStatus,a=this.props.upReserve,r=this.props.inner_reject,l=this.props.real_reject,o=!1,u=[],c=[];return a&&(u=a.flights||[],c=a.hotels||[],c&&c[0]&&(o=0!=c[0].vendor_hotel_id)),i.default.createElement("div",{className:"block"},i.default.createElement("div",{className:"pd5"},i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.status=t},onChange:function(){return e.updateSelectStatus()}},i.default.createElement("option",{value:"0"},"请选择状态"),function(){if(t)return t.map(function(e,t){if(6!=e.code&&7!=e.code)return i.default.createElement("option",{value:e.code,key:e.code},e.name)})}())),function(){return e.state.isShowReject?i.default.createElement("div",{id:"rejectMain"},i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control",onChange:function(t){return e.upValue(t,"inner")},ref:function(t){return e.inner=t}},i.default.createElement("option",{value:"0"},"请选择内部拒绝原因"),function(){if(r)return r.map(function(e,t){return i.default.createElement("option",{value:e.type_code,key:t},e.title)})}()),i.default.createElement("input",{type:"hidden",className:"form-control innerRejectTextarea",ref:function(t){return e.innerValue=t}})),i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control realRejectSelect",ref:function(t){return e.real=t},onChange:function(t){return e.upValue(t,"real")}},i.default.createElement("option",{value:"0"},"请选择外部拒绝原因"),function(){if(l)return l.map(function(e,t){return i.default.createElement("option",{value:e.type_code,key:t},e.title)})}())),i.default.createElement("div",{className:"form-group margin5-top clearFlat"},i.default.createElement("textarea",{rows:"5",cols:"60",className:"form-control realRejectTextarea",placeholder:"外部拒绝原因请写在这里，50字",maxLength:"50",ref:function(t){return e.realValue=t}}))):i.default.createElement("div",{className:"form-group",id:"noteMain"},i.default.createElement("textarea",{className:"form-control",placeholder:"请输入操作备注",ref:function(t){return e.note=t},defaultValue:"无"}))}(),function(){if(a)return i.default.createElement("div",{className:"block"},i.default.createElement("div",{className:"form-group"},i.default.createElement("input",{className:"form-control",placeholder:"结算价",ref:function(t){return e.settle_price=t}})))}(),i.default.createElement("div",{className:"form-group text-center margin5-bottom"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.updateReserve(a.support_id)}},"确认"))),function(){if(a&&(e.state.isFirst&&(e.status&&(e.status.value=a.status),e.note&&(e.note.value="无")),a.needCorporation))return i.default.createElement("div",{className:"block"},i.default.createElement("div",{className:"form-group"},i.default.createElement("textarea",{className:"form-control",placeholder:"协同备注",ref:function(t){return e.content=t}})),i.default.createElement("div",{className:"form-group text-center margin5-bottom"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.completeCorporation(a.support_id)}},"协同完成")))}(),function(){if(a){var t=null,r=null,l=null;return 2==a.status&&u.length&&(t=i.default.createElement("div",{className:"form-group text-left margin5-bottom"},i.default.createElement("label",null,"修改机票状态"),i.default.createElement("select",{className:"form-control",ref:function(t){return e.flightStatus=t}},function(){return n.map(function(e,t){if(o){if(825!=e.code)return i.default.createElement("option",{key:e.code,value:e.code},e.name)}else if(823!=e.code&&824!=e.code)return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}()))),2==a.status&&c.length&&(r=i.default.createElement("div",{className:"form-group margin5-bottom text-left"},i.default.createElement("label",null,"修改酒店状态"),i.default.createElement("select",{className:"form-control",ref:function(t){return e.hotelStatus=t}},function(){return n.map(function(e,t){if(o){if(825!=e.code)return i.default.createElement("option",{key:e.code,value:e.code},e.name)}else if(823!=e.code&&824!=e.code)return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}()))),2==a.status&&(u.length||c.length)&&(l=i.default.createElement("div",{className:"form-group text-center margin5-bottom"},i.default.createElement("span",{className:"btn btn-sm btn-success",onClick:function(){return e.updateStatus(u,c)}},"确认修改状态"))),i.default.createElement("div",null,t,r,l,function(){setTimeout(function(){c[0]&&e.hotelStatus?e.hotelStatus.value=a.hotels[0].status_code:e.hotelStatus&&(e.hotelStatus.value="0"),u[0]&&e.flightStatus?e.flightStatus.value=a.flights[0].status_code:e.flightStatus&&(e.flightStatus.value="0"),a.settle_price&&e.settle_price?e.settle_price.value=a.settle_price:e.settle_price&&(e.settle_price.value="")},50)}())}}())}}]),t}(i.default.Component),_=function(e){return{inner_reject:e.dictionary.inner_reject,real_reject:e.dictionary.real_reject,dictionary:e.dictionary,upReserve:e.reserve.get_reserve}},y=function(e){return{update_reserve:function(t){return e(v.update_reserve(t))},update_work:function(t){return e(v.update_work(t))},update_flig_status:function(t){return e(v.update_flig_status(t))},update_hotel_status:function(t){return e(v.update_hotel_status(t))},update_tree:function(t){return e(v.update_tree(t))},reject_reserve:function(t){return e(v.reject_reserve(t))},update_reserve_data:function(t){return e(v.update_reserve_data(t))}}};t.default=t.UpdateReserve=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AddSupportItem=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.AddSupportItem=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={subType:[]},n}return u(t,e),c(t,[{key:"updateSubType",value:function(){var e=this.callType.value,t=this.props.dictionary.callType,n=[];if("0"!=e){for(var a=0;a<t.length;a++)e==t[a].code&&(n=t[a].subType);this.setState({subType:n})}}},{key:"checkData",value:function(){return this.callType.value&&"0"!=this.callType.value?this.subType.value&&"0"!=this.subType.value?this.lvlsupport.value&&"0"!=this.lvlsupport.value?this.admin_list.value&&"0"!=this.admin_list.value?!!this.content.value||(alert("请输入描述"),!1):(alert("请选择负责人"),!1):(alert("请选择优先级别"),!1):(alert("请选择来电细分"),!1):(alert("请先选择来电类型"),!1)}},{key:"addAjax",value:function(e){this.props.add_support_work(e),$.jy.pop_float_modal("no","#addSupportWork")}},{key:"addWork",value:function(){if(!this.checkData())return!1;var e={};return this.name.value?this.phone.value?(e.typecode=this.callType.value,e.subtypecode=this.subType.value,e.lvlcode=this.lvlsupport.value,e.owner_id=this.admin_list.value,e.content=this.content.value,e.name=this.name.value,e.phone=this.phone.value,this.addAjax(e),void 0):(alert("请输入手机"),!1):(alert("请输入姓名"),!1)}},{key:"bindReserveWork",value:function(){var e={};if(!this.checkData())return!1;var t=this.props.add_work;e.typecode=this.callType.value,e.subtypecode=this.subType.value,e.lvlcode=this.lvlsupport.value,e.owner_id=this.admin_list.value,e.content=this.content.value,e.reserveid=t.id,e.type=t.type,e.phone=t.phone,e.userid=t.user_id,this.addAjax(e)}},{key:"bindOrderWork",value:function(){var e={};if(!this.checkData())return!1;var t=this.props.add_work;e.typecode=this.callType.value,e.subtypecode=this.subType.value,e.lvlcode=this.lvlsupport.value,e.owner_id=this.admin_list.value,e.content=this.content.value,e.orderid=t.id,e.ordersn=t.sn,e.type=t.type,e.phone=t.phone,e.userid=t.user_id,this.addAjax(e)}},{key:"componentWillReceiveProps",value:function(e){(e.add_work||null==e.add_work)&&(this.callType.value="0",this.subType.value="0",this.lvlsupport.value="0",this.admin_list.value="0",this.content&&(this.content.value=""),this.name&&(this.name.value="",this.phone.value=""))}},{key:"render",value:function(){var e=this,t=this.props.dictionary;return i.default.createElement("div",{className:"block"},i.default.createElement("div",{className:"col-lg-4"},i.default.createElement("div",{className:"form-group  margin10-bottom block"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.callType=t},onChange:function(){return e.updateSubType()}},i.default.createElement("option",{value:"0"},"请选择来电类型"),function(){if(t.callType)return t.callType.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}())),i.default.createElement("div",{className:"form-group  margin10-bottom block"},i.default.createElement("select",{className:"form-control margin10-bottom",ref:function(t){return e.subType=t}},i.default.createElement("option",{value:"0"},"请选择来电细分"),function(){var t=e.state.subType;if(t)return t.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}())),i.default.createElement("div",{className:"form-group  margin10-bottom block"},i.default.createElement("select",{className:"form-control margin10-bottom",ref:function(t){return e.lvlsupport=t}},i.default.createElement("option",{value:"0"},"请选择优先级别"),function(){var e=t.lvlsupport;if(e)return e.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}())),i.default.createElement("div",{className:"form-group  margin10-bottom block"},i.default.createElement("select",{className:"form-control margin10-bottom",ref:function(t){return e.admin_list=t}},i.default.createElement("option",{value:"0"},"请选择负责人"),function(){var e=t.admin_list;if(e)return e.map(function(e,t){if(96==e.role_code||94==e.role_code)return i.default.createElement("option",{key:e.id,value:e.id},e.realname)})}()))),function(){var t=e.props.add_work||{};return"reserve"==t.type?i.default.createElement("div",{className:"col-lg-8"},i.default.createElement("h5",null,"绑定客服单:预约单"),i.default.createElement("p",null,"预约ID:",t.sn),i.default.createElement("p",null,"用户名称:",t.name||"-"),i.default.createElement("p",null,"用户手机:",t.phone||"-"),i.default.createElement("p",null,"用户ID:",t.user_id),i.default.createElement("div",{className:"form-group margin10-bottom block"},i.default.createElement("textarea",{placeholder:"描述",className:"form-control",ref:function(t){return e.content=t}})),i.default.createElement("div",{className:"form-group block text-center"},i.default.createElement("span",{className:"btn btn-success btn-sm",onClick:function(){return e.bindReserveWork()}},"绑定预约单"))):"order"==t.type?i.default.createElement("div",{className:"col-lg-8"},i.default.createElement("h5",null,"绑定客服单:订单"),i.default.createElement("p",null,"订单ID:",t.sn),i.default.createElement("p",null,"产品名称:",t.name||"-"),i.default.createElement("p",null,"用户手机:",t.phone||"-"),i.default.createElement("p",null,"用户ID:",t.user_id),i.default.createElement("div",{className:"form-group margin10-bottom block"},i.default.createElement("textarea",{placeholder:"描述",className:"form-control",ref:function(t){return e.content=t}})),i.default.createElement("div",{className:"form-group block text-center"},i.default.createElement("span",{className:"btn btn-success btn-sm",onClick:function(){return e.bindOrderWork()}},"绑定订单"))):i.default.createElement("div",{className:"col-lg-8"},i.default.createElement("div",{className:"form-group margin10-bottom block"},i.default.createElement("input",{type:"text",className:"form-control",placeholder:"姓名",ref:function(t){return e.name=t}})),i.default.createElement("div",{className:"form-group margin10-bottom block"},i.default.createElement("input",{type:"text",className:"form-control",placeholder:"手机",ref:function(t){return e.phone=t}})),i.default.createElement("div",{className:"form-group margin10-bottom block"},i.default.createElement("textarea",{placeholder:"描述",className:"form-control",ref:function(t){return e.content=t}})),i.default.createElement("div",{className:"form-group block text-center"},i.default.createElement("span",{className:"btn btn-success btn-default",onClick:function(){return e.addWork()}},"确认添加客服单")))}())}}]),t}(i.default.Component),_=function(e){return{dictionary:e.dictionary,add_work:e.support.add_work}},y=function(e){return{add_support_work:function(t){return e(v.add_support_work(t))}}};t.default=t.AddSupportItem=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SupportContainer=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(21),_=n(50),y=n(93),E=n(165),b=n(85),g=n(84),k=n(92),N=n(95),w=n(94),O=n(97),T=n(39),j=n(163),x=n(167),P=n(32),C=n(87),S=n(96),R=n(91),M=n(86),D=n(89),I=t.SupportContainer=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){this.props.list_dictionary();var e=this.props.list;e.support||e.reserve||e.order||this.props.list_support(),this.props.adminList({scene_type:"kf"})}},{key:"componentDidMount",value:function(){}},{key:"showList",value:function(e){var t=$(".resultsNav a"),n=$("#listMain .columnBox");if(console.log("_n--------------",e),e>0){n.css({display:"none"});var a=$(n[e-1]);$(t[e]);t.removeClass("on"),$(t[e]).addClass("on"),a.find(".headerComponents").css({display:"none"}),a.find(".collapse").css({display:"block"}),a.css({display:"block"})}else n.find(".headerComponents").css({display:"block"}),n.find(".collapse").css({display:"block"}),n.css({display:"block"}),t.removeClass("on"),$(t[0]).addClass("on")}},{key:"render",value:function(){var e=this;return i.default.createElement("div",{className:"supportContainer"},i.default.createElement(h.Head,null),i.default.createElement(_.CsSearch,null),function(){var t=e.props.list,n=null,a=null,r=null,l=0;t&&(l=0,t.support&&(n=i.default.createElement(E.SupportItemList,null),l+=1),t.reserve&&(a=i.default.createElement(b.ReserveItemList,null),l+=1),t.order&&(r=i.default.createElement(g.OrderItemList,null),l+=1),console.log("listLength=",l));var o=void 0;return o=function(){if(l>1){console.log("list====",t);var n=t.order||[],a=t.support||[],r=t.reserve||[];return i.default.createElement("div",{className:"resultsNavBox"},i.default.createElement("a",{href:"javascript:",className:"on",onClick:e.showList.bind(e,0)},"全部"),function(){if(n.length>0)return i.default.createElement("a",{href:"javascript:",className:"",onClick:e.showList.bind(e,1)},"订单")}(),function(){if(a.length>0)return i.default.createElement("a",{href:"javascript:",className:"",onClick:e.showList.bind(e,2)},"客服单")}(),function(){return r.length>0?i.default.createElement("a",{href:"javascript:",className:"",onClick:e.showList.bind(e,3)},"预约单"):void e.showList()}())}}(),i.default.createElement("div",{className:"col-lg-3 listBox"},i.default.createElement("div",{className:"resultsNav "},o),i.default.createElement("div",{id:"listMain",style:{paddingRight:"10px"}},r,n,a))}(),function(){if("not_data"==e.props.detail){if(e.props.support_select){var t=e.props.support_select,n=t.supportLogs||[];return i.default.createElement("div",{className:"col-lg-6 orderBox"},i.default.createElement("div",{className:"navblank"}),i.default.createElement("div",{id:"orderMain"},i.default.createElement("div",{className:"orderMain columnBox",id:"orderBox"},i.default.createElement("div",{className:"headerComponents"},"客服单信息")),i.default.createElement(P.SupportItem,{logs:n,support:t})))}return i.default.createElement("div",{className:"text-center notDataDetailTree col-lg-6 orderBox",id:"orderMain"},"无绑定订单/预约单")}if(e.props.detail.id||e.props.detail.order_sn)return i.default.createElement("div",{className:"col-lg-6 pd0-top pd0-bottom orderBox"},i.default.createElement(R.NavTabs,null),i.default.createElement("div",{id:"orderMain"},i.default.createElement(k.OrderMain,null),i.default.createElement(w.RefundsMain,null),i.default.createElement(N.ReserveMain,null),i.default.createElement(O.UserMain,null)))}(),function(){if("not_data"!=e.props.detail&&e.props.detail.id)return i.default.createElement("div",{className:"col-lg-3 packageBox"},i.default.createElement("div",{className:"navblank"}),i.default.createElement("div",{id:"packageMain"},i.default.createElement(y.PackageMain,null)))}(),i.default.createElement(T.FloatModal,{width:"800px",showDOM:i.default.createElement(j.AddSupportItem,null),title:"添加工单",refId:"addSupportWork"}),i.default.createElement(T.FloatModal,{width:"800px",showDOM:i.default.createElement(x.UpdateSupportItem,null),title:"修改工单",refId:"updateSupportWork"}),i.default.createElement(T.FloatModal,{width:"600px",showDOM:i.default.createElement(C.UpdateTicket,null),title:"修改票务号",refId:"updateTicket"}),i.default.createElement(T.FloatModal,{width:"600px",showDOM:i.default.createElement(D.SupportUpdateReserve,null),title:"修改预约单信息（客服）",refId:"supportUpdateReserve"}),i.default.createElement(T.FloatModal,{width:"600px",showDOM:i.default.createElement(M.SendLetter,null),title:"发送短信",refId:"sendLetter"}),i.default.createElement(T.FloatModal,{showDOM:i.default.createElement(S.ShowUserDetail,null),title:"出行人详细信息",refId:"showUserDetail"}))}}]),t}(i.default.Component),L=function(e){return{list:e.list,detail:e.tree,support_select:e.support.support_select}},U=function(e){return{list_support:function(t){return e(v.list_support(t))},list_dictionary:function(t){return e(v.list_dictionary(t))},adminList:function(t){return e(v.adminList(t))}}};t.default=t.SupportContainer=I=(0,d.connect)(L,U)(I)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SupportItemList=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(166),_=n(51),y=t.SupportItemList=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){this.timedTask()}},{key:"timedTask",value:function(){var e=this,t=this.props.pathname.pathname||"";t.indexOf("support")!=-1&&(this.props.get_corporation_over(),setTimeout(function(){e.timedTask()},6e4))}},{key:"bindData",value:function(e,t){e.stopPropagation(),t&&(this.props.update_reserve_work({id:t}),$.jy.pop_float_modal("yes","#updateSupportWork"))}},{key:"select",value:function(e){var t={supportid:e.id,datatype:"all"};e.reserve?(t.subType="reserve",t.subId=e.reserve.id):e.order&&(t.subType="order",t.subId=e.order.id),this.props.selected(t)}},{key:"tabLabel",value:function(e,t){var n=$("#"+t)[0].offsetTop;console.log("scrollTop",n),$("#listMain").animate({scrollTop:n-50},300)}},{key:"onPrev",value:function(e){if(e>1){var t=e-1;this.props.screen_support({page:t}),this.tabLabel("","supportListMain")}}},{key:"onNext",value:function(e){if(this._length>=10){var t=e+1;this.props.screen_support({page:t}),this.tabLabel("","supportListMain")}}},{key:"screenLabel",value:function(e,t){e.stopPropagation(),e.preventDefault();var n=this.props.search_support||{},a=null;a=n[t]?null:1;var r={};r[t]=a,this.props.screen_support(r)}},{key:"render",value:function(){var e=this,t=null,n=this.props.list,a=this.props.search_support||{},r=a.page||1,l=0;return t=n.length?this.props.list.map(function(t,n){l+=1;var a="";"support"==e.props.type&&t.id==e.props.id&&(a="on");var r=t.type_code,o="";111==r?o="fa-question-circle":112==r?o="fa-headphones":113==r&&(o="fa-exclamation-circle ");var u=function(){if(t.adminname)return i.default.createElement("span",{className:"principal"},"[ ",t.adminname," ]")}();return i.default.createElement("li",{className:" resultsList "+a,key:t.id,id:"list"+t.id,onClick:function(){return e.select(t)}},i.default.createElement("span",{className:"icon pull-left  "},i.default.createElement("i",{className:"fa "+o})),i.default.createElement("div",{className:"operation"},i.default.createElement("span",{className:"modify ",onClick:function(n){return e.bindData(n,t.id)}},"处理")),i.default.createElement("div",{className:"msg"},i.default.createElement("p",{className:"user"},i.default.createElement("span",{className:"name"},t.name||t.username||"-")," ",i.default.createElement("span",{className:"phone"},t.phone||"-")),i.default.createElement("p",{className:"proName"},t.content||"-"),i.default.createElement("p",{className:"reserve"},t.lvl||"-"),i.default.createElement("div",{className:"reserve"},i.default.createElement("span",{className:"reservenumb"},function(){if(t.reserve)return i.default.createElement("p",null,"绑定预约号：",t.reserve.reserve_id||"-")}(),function(){if(t.order)return i.default.createElement("p",null,"绑定订单号：",t.order.order_sn||"-")}(),function(){if(!t.order&&!t.reserve)return i.default.createElement("p",null,"无绑定")}())),function(){var e=t.status;return 12===t.status_code&&t.reserve&&(e=(t.reserve.realname||"")+t.status),i.default.createElement("p",{className:"status"},"状态：",e||"-"," ",u)}()))}):i.default.createElement("li",null,"暂无相关客服单"),this._length=l,i.default.createElement("div",{className:"supportItemList columnBox",id:"supportListMain"},i.default.createElement("div",{className:"headerComponents",role:"button","data-toggle":"collapse",href:"#supportItemListBox","aria-expanded":"false","aria-controls":"supportItemListBox"},i.default.createElement("span",{className:"columnTitle"},"客服单"),i.default.createElement("p",{className:"shrink"},i.default.createElement("i",{className:"fa fa-angle-down "}))),i.default.createElement("div",{className:"collapse in",id:"supportItemListBox"},i.default.createElement("div",{className:"filter_row_tag"},i.default.createElement("div",{className:"labelScreen"},i.default.createElement("span",{className:" synergy "+(a.corporation_over?"on":" "),onClick:function(t){return e.screenLabel(t,"corporation_over")}},"协同完成 ",function(){if(e.props.support_corporation_over){var t=e.props.support_corporation_over<100?e.props.support_corporation_over:"99+";return i.default.createElement("i",null,t)}}()))),function(){if(e.props.dictionary.callType)return i.default.createElement(h.SupportScreen,null)}(),i.default.createElement("div",{className:"itemListTitle block"},i.default.createElement("span",{className:"pull-left"},"概况"),i.default.createElement("span",{className:"pull-right"},"操作")),i.default.createElement("ul",{className:"swiperMain"},t),function(){if(l>=10||1!=r)return i.default.createElement("div",{className:"block text-center"},i.default.createElement(_.Page,{onPrev:function(t){return e.onPrev(t)},onNext:function(t){return e.onNext(t)},page:r,_length:l}))}()))}}]),t}(i.default.Component),E=function(e){return{list:e.list.support,dictionary:e.dictionary,id:e.select.id,type:e.select.type,search_support:e.search.support,support_corporation_over:e.support.corporation_over,pathname:e.routing.locationBeforeTransitions}},b=function(e){return{update_reserve_work:function(t){return e(v.update_reserve_work(t))},selected:function(t){return e(v.selected(t))},screen_support:function(t){return e(v.screen_support(t))},get_corporation_over:function(t,n){return e(v.get_corporation_over(t,n))}}};t.default=t.SupportItemList=y=(0,d.connect)(E,b)(y)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);
}Object.defineProperty(t,"__esModule",{value:!0}),t.SupportScreen=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.SupportScreen=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={callType:[],subType:[]},n}return u(t,e),c(t,[{key:"componentDidMount",value:function(){var e=this.props.dictionary;this.setState({callType:e.callType})}},{key:"updateSubType",value:function(){var e=this.callType.value;if(0==e)return this.props.screen_support({type_code:null}),!1;for(var t=this.state.callType,n=[],a=0;a<t.length;a++)t[a].code==e&&(n=t[a].subType);this.setState({subType:n}),this.props.screen_support({type_code:e})}},{key:"getSubType",value:function(){var e=this.subType.value;"0"==e&&(e=null),this.props.screen_support({subType_code:e})}},{key:"getStatus",value:function(){var e=this.status.value;0==e&&(e=null),this.props.screen_support({status_code:e})}},{key:"getAdmin",value:function(){var e=this.admin.value;0==e&&(e=null),this.props.screen_support({owner_id:e})}},{key:"getLvl",value:function(){var e=this.lvlCode.value;0==e&&(e=null),this.props.screen_support({lvl:e})}},{key:"reset",value:function(){this.props.screen_support({owner_id:null,status_code:null,subType_code:null,type_code:null}),this.callType.value="0",this.subType.value="0",this.status.value="0",this.admin.value="0"}},{key:"render",value:function(){var e=this,t=this.props.dictionary,n=this.state.callType,a=this.state.subType;return i.default.createElement("div",{className:"screen form-inline"},i.default.createElement("select",{className:"formNotShine",onChange:function(){return e.updateSubType()},ref:function(t){return e.callType=t}},i.default.createElement("option",{value:"0"},"来电类型"),function(){if(n)return n.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}()),i.default.createElement("select",{className:"formNotShine",ref:function(t){return e.subType=t},onChange:function(){return e.getSubType()}},i.default.createElement("option",{value:"0"},"来电细分"),function(){if(a)return a.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}()),i.default.createElement("select",{className:"formNotShine",onChange:function(){return e.getStatus()},ref:function(t){return e.status=t}},i.default.createElement("option",{value:"0"},"状态"),function(){if(t.supportStatus)return t.supportStatus.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}()),i.default.createElement("select",{className:"formNotShine",ref:function(t){return e.admin=t},onChange:function(){return e.getAdmin()}},i.default.createElement("option",{value:"0"},"客服"),function(){if(t.admin_list)return t.admin_list.map(function(e,t){if(96==e.role_code||94==e.role_code)return i.default.createElement("option",{key:e.id,value:e.id},e.realname)})}()),i.default.createElement("select",{className:"formNotShine",ref:function(t){return e.lvlCode=t},onChange:function(){return e.getLvl()}},i.default.createElement("option",{value:"0"},"请选择级别"),function(){if(t.lvlsupport)return t.lvlsupport.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}()),i.default.createElement("span",{className:"btn btn-sm btn-danger",onClick:function(){return e.reset()}},"重置"))}}]),t}(i.default.Component),_=function(e){return{dictionary:e.dictionary}},y=function(e){return{screen_support:function(t){return e(v.screen_support(t))}}};t.default=t.SupportScreen=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UpdateSupportItem=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.UpdateSupportItem=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={subType:[],id:null},n}return u(t,e),c(t,[{key:"checkData",value:function(){return this.callType.value&&"0"!=this.callType.value?this.subType.value&&"0"!=this.subType.value?this.lvlsupport.value&&"0"!=this.lvlsupport.value?this.admin_list.value&&"0"!=this.admin_list.value?this.content.value?!!this.logcontent.value||(alert("请输入操作备注"),!1):(alert("请输入描述"),!1):(alert("请选择负责人"),!1):(alert("请选择优先级别"),!1):(alert("请选择来电细分"),!1):(alert("请先选择来电类型"),!1)}},{key:"updateSubType",value:function(){var e=this.callType.value,t=this.props.dictionary.callType,n=[];if("0"!=e){for(var a=0;a<t.length;a++)e==t[a].code&&(n=t[a].subType);this.setState({subType:n})}}},{key:"update",value:function(){var e=this.props.update_work_data;if(!this.checkData())return!1;var t={};console.log("sss",e),t.content=this.content.value,t.userid=e.user_id,t.phone=e.phone,t.lvlcode=this.lvlsupport.value,t.typecode=this.callType.value,t.subtypecode=this.subType.value,t.status=this.supportStatus.value,t.owner_id=this.admin_list.value,t.id=e.id,t.logcontent=this.logcontent.value,e.reserveid?t.reserveid=e.reserveid:e.orderid&&(t.orderid=e.orderid),this.props.update_work(t),$.jy.pop_float_modal("no","#updateSupportWork")}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props.dictionary,a=e.update_work_data||{};if(a.id&&(this.logcontent.value=""),a.id!=this.state.id&&a.id){for(var r=n.callType,l=[],o=0;o<r.length;o++)a.type_code==r[o].code&&(l=r[o].subType);this.setState({id:a.id,subType:l}),setTimeout(function(){t.lvlsupport.value=a.lvl_code,t.admin_list.value=a.owner_id,t.phone.value=a.phone,t.name.value=a.name||a.username||"-",t.content.value=a.content,t.callType.value=a.type_code,t.subType.value=a.subType_code,t.supportStatus.value=a.status_code},100)}}},{key:"render",value:function(){var e=this,t=this.props.dictionary,n=this.props.update_work_data||{};return i.default.createElement("div",{className:"block open_modify"},i.default.createElement("div",{className:"col-lg-4"},i.default.createElement("div",{className:"form-group  margin10-bottom block"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.callType=t},onChange:function(){return e.updateSubType()}},i.default.createElement("option",{value:"0"},"请选择来电类型"),function(){if(t.callType)return t.callType.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}())),i.default.createElement("div",{className:"form-group  margin10-bottom block"},i.default.createElement("select",{className:"form-control margin10-bottom",ref:function(t){return e.subType=t}},i.default.createElement("option",{value:"0"},"请选择来电细分"),function(){var t=e.state.subType;if(t)return t.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}())),i.default.createElement("div",{className:"form-group  margin10-bottom block"},i.default.createElement("select",{className:"form-control margin10-bottom",ref:function(t){return e.lvlsupport=t}},i.default.createElement("option",{value:"0"},"请选择优先级别"),function(){var e=t.lvlsupport;if(e)return e.map(function(e,t){return i.default.createElement("option",{key:e.code,value:e.code},e.name)})}())),i.default.createElement("div",{className:"form-group  margin10-bottom block"},i.default.createElement("select",{className:"form-control margin10-bottom",ref:function(t){return e.admin_list=t}},i.default.createElement("option",{value:"0"},"请选择负责人"),function(){var e=t.admin_list;if(e)return e.map(function(e,t){if(96==e.role_code||94==e.role_code)return i.default.createElement("option",{key:e.id,value:e.id},e.realname)})}())),i.default.createElement("div",{className:"form-group  margin10-bottom block"},i.default.createElement("select",{className:"form-control margin10-bottom",ref:function(t){return e.supportStatus=t}},function(){var e=t.supportStatus;if(e)return e.map(function(e,t){return n.reserveid?i.default.createElement("option",{key:e.code,value:e.code},e.name):12!=e.code&&13!=e.code?i.default.createElement("option",{key:e.code,value:e.code},e.name):void 0})}()))),i.default.createElement("div",{className:"col-lg-8"},i.default.createElement("div",{className:"form-group margin10-bottom block"},i.default.createElement("input",{type:"text",className:"form-control",placeholder:"姓名",ref:function(t){return e.name=t},disabled:!0})),i.default.createElement("div",{className:"form-group margin10-bottom block"},i.default.createElement("input",{type:"text",className:"form-control",placeholder:"手机",ref:function(t){return e.phone=t},disabled:!0})),i.default.createElement("div",{className:"form-group margin10-bottom block"},i.default.createElement("textarea",{placeholder:"描述",className:"form-control",ref:function(t){return e.content=t}})),i.default.createElement("div",{className:"form-group margin10-bottom block"},i.default.createElement("textarea",{placeholder:"操作备注",className:"form-control",ref:function(t){return e.logcontent=t}})),i.default.createElement("div",{className:"form-group block "},i.default.createElement("span",{className:"btn btn-success btn-default",onClick:function(){return e.update()}},"确认修改客服单")),function(){e.logcontent&&(e.logcontent.value="无")}()))}}]),t}(i.default.Component),_=function(e){return{dictionary:e.dictionary,update_work_data:e.support.update_work}},y=function(e){return{update_work:function(t){return e(v.update_work(t))}}};t.default=t.UpdateSupportItem=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.test=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=(a(m),t.test=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"render",value:function(){return i.default.createElement("div",{className:"block pd5"},"xxxxx")}}]),t}(i.default.Component)),h=function(e){return{}},_=function(e){return{}};t.default=t.test=v=(0,d.connect)(h,_)(v)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Head=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=(a(m),t.Head=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"clicklINKS",value:function(e){location.href=e}},{key:"render",value:function(){var e=this.props.pathname.pathname||"";console.log("pathname",e);var t="";return"/reserve"==e?t="reserveHead":"/support"==e?t="supportHead":"/report"==e&&(t="reportHead"),i.default.createElement("div",{className:"fixedTop"},i.default.createElement("div",{className:"headerNav block reserveHead"},i.default.createElement("div",{className:"logo"}),i.default.createElement("div",{className:"admin"},i.default.createElement("span",{className:"icon fa"}),i.default.createElement("span",{className:"name"},"钟安琪"),i.default.createElement("span",{className:"arrow fa"}))))}}]),t}(i.default.Component)),h=function(e){return{pathname:e.routing.locationBeforeTransitions}},_=function(e){return{}};t.default=t.Head=v=(0,d.connect)(h,_)(v)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Head=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=t.Head=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"clicklINKS",value:function(e){location.href=e}},{key:"componentWillMount",value:function(){this.props.admin_data||this.props.get_login_data()}},{key:"loginOut",value:function(){localStorage.clear(),sessionStorage.clear(),location.href="/login"}},{key:"goBack",value:function(e){window.history.back()}},{key:"render",value:function(){var e=this,t=window.location.pathname,n=this.props.pathname.pathname||"",a=this.props.admin_data||{},r="";$G("urlform");return console.log("topHeadClass",r),i.default.createElement("div",{className:"fixedTop"},i.default.createElement("div",{className:"headerNav reserveHead"},i.default.createElement("a",{href:"/reserve"},i.default.createElement("div",{className:"logo"})),i.default.createElement("ul",null,i.default.createElement("li",{className:"/reserve"==t?"curr":"",onClick:this.clicklINKS.bind(this,"/reserve")}," 预约单"),i.default.createElement("li",{className:"/examine2"==t?"curr":"",onClick:this.clicklINKS.bind(this,"/examine")}," 快速操作"),i.default.createElement("li",{className:n.indexOf("product")!=-1?"curr":"",onClick:this.clicklINKS.bind(this,"/product/reserve")},"产品查询"),i.default.createElement("li",{className:"/statistics"==t?"curr":"",onClick:this.clicklINKS.bind(this,"/statistics")}," 预约统计")),i.default.createElement("div",{className:"admin"},i.default.createElement("span",{className:"name"},a.realname||a.username),"    ",i.default.createElement("span",{className:"fa-angle-down fa"}),i.default.createElement("ul",{className:"popList"},i.default.createElement("li",null,a.role_name),i.default.createElement("li",{onClick:function(){return e.loginOut()}},"退出登录")))))}}]),t}(i.default.Component),_=function(e){return{pathname:e.routing.locationBeforeTransitions,admin_data:e.dictionary.admin_data}},y=function(e){return{get_login_data:function(t){return e(v.get_login_data(t))},goUrl:function(t){return e(v.goUrl(t))}}};t.default=t.Head=h=(0,d.connect)(_,y)(h)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MessageMain=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(21),_=t.MessageMain=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){this.props.get_message()}},{key:"addSubmit",value:function(){var e=this.message.value;e&&(this.props.add_message({content:e}),this.message.value="")}},{key:"render",value:function(){var e=this,t=this.props.list_message;return i.default.createElement("div",{className:"supportContainer messageMain"},i.default.createElement(h.Head,null),i.default.createElement("div",{className:"messageKV"},i.default.createElement("div",{className:"contentBox"},i.default.createElement("div",{className:"txt"},i.default.createElement("h2",null,"成功没有快车道，幸福没有高速路"),i.default.createElement("p",null,"所有的成功，都来自不倦的努力和奔跑; 所有幸福，都来自平凡的奋斗和坚持")))),i.default.createElement("div",{className:"contentBox messageBox"},i.default.createElement("div",{className:"row"},i.default.createElement("div",{className:"mLeft col-md-4"},i.default.createElement("div",{className:"addMS msblock"},i.default.createElement("h2",null,"发表留言"),i.default.createElement("div",{className:"inputDiv"},i.default.createElement("textarea",{rows:"6",maxLength:"300",className:"form-control",placeholder:"协助办公、吐槽、意见等等等等等等等等",ref:function(t){return e.message=t}}),i.default.createElement("p",null,i.default.createElement("input",{className:"btn btn-default",type:"submit",value:"提交",onClick:function(){return e.addSubmit()}}))))),i.default.createElement("div",{className:"mRight col-md-8"},i.default.createElement("h2",{className:"ms_listTitle"},"留言列表"),i.default.createElement("ul",{className:"ms_listBox"},function(){if(t)return t.map(function(e,t){return i.default.createElement("li",{className:"ms_row cf",key:t},i.default.createElement("div",{className:"ms_user col-md-2"},i.default.createElement("p",{className:"ms_userHead cf"},i.default.createElement("img",{src:"",alt:"icon"})),i.default.createElement("p",{className:"ms_userName"},e.adminname||"ID"+e.id)),i.default.createElement("div",{className:"ms_txt col-md-10"},i.default.createElement("div",{className:"txt"},e.content),i.default.createElement("p",{className:"time"},e.time)))})}())))))}}]),t}(i.default.Component),y=function(e){return{list_message:e.support.list_message}},E=function(e){return{get_message:function(t){return e(v.get_message(t))},add_message:function(t){return e(v.add_message(t))}}};t.default=t.MessageMain=_=(0,d.connect)(y,E)(_)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ProductSearch=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(21),_=t.ProductSearch=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={editPackageId:""},n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){this.props.get_country()}},{key:"componentDidMount",value:function(){var e=$G("id");e&&this.props.product_search({id:e});var t=this.props.dictionary||{};t.admin_list||this.props.adminList({scene_type:"reserve"})}},{key:"componentDidUpdate",value:function(){if(this.props.product.detail){var e=this.props.product.detail.reserve_owner_id||0;if(this.updateAdmin&&(this.updateAdmin.value=e),this.reserve_mark&&this.props.product.detail.packages&&this.state){var t=this;this.reserve_mark.value=this.props.product.detail.packages.find(function(e){var n=e.id;return n===t.state.editPackageId}).reserve_mark}}}},{key:"changeReserveOwner",value:function(){this.props.product_reserve_owner({id:this.props.product.detail.id,reserve_owner_id:this.updateAdmin.value})}},{key:"selectCountry",value:function(){var e=this.country.value;"0"==e&&(e=""),e&&this.props.get_city({filter:{equal:{CountryCode:e,used:1}}})}},{key:"selectCity",value:function(){var e=this.city.value;"0"==e&&(e=""),e&&this.props.get_product({filter:{equal:{city:e,status:10}}})}},{key:"collapseAll",value:function(){if(this.props.product.detail){var e=this.props.product.detail.packages||[],t=e.map(function(e){var t=e.id;return t});this.props.package_collapse({ids:t})}}},{key:"collapse",value:function(e){this.props.package_collapse({id:e})}},{key:"selectProduct",value:function(){var e=this.product.value;"0"==e&&(e=""),e&&this.props.product_search({id:e})}},{key:"editPackageReserveMark",value:function(e){this.setState({editPackageId:e.id})}},{key:"updatePackageReserveMark",value:function(e){var t=this,n=this.reserve_mark.value;this.props.package_update_reserve_mark({product_id:this.props.product.detail.id,id:e,reserve_mark:n},function(){t.setState({editPackageId:""})})}},{key:"searchProduct",value:function(e){var t=e||window.event;if(13==t.keyCode){var n=this.searchName.value;n&&($.jy.form_checkNumber(n)?this.props.product_search({id:n}):this.props.search_product_name({search:n,needid:1}))}}},{key:"render",value:function(){var e=this,t=this.props.product,n=t.detail,a=(this.props.pathname.pathname||"",this.props.dictionary);return i.default.createElement("div",{className:"supportContainer"},i.default.createElement(h.Head,null),i.default.createElement("div",{className:"searchMain"},i.default.createElement("div",{className:"box"},i.default.createElement("div",{className:"input_proBox"},i.default.createElement("input",{type:"text",className:"form-control pull-left",style:{width:"20%",marginRight:"2%"},placeholder:"产品名称/ID搜索",ref:function(t){return e.searchName=t},onKeyDown:function(t){return e.searchProduct(t)}}),i.default.createElement("select",{className:"form-control none",style:{width:"15%"},onChange:function(t){return e.selectCountry(t)},ref:function(t){return e.country=t}},i.default.createElement("option",{value:"0"},"选择国家"),function(){if(t.country)return t.country.map(function(e,t){return i.default.createElement("option",{value:e.ISOCountryCode,key:e.id},e.CountryName_CN)})}()),i.default.createElement("select",{className:"form-control none",style:{width:"15%"},onChange:function(t){return e.selectCity(t)},ref:function(t){return e.city=t}},i.default.createElement("option",{value:"0"},"选择城市"),function(){if(t.city)return t.city.map(function(e,t){return i.default.createElement("option",{value:e.CityName_CN,key:e.id},e.CityName_CN)})}()),i.default.createElement("select",{className:"form-control",style:{width:"40%"},onChange:function(){return e.selectProduct()},ref:function(t){return e.product=t}},i.default.createElement("option",{value:"0"},"选择产品"),function(){if(t.product)return t.product.map(function(e,t){return i.default.createElement("option",{value:e.id,key:e.id},e.title)})}()),i.default.createElement("input",{type:"hidden",className:"form-control",placeholder:"产品名称"})))),function(){if(n)return i.default.createElement("div",{className:"proMain "},i.default.createElement("div",{className:"proHead"},i.default.createElement("h1",{className:"proName"},n.title),i.default.createElement("p",{className:"proNameMore"},n.sub_title),function(){if(e.props.admin_data&&"93"==e.props.admin_data.role_code)return i.default.createElement("div",{className:"pro_operating"},i.default.createElement("select",{className:"form-control",ref:function(t){return e.updateAdmin=t}},i.default.createElement("option",{value:"0"},"更改指派人"),function(){if(a.admin_list)return a.admin_list.map(function(e,t){return i.default.createElement("option",{key:e.id,value:e.id},e.realname)})}()),i.default.createElement("span",{className:"btn  btn-success",onClick:function(t){return e.changeReserveOwner()}},"确认"))}()),i.default.createElement("div",{className:"content row "},i.default.createElement("div",{className:"proLeft col-md-4"},function(){if(n.img)return i.default.createElement("div",{className:"pro_imgBox"},i.default.createElement("img",{src:n.img,alt:"图片"}))}(),i.default.createElement("div",{className:"pro_parameter"},i.default.createElement("p",{className:"parameter row"},i.default.createElement("span",{className:"parameter_l col-md-3"},"产品ID："),i.default.createElement("span",{className:"parameter_r col-md-9"},n.id)),i.default.createElement("p",{className:"parameter row"},i.default.createElement("span",{className:"parameter_l col-md-3"},"酒店："),i.default.createElement("span",{className:"parameter_r col-md-9"},n.name)),i.default.createElement("p",{className:"parameter row"},i.default.createElement("span",{className:"parameter_l col-md-3"},"产品有效期："),i.default.createElement("span",{className:"parameter_r col-md-9"},n.valid_start,"～",n.valid_end)),i.default.createElement("p",{className:"parameter row"},i.default.createElement("span",{className:"parameter_l col-md-3"},"城市："),i.default.createElement("span",{className:"parameter_r col-md-9"},n.country||"-","，",n.city||"-")),i.default.createElement("p",{className:"parameter row"},i.default.createElement("span",{className:"parameter_l col-md-3"},"地址："),i.default.createElement("span",{className:"parameter_r col-md-9"},n.address||"-"))),i.default.createElement("div",{className:"pro_description"},i.default.createElement("h2",null,"产品描述"),i.default.createElement("div",{className:"txt",dangerouslySetInnerHTML:{__html:n.description}})),i.default.createElement("div",{className:"pro_reason"},i.default.createElement("h2",null,"推荐理由："),i.default.createElement("div",{className:"txt"},"暂无相关内容"))),i.default.createElement("div",{className:"col-md-8 proRight  "},i.default.createElement("h2",{className:"packageHead"},i.default.createElement("span",{className:"t1"},"预售套餐"),i.default.createElement("span",{className:"t1_info"},"已售",n.sold,"份"),i.default.createElement("a",{href:"javascript:",onClick:function(){return e.collapseAll()},className:"showRowButton"},"套餐内容全部收缩")),i.default.createElement("ul",null,function(){if(n.packages){var t=e.props.collapsePackageIds||[];return n.packages.map(function(n,a){var r=n.img,l=t.includes(n.id),o=e.state.editPackageId===n.id;return i.default.createElement("li",{className:10==n.p_status?"packageRow":"packageRow packageRow_Disabled",key:n.id},i.default.createElement("h3",{className:"packageRow_head",onClick:function(){return e.collapse(n.id)}},i.default.createElement("span",{className:"t1"},n.name),i.default.createElement("span",{className:"t1_txt"},"已售：",n.sold," 库存：",n.stock),i.default.createElement("span",{className:"jt"},i.default.createElement("i",{className:"fa "+(l?"fa-angle-up":"fa-angle-down")})," ")),i.default.createElement("div",{className:"PR_info  cf "+(l?"hidden":""),id:"packageInfo"+n.id},function(){if(r)return i.default.createElement("div",{className:"PR_pic col-md-3"},i.default.createElement("img",{src:r,alt:"图片"}))}(),i.default.createElement("dvi",{className:"PR_txtBox col-md-9"},i.default.createElement("div",{className:"parameter cf"},i.default.createElement("p",{className:"PR_txt_p "},i.default.createElement("span",{className:"PR_txt_l col-md-2"},"套餐ID："),i.default.createElement("span",{className:"PR_txt_r col-md-10"},n.id)),i.default.createElement("p",{className:"PR_txt_p "},i.default.createElement("span",{className:"PR_txt_l col-md-2"},"卖价："),i.default.createElement("span",{className:"PR_txt_r col-md-10"},n.retail_price||"-")),i.default.createElement("p",{className:"PR_txt_p "},i.default.createElement("span",{className:"PR_txt_l col-md-2"},"结算价："),i.default.createElement("span",{className:"PR_txt_r col-md-10 price"},n.settle_price||"-")),i.default.createElement("p",{className:"PR_txt_p "},i.default.createElement("span",{className:"PR_txt_l col-md-2"},"可预约类型："),i.default.createElement("span",{className:"PR_txt_r col-md-10"},n.credentialsType||"-")),i.default.createElement("p",{className:"PR_txt_p "},i.default.createElement("span",{className:"PR_txt_l col-md-2"},"套餐有效期："),i.default.createElement("span",{className:"PR_txt_r col-md-10"},n.valid_start,"   ～   ",n.valid_end))),i.default.createElement("div",{className:"description"},i.default.createElement("h3",null,"套餐描述"),i.default.createElement("div",{className:"txt",dangerouslySetInnerHTML:{__html:n.content}})),i.default.createElement("div",{className:"description"},i.default.createElement("h3",null,"套餐预约备注",function(){if(!o&&(91==e.props.admin_data.role_code||92==e.props.admin_data.role_code||93==e.props.admin_data.role_code))return i.default.createElement("i",{
className:"fa fa-edit fa-fw",onClick:function(){return e.editPackageReserveMark(n)}})}()),function(){return o?i.default.createElement("div",null,i.default.createElement("div",{className:"margin5-bottom"},i.default.createElement("textarea",{className:"form-control",rows:"6",placeholder:"套餐预约备注",ref:function(t){return e.reserve_mark=t}})),i.default.createElement("div",{className:"form-group text-center margin5-bottom"},i.default.createElement("span",{className:"btn btn-default btn-success margin-top-sm",onClick:function(){return e.updatePackageReserveMark(n.id)}},"保存"))):i.default.createElement("span",{className:"txt"},n.reserve_mark)}()))))})}}()))))}())}}]),t}(i.default.Component);_.contextTypes={router:i.default.PropTypes.object.isRequired};var y=function(e){return{product:e.product,pathname:e.routing.locationBeforeTransitions,dictionary:e.dictionary,admin_data:e.dictionary.admin_data,collapsePackageIds:e.product.collapsePackageIds}},E=function(e){return{get_country:function(t){return e(v.get_country(t))},get_city:function(t){return e(v.get_city(t))},get_product:function(t){return e(v.get_product(t))},product_search:function(t){return e(v.product_search(t))},search_product_name:function(t,n){return e(v.search_product_name(t,n))},adminList:function(t){return e(v.adminList(t))},product_reserve_owner:function(t){return e(v.product_reserve_owner(t))},package_collapse:function(t){return e(v.package_collapse(t))},package_update_reserve_mark:function(t,n){return e(v.package_update_reserve_mark(t,n))}}};t.default=t.ProductSearch=_=(0,d.connect)(y,E)(_)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ReservePrint=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),i=n(1),d=r(i),f=n(2),p=n(3),m=r(p),v=n(4),h=a(v),_=(n(32),t.ReservePrint=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=m.default.shouldComponentUpdate.bind(n),n}return u(t,e),s(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.data,t=this.props.reserves,n=(e.settle_price||0,{display:"inline-block",marginBottom:"5px",fontWeight:"700",fontSize:"14px"}),a={fontSize:"18px",marginTop:"10px",marginBottom:"10px"},r={fontSize:"24px",marginTop:"20px",marginBottom:"10px"},l={fontWeight:"400",fontSize:"14px"};return d.default.createElement("div",{style:{lineHeight:"20px",fontFamily:"'Source Sans Pro','sans-serif'"}},d.default.createElement("div",{style:{textAlign:"center",width:"100%"}},d.default.createElement("h3",{style:r},"布拉旅行订单"),d.default.createElement("h4",{style:a},"(",d.default.createElement("span",{style:c({},l,{fontSize:"18px",fontWeight:"500"})},t.title),")")),d.default.createElement("div",{style:{width:"100%",display:"flex",lineHeight:"20px",boxSizing:"border-box"}},d.default.createElement("div",{style:{width:"50%",float:"left"}},d.default.createElement("div",null,d.default.createElement("h4",{style:a},"订单详情：")),d.default.createElement("div",null,d.default.createElement("label",{style:n},"预约单号："),d.default.createElement("span",{style:l},e.reserve_id)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"相关订单："),d.default.createElement("span",{style:l},t.order_sn)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"入住时间："),d.default.createElement("span",{style:l},e.checkin_date)),d.default.createElement("div",null,d.default.createElement("label",{style:n}," 离店时间："),d.default.createElement("span",{style:l},e.checkout_date)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"房间类型："),d.default.createElement("span",{style:l},e.room_type)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"房间数："),d.default.createElement("span",{style:l},e.total_rooms)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"房晚数："),d.default.createElement("span",{style:l},e.total_nights," 天")),d.default.createElement("div",null,d.default.createElement("label",{style:n},"结算价："),d.default.createElement("span",{style:l},e.settle_price||"-")),function(){if("airplane_hotel"===e.type)return d.default.createElement("div",null,d.default.createElement("div",null,d.default.createElement("label",{style:n},"机加酒航班去程日期："),d.default.createElement("span",{style:l},e.air_go_date)),d.default.createElement("div",null,d.default.createElement("label",{style:n}," 机加酒航班返程日期："),d.default.createElement("span",{style:l},e.air_back_date)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"机加酒去程航班："),d.default.createElement("span",{style:l},e.air_plan_go)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"机加酒返程航班："),d.default.createElement("span",{style:l},e.air_plan_back)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"机加酒航班历时天数："),d.default.createElement("span",{style:l},(new Date(e.air_back_date)-new Date(e.air_go_date))/864e5,"天")))}(),function(){var t=e.travelers||e.oldTravelers||[];if(t.length)return d.default.createElement("div",null,d.default.createElement("h4",{style:a},"入住人信息："),function(){return t.map(function(e){var t=e.id_type;if(!t)switch(t="未知",e.type_code){case 621:t="身份证";break;case 622:t="军官证";break;case 623:t="护照"}return d.default.createElement("div",{key:e.id},d.default.createElement("div",null,d.default.createElement("label",{style:n},"入住人："),d.default.createElement("span",{style:l},e.name),d.default.createElement("br",null)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"手机："),d.default.createElement("span",{style:l},e.phone),d.default.createElement("br",null)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"证件类型："),d.default.createElement("span",{style:l},t)),d.default.createElement("div",null,d.default.createElement("label",{style:n},"证件："),d.default.createElement("span",{style:l},e.no||e.idcard),d.default.createElement("br",null)))})}())}(),d.default.createElement("div",null,d.default.createElement("h4",{style:a},"用户备注：")),d.default.createElement("div",null,d.default.createElement("span",{style:l},e.note))),d.default.createElement("div",{style:{width:"50%",float:"left"}}," ",function(){if(t.productPackage)return d.default.createElement("div",null,d.default.createElement("h4",{style:a},"套餐内容："),d.default.createElement("span",{style:c({},l,{lineHeight:"18px"}),dangerouslySetInnerHTML:{__html:t.productPackage.content}}))}())),d.default.createElement("div",{style:{width:"100%",fontSize:"14px"}},d.default.createElement("div",null,d.default.createElement("label",{style:n},"公司名称：")),d.default.createElement("div",null,d.default.createElement("label",{style:n},"签名（章）：")),d.default.createElement("div",null,d.default.createElement("label",{style:n},"布拉旅行传真：")),d.default.createElement("div",null,d.default.createElement("label",{style:n},"日期："),d.default.createElement("span",{style:l},getNowFormatDate()))))}}]),t}(d.default.Component)),y=function(e){return{reserves:e.tree,id:e.select.id,type:e.select.type}},E=function(e){return{get_ticket:function(t){return e(h.get_ticket(t))},showUserDetail:function(t){return e(h.showUserDetail(t))}}};t.default=t.ReservePrint=_=(0,f.connect)(y,E)(_)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShowRefuseList=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=(r(f),n(4)),m=a(p),v=t.ShowRefuseList=function(e){function t(){return l(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),c(t,[{key:"get_refuse_list",value:function(){var e=this.startTime.value,t=this.endTime.value,n=this._package.value;if(!n||!t||!e)return alert("请填写完整搜索条件"),!1;var a={filter:{between:{checkin_date:{start:e,end:t,type:"date"}},equal:{package_id:n}}};this.props.get_refuse_list(a)}},{key:"reject_refuse_list",value:function(){var e=this,t=this.props.refuse_list.selected||{},n=[];if($.each(t,function(e,t){t&&(n=n.concat(t))}),0==n.length)return alert("请先选择要拒绝的日期"),!1;var a=this.innerValue,r=this.inner,l=this.realValue,o=this.real;if(!a.value)return alert("请填写内部原因"),!1;if(!l.value)return alert("请填写外部原因"),!1;var u={inner_refuse_code:r.value,inner_refuse_desc:a.value,real_refuse_code:o.value,real_refuse_desc:l.value,ids:n};"1"==this.props.isExamine&&(u.quicksearch=1),this.props.reject_reserve(u,function(){e.get_refuse_list()}),a.value="",r.value="0",l.value="",o.value="0",$.jy.pop_float_modal("no","#showRefuseList")}},{key:"componentDidMount",value:function(){function e(e){var t={elem:e||"#refuseListStartTime",event:"click",format:"YYYY-MM-DD",istime:!1,isclear:!0,istoday:!0,issure:!0,festival:!0,start:getNowFormatDate("date"),fixed:!1,zIndex:99999999};return t}var t=this,n=e("#refuseListStartTime"),a=e("#refuseListEndTime");setTimeout(function(){laydate(n),laydate(a)},100),$("#refuseList").on("click","td",function(){var e=$(this).attr("data-idx");console.log("index",e);var n=t.props.refuse_list.reserves[e],a=t.props.refuse_list.selected||{},r=n.date,l=n.ids,o={};a[r]?o[r]=null:o[r]=l;var u=Object.assign(a,o);t.props.selected_refuse_list(u)})}},{key:"upValue",value:function(e,t){var n=this.props.inner_reject,a=this.props.real_reject,r=null,l=null,o=[];if("inner"==t?(l=this.innerValue,r=this.inner.value,o=n):"real"==t&&(l=this.realValue,r=this.real.value,o=a),"0"==r)return l.value="",!1;for(var u=0;u<o.length;u++)o[u].type_code==r&&(l.value=o[u].content)}},{key:"render",value:function(){var e=this,t=this.props.refuse_list.reserves||[],n=this.props.refuse_list.selected||{},a=this.props.inner_reject,r=this.props.real_reject;return i.default.createElement("div",{className:"block",id:"refuseList"},i.default.createElement("div",{className:"block form-inline"},i.default.createElement("input",{type:"text",className:"form-control margin5-right",placeholder:"入住时间起始",id:"refuseListStartTime",ref:function(t){return e.startTime=t}}),i.default.createElement("input",{type:"text",className:"form-control margin5-right",placeholder:"入住时间结束",id:"refuseListEndTime",ref:function(t){return e.endTime=t}}),i.default.createElement("input",{type:"text",className:"form-control margin5-right",placeholder:"套餐ID",id:"refuseListProduct",ref:function(t){return e._package=t}}),i.default.createElement("span",{className:"btn btn-success margin5-right",onClick:function(){return e.get_refuse_list()}},"搜索")),i.default.createElement("div",{className:"block text pd5"},i.default.createElement("h5",null,this.props.refuse_list.name||"-")),function(){if(t.length){var e="";return t.map(function(t,a){var r="";n[t.date]&&(r="on"),e+=a%8==0?"<tr key="+a+'><td class="'+r+'" data-idx="'+a+'"><p>'+t.date+"</p><p>"+t.count+"预约单</p></td>":a%8==7?'<td class="'+r+'" data-idx="'+a+'"><p>'+t.date+"</p><p>"+t.count+"预约单</p></td></tr>":'<td class="'+r+'" data-idx="'+a+'"><p>'+t.date+"</p><p>"+t.count+"预约单</p></td>"}),i.default.createElement("div",{className:"block"},i.default.createElement("table",{className:"table table-bordered dataTable"},i.default.createElement("tbody",{dangerouslySetInnerHTML:{__html:e}})))}return i.default.createElement("div",{className:"block notData"},i.default.createElement("p",{className:"font-red"},"该时间段没有此套餐的预约单"))}(),i.default.createElement("div",{className:"block pd5"},i.default.createElement("div",{className:"pd5 block"},i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control",onChange:function(t){return e.upValue(t,"inner")},ref:function(t){return e.inner=t}},i.default.createElement("option",{value:"0"},"请选择内部拒绝原因"),function(){if(a)return a.map(function(e,t){return i.default.createElement("option",{value:e.type_code,key:t},e.title)})}())),i.default.createElement("input",{type:"hidden",className:"form-control innerRejectTextarea",ref:function(t){return e.innerValue=t}}),i.default.createElement("div",{className:"form-group"},i.default.createElement("select",{className:"form-control realRejectSelect",ref:function(t){return e.real=t},onChange:function(t){return e.upValue(t,"real")}},i.default.createElement("option",{value:"0"},"请选择外部拒绝原因"),function(){if(r)return r.map(function(e,t){return i.default.createElement("option",{value:e.type_code,key:t},e.title)})}())),i.default.createElement("div",{className:"form-group margin5-top clearFlat"},i.default.createElement("textarea",{rows:"5",cols:"60",className:"form-control realRejectTextarea",placeholder:"外部拒绝原因请写在这里，50字",maxLength:"50",ref:function(t){return e.realValue=t}}))),i.default.createElement("div",{className:"pd5 block text-center"},i.default.createElement("span",{className:"btn btn-danger",onClick:function(){return e.reject_refuse_list()}},"确认拒绝"))))}}]),t}(i.default.Component),h=function(e){return{refuse_list:e.refuse_list,selected:e.refuse_list.selected,inner_reject:e.dictionary.inner_reject,real_reject:e.dictionary.real_reject}},_=function(e){return{get_refuse_list:function(t){return e(m.get_refuse_list(t))},selected_refuse_list:function(t){return e(m.selected_refuse_list(t))},reject_refuse_list:function(t){return e(m.reject_refuse_list(t))},reject_reserve:function(t,n){return e(m.reject_reserve(t,n))}}};t.default=t.ShowRefuseList=v=(0,d.connect)(h,_)(v)},function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Terminology=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),s=n(1),i=r(s),d=n(2),f=n(3),p=r(f),m=n(4),v=a(m),h=n(21),_=(n(50),t.Terminology=function(e){function t(e){l(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.shouldComponentUpdate=p.default.shouldComponentUpdate.bind(n),n.state={contents:null},n}return u(t,e),c(t,[{key:"componentWillMount",value:function(){this.props.list_telline()}},{key:"tabEle",value:function(e){e&&this.setState({contents:e})}},{key:"render",value:function(){var e=this,t=this.props.tellineList,n=this.state.contents,a=null;return!function(){n?a=n.map(function(e,t){return i.default.createElement("li",{className:"qa_Row",key:e.id},i.default.createElement("h5",null,e.title),i.default.createElement("div",{className:"qa_Txt"},e.content))}):t&&(a=t[0].contents.map(function(e,t){return i.default.createElement("li",{className:"qa_Row",key:e.id},i.default.createElement("h5",null,e.title),i.default.createElement("div",{className:"qa_Txt"},e.content))}))}(),i.default.createElement("div",{className:"supportContainer terminologyMain"},i.default.createElement(h.Head,null),i.default.createElement("div",{className:"qa_tagBox"},i.default.createElement("div",{className:"contentBox"},i.default.createElement("h3",null,"选择标签："),function(){if(t)return t.map(function(t,n){return i.default.createElement("a",{href:"javascript:",key:t.code,"data-code":t.code,onClick:function(){return e.tabEle(t.contents)}},t.name)})}())),i.default.createElement("div",{className:"qa_Box"},i.default.createElement("ul",{className:"contentBox"},a)))}}]),t}(i.default.Component)),y=function(e){return{tellineList:e.support.tellineList}},E=function(e){return{list_telline:function(t){return e(v.list_telline(t))}}};t.default=t.Terminology=_=(0,d.connect)(y,E)(_)},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(105),l=(a(r),n(49)),o=n(14);e.exports={isTokenIn:function(){return function(e,t){!localStorage.__token,console.log("__token："+localStorage.__token),!localStorage.__role_code,console.log("__role_code："+localStorage.__role_code)}},updateRoute:function(e){return function(t,n){t((0,l.push)(e.url))}},login:function(e){var t=this;return function(n,a){o.resource({body:e,url:"/api/user/login"},function(e){n(t.login_success(e))},function(e){alert(e.msg)})}},get_login_data:function(e){return function(t,n){o.resource({body:e,url:"/api/admin/userinfo"},function(e){t({type:"GET_LOGIN_DATA",data:e.data})},function(e){console.log(e)})}},login_success:function(e){return function(t,n){var a=e;console.log("aaaaa",a.data),a.data.token&&(o.token=a.data.token,localStorage.__token=a.data.token),a.data.role_code&&(localStorage.__role_code=a.data.role_code),t({type:"SELECTED_ADMIN",data:a.data}),t({type:"TOKEN",data:a.data.token});var r=a.data.role_code;97==r?location.href="/finance/payment":93==r||92==r||91==r?location.href="/reserve":94!=r&&95!=r&&96!=r&&99!=r||(location.href="/support")}},mock:function(e,t){var n=this;return function(t,a){o.resource({body:e,url:"/api/admin/mock"},function(e){t(n.login_success(e))},function(e){console.log(e)})}}}},function(e,t,n){"use strict";var a=n(14);e.exports={list_dictionary:function(e){return function(t,n){a.resource({body:e,url:"/api/dictionary/list"},function(e){t({type:"LIST_DICTIONARY",data:e.data})},function(e){console.log(e)})}},adminList:function(e){return function(t,n){a.resource({body:e,url:"/api/admin/employee/list"},function(e){t({type:"LIST_ADMIN",data:e.data})},function(e){console.log(e)})}},get_login_data:function(e){return function(t,n){a.resource({body:e,url:"/api/admin/userinfo"},function(e){t({type:"GET_LOGIN_DATA",data:e.data})},function(e){console.log(e)})}},logout:function(e,t){return function(n,r){a.resource({body:e,url:"/api/admin/logout"},function(e){t&&setTimeout(function(){t()},100)},function(e){console.log(e)})}}}},function(e,t,n){"use strict";var a=n(49),r=n(14);e.exports={product_search:function(e){var t=this;return function(n,a){r.resource({body:e,url:"/api/product/detail"},function(e){if(n({type:"PRODUCT_DETAIL",data:e.data}),e.data){var a=e.data.packages||[],r=a.filter(function(e){var t=e.id,n=e.p_status;if(10!=n)return t}).map(function(e){var t=e.id;return t});n(t.package_collapse({ids:r}))}},function(e){alert("接口报错，可能无此产品，请联系技术部"),console.log(e)})}},product_reserve_owner:function(e){return function(t,n){r.resource({body:e,url:"/api/product/reserve/owner"},function(e){alert("修改成功")},function(e){alert("接口报错，可能无此产品，请联系技术部"),console.log(e)})}},get_country:function(e){return function(t,n){r.resource({body:e,url:"/api/template/location/country/list"},function(e){t({type:"GET_COUNTRY",data:e.data})},function(e){console.log(e)})}},get_city:function(e){return function(t,n){r.resource({body:e,url:"/api/template/location/city/list"},function(e){t({type:"GET_CITY",data:e.data})},function(e){console.log(e)})}},get_product:function(e){return function(t,n){r.resource({body:e,url:"/api/product/list"},function(e){t({type:"GET_PRODUCT",data:e.data})},function(e){console.log(e)})}},search_product_name:function(e,t){return function(n,a){r.resource({body:e,url:"/api/product/search"},function(e){n({type:"GET_PRODUCT",data:e.data}),t&&setTimeout(function(){t()},100)},function(e){console.log(e)})}},goUrl:function(e){return function(t,n){t((0,a.push)(e))}},package_collapse:function(e){return function(t,n){var a=e.ids||n().product.collapsePackageIds||[];e.id&&(a.includes(e.id)?a.removeByValue(e.id):a.push(e.id)),t({type:"PRODUCT_COLLAPSE_PACKAGE_IDS",data:a})}},package_update_reserve_mark:function(e,t){var n=this;return function(a,l){r.resource({body:e,url:"/api/product/package/update/reserve_mark"},function(r){a(n.product_search({id:e.product_id})),t&&setTimeout(function(){t()},100)},function(e){console.log(e)})}}}},function(e,t,n){"use strict";var a=n(14);e.exports={get_refuse_list:function(e){var t=this;return function(n,r){a.resource({body:e,url:"/api/report/reserve/date"},function(e){n({type:"REFUSE_LIST",data:e.data});for(var a=e.data.reserves||[],r={},l=0;l<a.length;l++){var o=a[l];r[o.date]=o.ids}n(t.selected_refuse_list(r))},function(e){alert(e.msg)})}},selected_refuse_list:function(e){return function(t,n){t({type:"SELECTED_REFUSE_LIST",data:e})}},reject_refuse_list:function(e){return function(t,n){t({type:"HANDLE_IDS",data:e})}}}},function(e,t,n){"use strict";var a=n(14);n(52);e.exports={settlepriceSum:function(e){return function(t,n){a.resource({body:e,url:"/api/report/settlepricesum"},function(e){t({type:"SETTLEPRICE_SUM",data:e.data})},function(e){console.log(e)})}},orderpaymentDaily:function(e){return function(t,n){a.resource({body:e,url:"/api/report/orderpayment/date"},function(e){t({type:"DAILY_LIST",data:e.data})},function(e){console.log(e)})}},orderpaymentStatus:function(e){return function(t,n){a.resource({body:e,url:"/api/report/orderpayment/date"},function(e){t({type:"PAYMENTSTATUS",data:e.data})},function(e){console.log(e)})}},orderpaymentMonth:function(e){return function(t,n){a.resource({body:e,url:"/api/report/orderpayment/date"},function(e){t({type:"MONTH_LIST",data:e.data})},function(e){console.log(e)})}},orderpaymentProductMonth:function(e){return function(t,n){a.resource({body:e,url:"/api/report/orderpayment/product"},function(e){t({type:"MONTH_PRODUCTRANK",data:e.data})},function(e){console.log(e)})}},orderpaymentProductDaily:function(e){return function(t,n){a.resource({body:e,url:"/api/report/orderpayment/product"},function(e){t({type:"DAILY_PRODUCTRANK",data:e.data})},function(e){console.log(e)})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(105),l=(a(r),n(40)),o=a(l),u=n(52),c=a(u),s=n(14);e.exports={list_support_switch:function(e){return function(t,n){var a=n().support.list_support_switch;a!=e&&t({type:"LIST_SUPPORT_SWITCH",data:e})}},add_support_work:function(e,t){return function(n,a){s.resource({body:e,url:"/api/support/add"},function(e){console.log("新增"),n(o.default.search()),n(o.default.update_tree()),"function"==typeof t&&t()},function(e){console.log(e)})}},get_corporation_over:function(e,t){return function(t,n){s.resource({body:e,url:"/api/support/corporation/over"},function(e){t({type:"SUPPORT_CORPORATION_OVER",data:e.data})},function(e){console.log(e)})}},add_reserve_work:function(e){return function(t,n){t({type:"ADD_RESERVE_WORK",data:e})}},update_reserve_work:function(e){return function(t,n){s.resource({body:e,url:"/api/support/select"},function(e){t({type:"UPDATE_RESERVE_WORK",data:e.data})},function(e){console.log(e)})}},update_work:function(e){var t=this;return function(n,a){s.resource({body:e,url:"/api/support/update"},function(a){console.log("更新客服单状态"),n(o.default.screen_reserve()),n(o.default.screen_support()),n(o.default.update_tree()),"12"==e.status?n(t.get_corporation_over()):"13"==e.status&&n(c.default.get_need_corporation())},function(e){console.log(e)})}},list_telline:function(e){return function(t,n){s.resource({body:e,url:"/api/template/telline/list"},function(e){t({type:"TELLINE_SUPPORT",data:e.data})},function(e){console.log(e)})}},get_message:function(e){return function(t,n){s.resource({body:e,url:"/api/support/highline/list"},function(e){t({type:"LIST_MESSAGE",data:e.data})},function(e){console.log(e)})}},add_message:function(e){var t=this;return function(n,a){s.resource({body:e,url:"/api/support/highline/add"},function(e){n(t.get_message())},function(e){console.log(e)})}}}},function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}var r=n(40),l=a(r),o=n(14);e.exports={get_ticket:function(e){return function(t,n){t({type:"GET_TICKET",data:e})}},update_quick:function(e){return function(t,n){t({type:"GET_QUICK",data:e})}},update_ticket:function(e,t){return function(n,a){o.resource({body:e,url:"/api/reserve/flight/update"},function(e){console.log("修改成功"),t&&t()},function(e){console.log(e)})}},update_service_mark:function(e){return function(t,n){o.resource({body:e,url:"/api/reserve/servicemark/update"},function(a){console.log("修改预约服务备注");for(var r=n().list.reserve||[],l=0;l<r.length;l++)e.id==r[l].id&&(r[l]=a.data);console.log(r),t({type:"LIST_RESERVE",data:r})},function(e){console.log(e)})}},update_confirm:function(e,t){return function(n,a){o.resource({body:e,url:"/api/reserve/roomstay-confirm"},function(e){t&&t()},function(e){console.log(e)})}},update_flig_status:function(e){return function(t,n){o.resource({body:e,url:"/api/reserve/flight/updatestatus"},function(e){console.log("修改成功-机票"),t(l.default.screen_reserve()),t(l.default.update_tree())},function(e){console.log(e)})}},update_hotel_status:function(e){return function(t,n){o.resource({body:e,url:"/api/reserve/hotel/batch-update"},function(e){console.log("修改成功-酒店"),t(l.default.screen_reserve()),t(l.default.update_tree())},function(e){console.log(e)})}},showUserDetail:function(e){return function(t,n){t({type:"SHOW_USER_DETAIL",data:e})}}}},function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports={tree:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"DETAIL_TREE":return t.data;case"UPDATE_PACKAGE":return n({},e,{selectID:t.data});default:return e}}}},function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports={dictionary:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"LIST_DICTIONARY":return n({},e,t.data);case"LIST_ADMIN":return n({},e,{admin_list:t.data});case"GET_LOGIN_DATA":return n({},e,{admin_data:t.data});default:return e}}}},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports={product:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"GET_COUNTRY":return a({},e,{country:[].concat(n(t.data))});case"GET_CITY":return a({},e,{city:[].concat(n(t.data))});case"GET_PRODUCT":return a({},e,{product:[].concat(n(t.data))});case"PRODUCT_DETAIL":return a({},e,{detail:t.data});case"PRODUCT_COLLAPSE_PACKAGE_IDS":return a({},e,{collapsePackageIds:t.data});default:return e}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n(82),r=(n(139),n(49)),l=n(190).support,o=n(184).dictionary,u=n(53).list,c=n(53).search,s=n(53).select,i=n(183).tree,d=n(191).getItemData,f=n(185).product,p=n(188).report,m=n(189).reserve,v=n(187).refuse_list;t.default=(0,a.combineReducers)({support:l,list:u,search:c,tree:i,product:f,getItemData:d,select:s,reserve:m,dictionary:o,report:p,refuse_list:v,routing:r.routerReducer})},function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports={refuse_list:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"REFUSE_LIST":return n({},e,t.data);case"SELECTED_REFUSE_LIST":return n({},e,{selected:t.data});default:return e}}}},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports={report:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"SETTLEPRICE_SUM":return a({},e,{settlePrice_sum:t.data});case"DAILY_LIST":return a({},e,{order_dailyList:t.data});case"PAYMENTSTATUS":return a({},e,{order_paymentStatus:t.data});case"MONTH_LIST":return a({},e,{order_monthList:t.data});case"MONTH_PRODUCTRANK":return a({},e,{order_monthProductRank:t.data});case"DAILY_PRODUCTRANK":return a({},e,{order_dailyProductRank:t.data});case"DASHBOARD111":return a({},e,{list_productAnalyze:[].concat(n(t.data))});default:return e}}}},function(e,t){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports={reserve:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"GET_UPDATE_RESERVE":return a({},e,{get_reserve:t.data});case"IS_HANDLE":return a({},e,{is_handle:t.data});case"ROOM_STAY_LIST":return a({},e,{room_stay:t.data});case"HANDLE_IDS":return a({},e,{handle_ids:[].concat(n(t.data))});case"RESERVE_NEED_CORPORATION":return a({},e,{need_corporation:t.data});case"RESERVE_STATISTICS":return a({},e,{statistics:t.data});default:return e}}}},function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports={support:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){
case"LIST_SUPPORT_SWITCH":return n({},e,{switch_type:t.data});case"SEARCH_TYPE":return n({},e,{search_type:t.data});case"ADD_RESERVE_WORK":return n({},e,{add_work:t.data});case"UPDATE_RESERVE_WORK":return n({},e,{update_work:t.data});case"TELLINE_SUPPORT":return n({},e,{tellineList:t.data});case"LIST_MESSAGE":return n({},e,{list_message:t.data});case"SUPPORT_SELECT":return n({},e,{support_select:t.data});case"SUPPORT_CORPORATION_OVER":return n({},e,{corporation_over:t.data});default:return e}}}},function(e,t){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e};e.exports={getItemData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case"GET_TICKET":return n({},e,{ticket:t.data});case"SHOW_USER_DETAIL":return n({},e,{user_detail:t.data});case"GET_QUICK":return n({},e,{quick:t.data});default:return e}}}},,,,,function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){}]);